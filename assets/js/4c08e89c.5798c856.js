"use strict";(self.webpackChunknapi_www=self.webpackChunknapi_www||[]).push([[7431],{19254:n=>{n.exports=JSON.parse('{"archive":{"blogPosts":[{"id":"cifs-mount-linux","metadata":{"permalink":"/recipes/cifs-mount-linux","source":"@site/techblog/2026-02-11-cifs-mount-linux/index.md","title":"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0441\u0435\u0442\u0435\u0432\u044b\u0445 \u043f\u0430\u043f\u043e\u043a CIFS \u0432 Linux","description":"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u043c \u0441\u0435\u0442\u0435\u0432\u044b\u0435 \u043f\u0430\u043f\u043a\u0438 (\u0448\u0430\u0440\u044b) \u0432 Linux \u0438\u0437 \u043a\u043e\u043c\u0430\u043d\u0434\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438. \u041f\u0440\u043e\u0441\u0442\u044b\u0435 \u0441\u043f\u043e\u0441\u043e\u0431\u044b \u043c\u043e\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f CIFS/SMB \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432.","date":"2026-02-11T00:00:00.000Z","tags":[{"inline":true,"label":"cifs","permalink":"/recipes/tags/cifs"},{"inline":true,"label":"smb","permalink":"/recipes/tags/smb"},{"inline":true,"label":"samba","permalink":"/recipes/tags/samba"},{"inline":true,"label":"share","permalink":"/recipes/tags/share"},{"inline":true,"label":"filesystem","permalink":"/recipes/tags/filesystem"}],"readingTime":0.875,"hasTruncateMarker":true,"authors":[{"name":"dmn","title":"maintainer","url":"https://github.com/dmnovikov","imageURL":"https://avatars.githubusercontent.com/u/17533288?v=4","key":"dmn"}],"frontMatter":{"slug":"cifs-mount-linux","title":"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0441\u0435\u0442\u0435\u0432\u044b\u0445 \u043f\u0430\u043f\u043e\u043a CIFS \u0432 Linux","authors":"dmn","tags":["cifs","smb","samba","share","filesystem"]},"unlisted":false,"nextItem":{"title":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0438 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 CAN \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 \u0432 Linux","permalink":"/recipes/can-interface-setup"}},"content":"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u043c \u0441\u0435\u0442\u0435\u0432\u044b\u0435 \u043f\u0430\u043f\u043a\u0438 (\u0448\u0430\u0440\u044b) \u0432 Linux \u0438\u0437 \u043a\u043e\u043c\u0430\u043d\u0434\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438. \u041f\u0440\u043e\u0441\u0442\u044b\u0435 \u0441\u043f\u043e\u0441\u043e\u0431\u044b \u043c\u043e\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f CIFS/SMB \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432.\\n\\n\x3c!--truncate--\x3e\\n\\n## \u041f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f\\n\\n\u041f\u0440\u0435\u0434\u043f\u043e\u043b\u0430\u0433\u0430\u0435\u043c, \u0447\u0442\u043e:\\n- \u043d\u0430\u0448 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0432 Linux - `dmn`\\n- \u0441\u0435\u0442\u0435\u0432\u0430\u044f \u043f\u0430\u043f\u043a\u0430 \u043d\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f `share`\\n- \u0442\u043e\u0447\u043a\u0430 \u043c\u043e\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f - `/home/dmn/dnld`\\n\\n## \u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0431\u0435\u0437 \u043f\u0430\u0440\u043e\u043b\u044f (\u0433\u043e\u0441\u0442\u0435\u0432\u043e\u0439 \u0434\u043e\u0441\u0442\u0443\u043f)\\n\\n\u0414\u043b\u044f \u043f\u0443\u0431\u043b\u0438\u0447\u043d\u044b\u0445 \u043f\u0430\u043f\u043e\u043a \u0438\u043b\u0438 \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432 \u0441 \u0433\u043e\u0441\u0442\u0435\u0432\u044b\u043c \u0434\u043e\u0441\u0442\u0443\u043f\u043e\u043c:\\n\\n```shell\\nsudo mount -t cifs //<IP>/share /home/dmn/dnld \\\\\\n  -o guest,uid=dmn,gid=dmn,iocharset=utf8\\n```\\n\\n## \u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0441 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0435\u0439\\n\\n\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u043c \u043b\u043e\u0433\u0438\u043d\u043e\u043c \u0438 \u043f\u0430\u0440\u043e\u043b\u0435\u043c:\\n\\n```shell\\nsudo mount -t cifs //<ip>/share /home/dmn/dnld \\\\\\n  -o username=dmn,uid=dmn,gid=dmn,iocharset=utf8\\n```\\n\\n\u041f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0438\u0442 \u043f\u0430\u0440\u043e\u043b\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.\\n\\n## \u041e\u0431\u044a\u044f\u0441\u043d\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432\\n\\n- **-t cifs** - \u0442\u0438\u043f \u0444\u0430\u0439\u043b\u043e\u0432\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b\\n- **guest** - \u0433\u043e\u0441\u0442\u0435\u0432\u043e\u0439 \u0434\u043e\u0441\u0442\u0443\u043f \u0431\u0435\u0437 \u043f\u0430\u0440\u043e\u043b\u044f\\n- **username=dmn** - \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0434\u043b\u044f \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438\\n- **uid=dmn,gid=dmn** - \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 \u0444\u0430\u0439\u043b\u043e\u0432 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u043c\u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e\\n- **iocharset=utf8** - \u043a\u043e\u0434\u0438\u0440\u043e\u0432\u043a\u0430 \u0434\u043b\u044f \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0433\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0440\u0443\u0441\u0441\u043a\u0438\u0445 \u0438\u043c\u0451\u043d \u0444\u0430\u0439\u043b\u043e\u0432\\n\\n## \u041e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0441\u0435\u0442\u0435\u0432\u043e\u0439 \u043f\u0430\u043f\u043a\u0438\\n\\n\u0414\u043b\u044f \u0440\u0430\u0437\u043c\u043e\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f:\\n\\n```shell\\nsudo umount /home/dmn/dnld\\n```\\n\\n## \u041f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u043e\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435\\n\\n\u0414\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u043c\u043e\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0437\u0430\u043f\u0438\u0441\u044c \u0432 `/etc/fstab`:\\n\\n```\\n//<IP>/share /home/dmn/dnld cifs username=dmn,uid=dmn,gid=dmn,iocharset=utf8 0 0\\n```\\n\\n\u042d\u0442\u0438 \u043c\u0435\u0442\u043e\u0434\u044b \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0442 \u043b\u0435\u0433\u043a\u043e \u0438\u043d\u0442\u0435\u0433\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0435\u0442\u0435\u0432\u044b\u0435 \u0440\u0435\u0441\u0443\u0440\u0441\u044b Windows/Samba \u0432 Linux \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435."},{"id":"can-interface-setup","metadata":{"permalink":"/recipes/can-interface-setup","source":"@site/techblog/2026-02-04-can-interface-setup/index.md","title":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0438 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 CAN \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 \u0432 Linux","description":"CAN \u0432 Linux \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d \u043a\u0430\u043a \u0441\u0435\u0442\u0435\u0432\u043e\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441. \u0420\u0430\u0437\u0431\u0435\u0440\u0435\u043c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0443 \u0438 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 CAN \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430.","date":"2026-02-04T00:00:00.000Z","tags":[{"inline":true,"label":"can","permalink":"/recipes/tags/can"},{"inline":true,"label":"socketcan","permalink":"/recipes/tags/socketcan"},{"inline":true,"label":"can-utils","permalink":"/recipes/tags/can-utils"},{"inline":true,"label":"network","permalink":"/recipes/tags/network"},{"inline":true,"label":"automotive","permalink":"/recipes/tags/automotive"}],"readingTime":2.78,"hasTruncateMarker":false,"authors":[{"name":"dmn","title":"maintainer","url":"https://github.com/dmnovikov","imageURL":"https://avatars.githubusercontent.com/u/17533288?v=4","key":"dmn"}],"frontMatter":{"slug":"can-interface-setup","title":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0438 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 CAN \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 \u0432 Linux","authors":"dmn","tags":["can","socketcan","can-utils","network","automotive"],"telegram_id":39},"unlisted":false,"prevItem":{"title":"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0441\u0435\u0442\u0435\u0432\u044b\u0445 \u043f\u0430\u043f\u043e\u043a CIFS \u0432 Linux","permalink":"/recipes/cifs-mount-linux"},"nextItem":{"title":"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0432\u0435\u0442\u043e\u0434\u0438\u043e\u0434\u0430\u043c\u0438 Ethernet \u0447\u0435\u0440\u0435\u0437 MDIO","permalink":"/recipes/ethernet-led-control"}},"content":"CAN \u0432 Linux \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d \u043a\u0430\u043a \u0441\u0435\u0442\u0435\u0432\u043e\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441. \u0420\u0430\u0437\u0431\u0435\u0440\u0435\u043c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0443 \u0438 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 CAN \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430.\\n\\n## \u041e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u0438 CAN \u0432 Linux\\n\\n\ud83d\udd25 **\u0418\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u0430\u044f \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u044c**: CAN \u0432 Linux - \u044d\u0442\u043e \u0441\u0435\u0442\u0435\u0432\u043e\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441, \u043d\u043e:\\n- \u041d\u0430 \u043d\u0435\u0433\u043e \u043d\u0435\u043b\u044c\u0437\u044f \u043d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c IP \u0430\u0434\u0440\u0435\u0441\\n- \u0423\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437 \u043a\u043e\u043c\u0430\u043d\u0434\u044b `ip link`\\n- \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 CAN \u0441\u043e\u043a\u0435\u0442\u044b\\n\\n## \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 CAN \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430\\n\\n### \u0411\u0430\u0437\u043e\u0432\u0430\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f:\\n```bash\\n# \u041e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\\nip link set can0 down\\n\\n# \u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b CAN\\nip link set can0 type can bitrate 500000 restart-ms 100\\n\\n# \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\\nip link set can0 up\\n```\\n\\n### \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438:\\n- **bitrate 500000** - \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c 500 \u043a\u0431\u0438\u0442/\u0441\\n- **restart-ms 100** - \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a \u0447\u0435\u0440\u0435\u0437 100 \u043c\u0441 \u043f\u0440\u0438 \u043e\u0448\u0438\u0431\u043a\u0430\u0445\\n\\n## \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0443\u0442\u0438\u043b\u0438\u0442\\n\\n```bash\\napt install can-utils\\n```\\n\\n**\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0443\u0442\u0438\u043b\u0438\u0442\u044b:**\\n- **cansend** - \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 CAN \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439\\n- **candump** - \u043f\u0440\u043e\u0441\u043b\u0443\u0448\u0438\u0432\u0430\u043d\u0438\u0435 CAN \u0442\u0440\u0430\u0444\u0438\u043a\u0430  \\n- **cansequence** - \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439\\n- **cangen** - \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438\\n\\n## \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 loopback\\n\\n### \u041f\u0440\u043e\u0441\u043b\u0443\u0448\u0438\u0432\u0430\u043d\u0438\u0435 \u0432 \u043e\u0434\u043d\u043e\u0439 \u0441\u0435\u0441\u0441\u0438\u0438:\\n```bash\\ncandump -L can0\\n```\\n\u0424\u043b\u0430\u0433 `-L` \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0445 (loopback) \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439.\\n\\n### \u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0432 \u0434\u0440\u0443\u0433\u043e\u0439 \u0441\u0435\u0441\u0441\u0438\u0438:\\n```bash\\ncansend can0 123#11223344\\n```\\n\\n**\u0424\u043e\u0440\u043c\u0430\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f:**\\n- **123** - CAN ID (hex)\\n- **#** - \u0440\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u0435\u043b\u044c  \\n- **11223344** - \u0434\u0430\u043d\u043d\u044b\u0435 (hex, \u0434\u043e 8 \u0431\u0430\u0439\u0442)\\n\\n### \u041e\u0436\u0438\u0434\u0430\u0435\u043c\u044b\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442:\\n```\\n(1769774861.028890) can0 123#11223344\\n```\\n\\n## \u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u044b\\n\\n### \u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439:\\n```bash\\n# \u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 ID \u0441 \u0434\u0430\u043d\u043d\u044b\u043c\u0438\\ncansend can0 456#AABBCCDD\\n\\n# \u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u044b\u0439 ID (29 \u0431\u0438\u0442)\\ncansend can0 80000001#1122334455667788\\n\\n# RTR (Remote Transmission Request)\\ncansend can0 123#R\\n\\n# \u0411\u0435\u0437 \u0434\u0430\u043d\u043d\u044b\u0445\\ncansend can0 789#\\n```\\n\\n### \u0424\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044f \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439:\\n```bash\\n# \u0422\u043e\u043b\u044c\u043a\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0439 ID\\ncandump can0,123:7FF\\n\\n# \u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d ID\\ncandump can0,100:700\\n\\n# \u0418\u0441\u043a\u043b\u044e\u0447\u0438\u0442\u044c ID\\ncandump can0,0:0 -v\\n```\\n\\n## \u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 \u0438 \u0434\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a\u0430\\n\\n### \u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430:\\n```bash\\n# \u041e\u0431\u0449\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f\\nip -details link show can0\\n\\n# CAN-\u0441\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u043d\u044b\u0435 \u0441\u0447\u0435\u0442\u0447\u0438\u043a\u0438\\ncat /proc/net/can/stats\\n```\\n\\n### \u041e\u0448\u0438\u0431\u043a\u0438 \u0438 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435:\\n```bash\\n# \u0421\u0447\u0435\u0442\u0447\u0438\u043a\u0438 \u043e\u0448\u0438\u0431\u043e\u043a\\ncandump can0 -e\\n\\n# \u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043f\u043e \u0443\u0437\u043b\u0430\u043c\\ncat /proc/net/can/rcvlist_all\\n```\\n\\n## \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438\\n\\n### \u0421\u043a\u0440\u0438\u043f\u0442 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438:\\n```bash\\n#!/bin/bash\\n# can_setup.sh\\n\\nCAN_INTERFACE=\\"can0\\"\\nCAN_BITRATE=\\"500000\\"\\n\\nsetup_can() {\\n    echo \\"Setting up CAN interface $CAN_INTERFACE...\\"\\n    \\n    # Stop interface\\n    ip link set $CAN_INTERFACE down 2>/dev/null\\n    \\n    # Configure CAN parameters\\n    ip link set $CAN_INTERFACE type can bitrate $CAN_BITRATE restart-ms 100\\n    \\n    # Start interface\\n    ip link set $CAN_INTERFACE up\\n    \\n    if [ $? -eq 0 ]; then\\n        echo \\"CAN interface $CAN_INTERFACE configured successfully\\"\\n        ip link show $CAN_INTERFACE\\n    else\\n        echo \\"Failed to configure CAN interface\\"\\n        exit 1\\n    fi\\n}\\n\\ntest_can() {\\n    echo \\"Testing CAN interface...\\"\\n    \\n    # Start candump in background\\n    candump -L $CAN_INTERFACE &\\n    CANDUMP_PID=$!\\n    \\n    sleep 1\\n    \\n    # Send test message\\n    cansend $CAN_INTERFACE 123#DEADBEEF\\n    \\n    sleep 1\\n    \\n    # Stop candump\\n    kill $CANDUMP_PID 2>/dev/null\\n    \\n    echo \\"Test completed\\"\\n}\\n\\ncase \\"$1\\" in\\n    setup)\\n        setup_can\\n        ;;\\n    test)\\n        test_can\\n        ;;\\n    both)\\n        setup_can\\n        test_can\\n        ;;\\n    *)\\n        echo \\"Usage: $0 {setup|test|both}\\"\\n        ;;\\nesac\\n```\\n\\n## Systemd \u0441\u0435\u0440\u0432\u0438\u0441\\n\\n### \u0410\u0432\u0442\u043e\u0437\u0430\u043f\u0443\u0441\u043a CAN \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430:\\n```ini\\n[Unit]\\nDescription=CAN Interface Setup\\nAfter=network.target\\n\\n[Service]\\nType=oneshot\\nExecStart=/bin/bash -c \'ip link set can0 down; ip link set can0 type can bitrate 500000 restart-ms 100; ip link set can0 up\'\\nExecStop=/bin/bash -c \'ip link set can0 down\'\\nRemainAfterExit=yes\\n\\n[Install]\\nWantedBy=multi-user.target\\n```\\n\\n## \u041e\u0442\u043b\u0430\u0434\u043a\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\\n\\n### \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u0430:\\n```bash\\n# \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 CAN \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b\\nls /sys/class/net/ | grep can\\n\\n# \u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u0430\\ndmesg | grep can\\n```\\n\\n### \u0422\u0438\u043f\u0438\u0447\u043d\u044b\u0435 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b:\\n```bash\\n# \u0418\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\\nmodprobe can\\nmodprobe can-dev\\nmodprobe vcan  # \u0434\u043b\u044f \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0433\u043e CAN\\n\\n# \u041f\u0440\u0430\u0432\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u0430\\nsudo usermod -a -G dialout $USER\\n```\\n\\n\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 CAN \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 \u0432 Linux \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0435\u0442 \u043f\u043e\u043b\u043d\u043e\u0446\u0435\u043d\u043d\u0443\u044e \u0440\u0430\u0431\u043e\u0442\u0443 \u0441 CAN \u0448\u0438\u043d\u0430\u043c\u0438 \u0432 \u043f\u0440\u043e\u043c\u044b\u0448\u043b\u0435\u043d\u043d\u044b\u0445 \u0438 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0445 \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u044f\u0445 \u0447\u0435\u0440\u0435\u0437 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0435 \u0441\u0435\u0442\u0435\u0432\u044b\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b."},{"id":"ethernet-led-control","metadata":{"permalink":"/recipes/ethernet-led-control","source":"@site/techblog/2026-01-27-ethernet-led-control/index.md","title":"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0432\u0435\u0442\u043e\u0434\u0438\u043e\u0434\u0430\u043c\u0438 Ethernet \u0447\u0435\u0440\u0435\u0437 MDIO","description":"\u0423\u0442\u0438\u043b\u0438\u0442\u0430 \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f MDIO \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u043c\u0438, \u0432 \u0447\u0430\u0441\u0442\u043d\u043e\u0441\u0442\u0438 \u043f\u043e\u0434\u0441\u0432\u0435\u0442\u043a\u043e\u0439 \u0438\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440\u043e\u0432 Ethernet \u043f\u043e\u0440\u0442\u043e\u0432.","date":"2026-01-27T00:00:00.000Z","tags":[{"inline":true,"label":"ethernet","permalink":"/recipes/tags/ethernet"},{"inline":true,"label":"mdio","permalink":"/recipes/tags/mdio"},{"inline":true,"label":"led","permalink":"/recipes/tags/led"},{"inline":true,"label":"phytool","permalink":"/recipes/tags/phytool"},{"inline":true,"label":"network","permalink":"/recipes/tags/network"}],"readingTime":2.545,"hasTruncateMarker":false,"authors":[{"name":"dmn","title":"maintainer","url":"https://github.com/dmnovikov","imageURL":"https://avatars.githubusercontent.com/u/17533288?v=4","key":"dmn"}],"frontMatter":{"slug":"ethernet-led-control","title":"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0432\u0435\u0442\u043e\u0434\u0438\u043e\u0434\u0430\u043c\u0438 Ethernet \u0447\u0435\u0440\u0435\u0437 MDIO","authors":"dmn","tags":["ethernet","mdio","led","phytool","network"],"telegram_id":38},"unlisted":false,"prevItem":{"title":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0438 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 CAN \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 \u0432 Linux","permalink":"/recipes/can-interface-setup"},"nextItem":{"title":"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0433\u043e ID \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440\u0430 Rockchip","permalink":"/recipes/cpu-unique-id"}},"content":"\u0423\u0442\u0438\u043b\u0438\u0442\u0430 \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f MDIO \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u043c\u0438, \u0432 \u0447\u0430\u0441\u0442\u043d\u043e\u0441\u0442\u0438 \u043f\u043e\u0434\u0441\u0432\u0435\u0442\u043a\u043e\u0439 \u0438\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440\u043e\u0432 Ethernet \u043f\u043e\u0440\u0442\u043e\u0432.\\n\\n## \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 phytool\\n\\n```bash\\ngit clone https://github.com/wkz/phytool.git\\ncd phytool\\nmake\\n```\\n\\n## \u041a\u043b\u0430\u0441\u0441\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f LED\\n\\n**\u041b\u0435\u0432\u044b\u0439 (\u0437\u0435\u043b\u0451\u043d\u044b\u0439) - Link, \u043f\u0440\u0430\u0432\u044b\u0439 (\u0440\u044b\u0436\u0438\u0439) - Activity:**\\n\\n```bash\\n# \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 LED \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438\\n./phytool write wan/0/0x1f 0x0d04\\n\\n# (\u041e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e) \u043e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c EEE LED \u0432\u043b\u0438\u044f\u043d\u0438\u0435\\n./phytool write wan/0/0x11 0x0000\\n\\n# \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c: LED1=Link(any speed), LED2=Activity\\n./phytool write wan/0/0x10 0xC160\\n\\n# \u0412\u0435\u0440\u043d\u0443\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 0\\n./phytool write wan/0/0x1f 0x0000\\n```\\n\\n## \u0410\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u0430\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f\\n\\n**\u041b\u0435\u0432\u044b\u0439 (\u0437\u0435\u043b\u0451\u043d\u044b\u0439) - Link+Activity 10Mbit, \u043f\u0440\u0430\u0432\u044b\u0439 (\u0440\u044b\u0436\u0438\u0439) - Link+Activity 100+Mbit:**\\n\\n```bash\\n# \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 LED \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438  \\n./phytool write wan/0/0x1f 0x0d04\\n\\n# (\u041e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e) \u043e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c EEE LED \u0432\u043b\u0438\u044f\u043d\u0438\u0435\\n./phytool write wan/0/0x11 0x0000\\n\\n# \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u0431\u0438\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0443\u044e \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e\\n./phytool write wan/0/0x10 0x6251\\n\\n# \u0412\u0435\u0440\u043d\u0443\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 0\\n./phytool write wan/0/0x1f 0x0000\\n```\\n\\n## \u0420\u0430\u0437\u0431\u043e\u0440 \u043a\u043e\u043c\u0430\u043d\u0434\\n\\n### \u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446 MDIO:\\n```bash\\n./phytool write wan/0/0x1f 0x0d04  # \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 LED \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438\\n./phytool write wan/0/0x1f 0x0000  # \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 0 (\u043e\u0441\u043d\u043e\u0432\u043d\u0430\u044f)\\n```\\n\\n### \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f LED:\\n- **0x10** - \u0440\u0435\u0433\u0438\u0441\u0442\u0440 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 LED\\n- **0x11** - \u0440\u0435\u0433\u0438\u0441\u0442\u0440 EEE LED \u0432\u043b\u0438\u044f\u043d\u0438\u044f\\n- **0xC160** - Link \u043d\u0430 LED1, Activity \u043d\u0430 LED2\\n- **0x6251** - Link+Activity \u0441 \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435\u043c \u043f\u043e \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u0438\\n\\n## \u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 LED\\n\\n### \u0422\u0438\u043f\u044b \u0438\u043d\u0434\u0438\u043a\u0430\u0446\u0438\u0438:\\n- **Link** - \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u043e\u0435 \u0441\u0432\u0435\u0447\u0435\u043d\u0438\u0435 \u043f\u0440\u0438 \u043d\u0430\u043b\u0438\u0447\u0438\u0438 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f\\n- **Activity** - \u043c\u0438\u0433\u0430\u043d\u0438\u0435 \u043f\u0440\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0435 \u0434\u0430\u043d\u043d\u044b\u0445\\n- **Speed** - \u0440\u0430\u0437\u043b\u0438\u0447\u0438\u0435 \u043f\u043e \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u0438 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f (10/100/1000 Mbit)\\n- **Duplex** - \u043f\u043e\u043b\u043d\u044b\u0439/\u043f\u043e\u043b\u0443\u0434\u0443\u043f\u043b\u0435\u043a\u0441 \u0440\u0435\u0436\u0438\u043c\\n\\n### \u0426\u0432\u0435\u0442\u043e\u0432\u0430\u044f \u0441\u0445\u0435\u043c\u0430:\\n- **\u0417\u0435\u043b\u0451\u043d\u044b\u0439** - \u043e\u0431\u044b\u0447\u043d\u043e Link \u0438\u043b\u0438 \u043d\u0438\u0437\u043a\u0438\u0435 \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u0438\\n- **\u0420\u044b\u0436\u0438\u0439/\u0416\u0451\u043b\u0442\u044b\u0439** - Activity \u0438\u043b\u0438 \u0432\u044b\u0441\u043e\u043a\u0438\u0435 \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u0438\\n\\n## \u0427\u0442\u0435\u043d\u0438\u0435 \u0442\u0435\u043a\u0443\u0449\u0438\u0445 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a\\n\\n### \u0427\u0442\u0435\u043d\u0438\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u043e\u0432 LED:\\n```bash\\n# \u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 LED\\n./phytool write wan/0/0x1f 0x0d04\\n\\n# \u041f\u0440\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e\\n./phytool read wan/0/0x10\\n./phytool read wan/0/0x11\\n\\n# \u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 0\\n./phytool write wan/0/0x1f 0x0000\\n```\\n\\n### \u0427\u0442\u0435\u043d\u0438\u0435 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438:\\n```bash\\n# ID \u0447\u0438\u043f\u0430 PHY\\n./phytool read wan/0/0x02\\n./phytool read wan/0/0x03\\n\\n# \u0421\u0442\u0430\u0442\u0443\u0441 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f\\n./phytool read wan/0/0x01\\n```\\n\\n## \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438\\n\\n### \u0421\u043a\u0440\u0438\u043f\u0442 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 LED:\\n```bash\\n#!/bin/bash\\n# ethernet_led_setup.sh\\n\\nPHYTOOL=\\"./phytool\\"\\nINTERFACE=\\"wan/0\\"\\n\\nsetup_classic_leds() {\\n    echo \\"Setting up classic LED configuration...\\"\\n    \\n    # LED configuration page\\n    $PHYTOOL write $INTERFACE/0x1f 0x0d04\\n    \\n    # Disable EEE LED influence\\n    $PHYTOOL write $INTERFACE/0x11 0x0000\\n    \\n    # LED1=Link, LED2=Activity\\n    $PHYTOOL write $INTERFACE/0x10 0xC160\\n    \\n    # Return to page 0\\n    $PHYTOOL write $INTERFACE/0x1f 0x0000\\n    \\n    echo \\"Classic LED configuration applied\\"\\n}\\n\\nsetup_speed_leds() {\\n    echo \\"Setting up speed-based LED configuration...\\"\\n    \\n    # LED configuration page\\n    $PHYTOOL write $INTERFACE/0x1f 0x0d04\\n    \\n    # Disable EEE LED influence\\n    $PHYTOOL write $INTERFACE/0x11 0x0000\\n    \\n    # Speed-based configuration\\n    $PHYTOOL write $INTERFACE/0x10 0x6251\\n    \\n    # Return to page 0\\n    $PHYTOOL write $INTERFACE/0x1f 0x0000\\n    \\n    echo \\"Speed-based LED configuration applied\\"\\n}\\n\\n# \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\\ncase \\"$1\\" in\\n    classic)\\n        setup_classic_leds\\n        ;;\\n    speed)\\n        setup_speed_leds\\n        ;;\\n    *)\\n        echo \\"Usage: $0 {classic|speed}\\"\\n        echo \\"  classic - Link + Activity LEDs\\"\\n        echo \\"  speed   - Speed-based Link+Activity LEDs\\"\\n        ;;\\nesac\\n```\\n\\n## \u041e\u0442\u043b\u0430\u0434\u043a\u0430 \u0438 \u0434\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a\u0430\\n\\n### \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u0438 PHY:\\n```bash\\n# \u0421\u043a\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 MDIO \u0448\u0438\u043d\u044b\\n./phytool list\\n```\\n\\n### \u0414\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a\u0430 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f:\\n```bash\\n# \u0421\u0442\u0430\u0442\u0443\u0441 Link\\n./phytool read wan/0/0x01\\n\\n# \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u0435\\n./phytool read wan/0/0x05\\n```\\n\\n### \u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u0438:\\n```bash\\n# 100Mbit, Full Duplex\\n./phytool write wan/0/0x00 0x2100\\n\\n# \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u0435\\n./phytool write wan/0/0x00 0x1000\\n```\\n\\n\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 LED \u0438\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440\u043e\u0432 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0430\u0434\u0430\u043f\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u0438\u0437\u0443\u0430\u043b\u044c\u043d\u0443\u044e \u0438\u043d\u0434\u0438\u043a\u0430\u0446\u0438\u044e Ethernet \u043f\u043e\u0440\u0442\u043e\u0432 \u043f\u043e\u0434 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0435 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0438 \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0442\u044c \u0443\u0434\u043e\u0431\u043d\u0443\u044e \u0434\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a\u0443 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u0441\u0435\u0442\u0435\u0432\u044b\u0445 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0439."},{"id":"cpu-unique-id","metadata":{"permalink":"/recipes/cpu-unique-id","source":"@site/techblog/2026-01-17-cpu-unique-id/index.md","title":"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0433\u043e ID \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440\u0430 Rockchip","description":"\u041a\u0430\u043a \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439 ID \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440\u0430 \u0434\u043b\u044f \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u0430 NAPI-C/NAPI-P/NAPI-S.","date":"2026-01-17T00:00:00.000Z","tags":[{"inline":true,"label":"cpu-id","permalink":"/recipes/tags/cpu-id"},{"inline":true,"label":"rockchip","permalink":"/recipes/tags/rockchip"},{"inline":true,"label":"otp","permalink":"/recipes/tags/otp"},{"inline":true,"label":"unique-identifier","permalink":"/recipes/tags/unique-identifier"},{"inline":true,"label":"security","permalink":"/recipes/tags/security"}],"readingTime":2.22,"hasTruncateMarker":false,"authors":[{"name":"dmn","title":"maintainer","url":"https://github.com/dmnovikov","imageURL":"https://avatars.githubusercontent.com/u/17533288?v=4","key":"dmn"}],"frontMatter":{"slug":"cpu-unique-id","title":"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0433\u043e ID \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440\u0430 Rockchip","authors":"dmn","tags":["cpu-id","rockchip","otp","unique-identifier","security"],"telegram_id":36},"unlisted":false,"prevItem":{"title":"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0432\u0435\u0442\u043e\u0434\u0438\u043e\u0434\u0430\u043c\u0438 Ethernet \u0447\u0435\u0440\u0435\u0437 MDIO","permalink":"/recipes/ethernet-led-control"},"nextItem":{"title":"\u0410\u043d\u0430\u043b\u0438\u0437 \u0441\u0438\u0433\u043d\u0430\u043b\u043e\u0432 Modbus RS485 \u043d\u0430 \u0430\u043d\u0430\u043b\u0438\u0437\u0430\u0442\u043e\u0440\u0435","permalink":"/recipes/modbus-signal-analysis"}},"content":"\u041a\u0430\u043a \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439 ID \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440\u0430 \u0434\u043b\u044f \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u0430 NAPI-C/NAPI-P/NAPI-S.\\n\\n## \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0433\u043e ID\\n\\n```bash\\nID=$(dd if=/sys/bus/nvmem/devices/rockchip-otp0/nvmem bs=1 skip=8 count=8 2>/dev/null | xxd -p)\\necho -n \\"$ID\\" | sha256sum\\n```\\n\\n## \u0420\u0430\u0437\u0431\u043e\u0440 \u043a\u043e\u043c\u0430\u043d\u0434\u044b\\n\\n### 1. \u0427\u0442\u0435\u043d\u0438\u0435 OTP \u043f\u0430\u043c\u044f\u0442\u0438:\\n```bash\\ndd if=/sys/bus/nvmem/devices/rockchip-otp0/nvmem bs=1 skip=8 count=8 2>/dev/null\\n```\\n\\n- **if=** - \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u0434\u0430\u043d\u043d\u044b\u0445 (OTP \u043f\u0430\u043c\u044f\u0442\u044c Rockchip)\\n- **bs=1** - \u0440\u0430\u0437\u043c\u0435\u0440 \u0431\u043b\u043e\u043a\u0430 1 \u0431\u0430\u0439\u0442\\n- **skip=8** - \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043f\u0435\u0440\u0432\u044b\u0435 8 \u0431\u0430\u0439\u0442  \\n- **count=8** - \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0442\u044c 8 \u0431\u0430\u0439\u0442\\n- **2>/dev/null** - \u043f\u043e\u0434\u0430\u0432\u0438\u0442\u044c \u0432\u044b\u0432\u043e\u0434 \u043e\u0448\u0438\u0431\u043e\u043a\\n\\n### 2. \u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0430\u0446\u0438\u044f \u0432 hex:\\n```bash\\nxxd -p\\n```\\n\u041f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u0443\u0435\u0442 \u0431\u0438\u043d\u0430\u0440\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0432 \u0448\u0435\u0441\u0442\u043d\u0430\u0434\u0446\u0430\u0442\u0435\u0440\u0438\u0447\u043d\u0443\u044e \u0441\u0442\u0440\u043e\u043a\u0443.\\n\\n### 3. \u0425\u0435\u0448\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435:\\n```bash\\necho -n \\"$ID\\" | sha256sum\\n```\\n\u0421\u043e\u0437\u0434\u0430\u0435\u0442 SHA256 \u0445\u0435\u0448 \u043e\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u043e\u0433\u043e ID \u0434\u043b\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438.\\n\\n## \u0410\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u043f\u043e\u0441\u043e\u0431\u044b\\n\\n### \u0422\u043e\u043b\u044c\u043a\u043e \u0441\u044b\u0440\u043e\u0439 ID:\\n```bash\\nID=$(dd if=/sys/bus/nvmem/devices/rockchip-otp0/nvmem bs=1 skip=8 count=8 2>/dev/null | xxd -p)\\necho \\"$ID\\"\\n```\\n\\n### \u0411\u043e\u043b\u0435\u0435 \u0434\u043b\u0438\u043d\u043d\u044b\u0439 ID:\\n```bash\\n# \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u0431\u0430\u0439\u0442 \u0438\u0437 OTP\\nID=$(dd if=/sys/bus/nvmem/devices/rockchip-otp0/nvmem bs=1 skip=8 count=16 2>/dev/null | xxd -p)\\necho \\"$ID\\"\\n```\\n\\n### \u041a\u043e\u043c\u0431\u0438\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u043f\u043e\u0434\u0445\u043e\u0434:\\n```bash\\n# CPU ID + MAC \u0430\u0434\u0440\u0435\u0441 \u0434\u043b\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438\\nCPU_ID=$(dd if=/sys/bus/nvmem/devices/rockchip-otp0/nvmem bs=1 skip=8 count=8 2>/dev/null | xxd -p)\\nMAC=$(cat /sys/class/net/eth0/address | tr -d :)\\necho -n \\"${CPU_ID}${MAC}\\" | sha256sum\\n```\\n\\n## \u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\\n\\n### \u0421\u043a\u0440\u0438\u043f\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f ID \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430:\\n```bash\\n#!/bin/bash\\n# get_device_id.sh\\n\\nget_cpu_id() {\\n    local cpu_id=$(dd if=/sys/bus/nvmem/devices/rockchip-otp0/nvmem bs=1 skip=8 count=8 2>/dev/null | xxd -p)\\n    if [ -z \\"$cpu_id\\" ]; then\\n        echo \\"ERROR: Cannot read CPU ID\\" >&2\\n        return 1\\n    fi\\n    echo \\"$cpu_id\\"\\n}\\n\\nget_device_hash() {\\n    local cpu_id=$(get_cpu_id)\\n    if [ $? -eq 0 ]; then\\n        echo -n \\"$cpu_id\\" | sha256sum | cut -d\' \' -f1\\n    fi\\n}\\n\\n# \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\\necho \\"Raw CPU ID: $(get_cpu_id)\\"\\necho \\"Device Hash: $(get_device_hash)\\"\\n```\\n\\n## \u041f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u044f\\n\\n### 1. \u041b\u0438\u0446\u0435\u043d\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u041f\u041e:\\n```bash\\n# \u041f\u0440\u0438\u0432\u044f\u0437\u043a\u0430 \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0438 \u043a \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0443\\nDEVICE_ID=$(dd if=/sys/bus/nvmem/devices/rockchip-otp0/nvmem bs=1 skip=8 count=8 2>/dev/null | xxd -p)\\nLICENSE_CHECK=\\"software_license_${DEVICE_ID}\\"\\n```\\n\\n### 2. \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e:\\n```bash\\n# \u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0435 \u0438\u043c\u044f \u0445\u043e\u0441\u0442\u0430\\nDEVICE_ID=$(dd if=/sys/bus/nvmem/devices/rockchip-otp0/nvmem bs=1 skip=8 count=8 2>/dev/null | xxd -p | cut -c1-8)\\nhostnamectl set-hostname \\"napi-${DEVICE_ID}\\"\\n```\\n\\n### 3. \u041a\u0440\u0438\u043f\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043a\u043b\u044e\u0447\u0438:\\n```bash\\n# \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043a\u043b\u044e\u0447\u0435\u0439 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 hardware ID\\nDEVICE_ID=$(dd if=/sys/bus/nvmem/devices/rockchip-otp0/nvmem bs=1 skip=8 count=8 2>/dev/null | xxd -p)\\nopenssl dgst -sha256 -hmac \\"$DEVICE_ID\\" -binary /dev/urandom | head -c32 > device_key.bin\\n```\\n\\n## \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u0438\\n\\n### \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043d\u0430\u043b\u0438\u0447\u0438\u044f OTP:\\n```bash\\nif [ -e /sys/bus/nvmem/devices/rockchip-otp0/nvmem ]; then\\n    echo \\"OTP \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d\\"\\nelse\\n    echo \\"OTP \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d\\"\\nfi\\n```\\n\\n### \u041f\u0440\u0430\u0432\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u0430:\\n```bash\\n# \u041e\u0431\u044b\u0447\u043d\u043e \u0442\u0440\u0435\u0431\u0443\u044e\u0442\u0441\u044f root \u043f\u0440\u0430\u0432\u0430\\nsudo ls -la /sys/bus/nvmem/devices/rockchip-otp0/nvmem\\n```\\n\\n## \u0421\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c\\n\\n\u0414\u0430\u043d\u043d\u044b\u0439 \u043c\u0435\u0442\u043e\u0434 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043d\u0430:\\n- \u2705 NAPI-C (RK3308)  \\n- \u2705 NAPI-P (RK3308)\\n- \u2705 NAPI-S (RK3308)\\n- \u2705 \u0414\u0440\u0443\u0433\u0438\u0435 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430 \u043d\u0430 \u0431\u0430\u0437\u0435 Rockchip \u0441 OTP\\n\\n\u0414\u043b\u044f \u0434\u0440\u0443\u0433\u0438\u0445 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440\u043e\u0432 \u043f\u0443\u0442\u044c \u043a OTP \u043c\u043e\u0436\u0435\u0442 \u043e\u0442\u043b\u0438\u0447\u0430\u0442\u044c\u0441\u044f.\\n\\n\u042d\u0442\u043e\u0442 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439 ID \u043e\u0441\u0442\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u044b\u043c \u043d\u0430 \u043f\u0440\u043e\u0442\u044f\u0436\u0435\u043d\u0438\u0438 \u0432\u0441\u0435\u0433\u043e \u0441\u0440\u043e\u043a\u0430 \u0441\u043b\u0443\u0436\u0431\u044b \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0437\u0430\u0434\u0430\u0447 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0438 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438."},{"id":"modbus-signal-analysis","metadata":{"permalink":"/recipes/modbus-signal-analysis","source":"@site/techblog/2026-01-17-modbus-signal-analysis/index.md","title":"\u0410\u043d\u0430\u043b\u0438\u0437 \u0441\u0438\u0433\u043d\u0430\u043b\u043e\u0432 Modbus RS485 \u043d\u0430 \u0430\u043d\u0430\u043b\u0438\u0437\u0430\u0442\u043e\u0440\u0435","description":"\u0414\u0435\u043c\u043e\u043d\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438 Modbus \u043f\u0430\u043a\u0435\u0442\u043e\u0432 \u043d\u0430 \u0446\u0438\u0444\u0440\u043e\u0432\u043e\u043c \u0430\u043d\u0430\u043b\u0438\u0437\u0430\u0442\u043e\u0440\u0435 \u0441\u0438\u0433\u043d\u0430\u043b\u043e\u0432 \u043c\u0435\u0436\u0434\u0443 NAPI-C (\u0445\u043e\u0441\u0442) \u0438 \u0443\u0447\u0435\u0431\u043d\u044b\u043c Modbus \u0434\u0430\u0442\u0447\u0438\u043a\u043e\u043c.","date":"2026-01-17T00:00:00.000Z","tags":[{"inline":true,"label":"modbus","permalink":"/recipes/tags/modbus"},{"inline":true,"label":"rs485","permalink":"/recipes/tags/rs-485"},{"inline":true,"label":"signal-analysis","permalink":"/recipes/tags/signal-analysis"},{"inline":true,"label":"rts","permalink":"/recipes/tags/rts"},{"inline":true,"label":"logic-analyzer","permalink":"/recipes/tags/logic-analyzer"}],"readingTime":2.115,"hasTruncateMarker":false,"authors":[{"name":"dmn","title":"maintainer","url":"https://github.com/dmnovikov","imageURL":"https://avatars.githubusercontent.com/u/17533288?v=4","key":"dmn"}],"frontMatter":{"slug":"modbus-signal-analysis","title":"\u0410\u043d\u0430\u043b\u0438\u0437 \u0441\u0438\u0433\u043d\u0430\u043b\u043e\u0432 Modbus RS485 \u043d\u0430 \u0430\u043d\u0430\u043b\u0438\u0437\u0430\u0442\u043e\u0440\u0435","authors":"dmn","tags":["modbus","rs485","signal-analysis","rts","logic-analyzer"],"telegram_id":35},"unlisted":false,"prevItem":{"title":"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0433\u043e ID \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440\u0430 Rockchip","permalink":"/recipes/cpu-unique-id"},"nextItem":{"title":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u043f\u043e\u0440\u0442\u0430 \u0432 Linux","permalink":"/recipes/serial-port-configuration"}},"content":"\u0414\u0435\u043c\u043e\u043d\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438 Modbus \u043f\u0430\u043a\u0435\u0442\u043e\u0432 \u043d\u0430 \u0446\u0438\u0444\u0440\u043e\u0432\u043e\u043c \u0430\u043d\u0430\u043b\u0438\u0437\u0430\u0442\u043e\u0440\u0435 \u0441\u0438\u0433\u043d\u0430\u043b\u043e\u0432 \u043c\u0435\u0436\u0434\u0443 NAPI-C (\u0445\u043e\u0441\u0442) \u0438 \u0443\u0447\u0435\u0431\u043d\u044b\u043c Modbus \u0434\u0430\u0442\u0447\u0438\u043a\u043e\u043c.\\n\\n## \u0421\u0445\u0435\u043c\u0430 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0430\u043d\u0430\u043b\u0438\u0437\u0430\u0442\u043e\u0440\u0430\\n\\n**\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u043a\u0430\u043d\u0430\u043b\u043e\u0432:**\\n1. **\u041a\u0430\u043d\u0430\u043b 1** - RTS \u0445\u043e\u0441\u0442\u0430 (\u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435\u043c)\\n2. **\u041a\u0430\u043d\u0430\u043b 2** - RX \u0445\u043e\u0441\u0442\u0430 (\u043f\u0440\u0438\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0445) \\n3. **\u041a\u0430\u043d\u0430\u043b 3** - TX \u0445\u043e\u0441\u0442\u0430 (\u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0430 \u0434\u0430\u043d\u043d\u044b\u0445)\\n4. **\u041a\u0430\u043d\u0430\u043b 4** - RX \u0434\u0430\u0442\u0447\u0438\u043a\u0430 (\u043f\u0440\u0438\u0435\u043c \u043d\u0430 \u0434\u0430\u0442\u0447\u0438\u043a\u0435)\\n5. **\u041a\u0430\u043d\u0430\u043b 5** - TX \u0434\u0430\u0442\u0447\u0438\u043a\u0430 (\u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0430 \u0441 \u0434\u0430\u0442\u0447\u0438\u043a\u0430)\\n\\n## \u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u044b RS485\\n\\n### \u0424\u0430\u0437\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430:\\n1. **\u0425\u043e\u0441\u0442 \u043f\u043e\u0434\u043d\u0438\u043c\u0430\u0435\u0442 RTS** - \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0438\u0442 \u0448\u0438\u043d\u0443 \u0432 \u0440\u0435\u0436\u0438\u043c \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438\\n2. **\u0425\u043e\u0441\u0442 \u043f\u0435\u0440\u0435\u0434\u0430\u0435\u0442 \u0437\u0430\u043f\u0440\u043e\u0441** - \u0434\u0430\u043d\u043d\u044b\u0435 \u0438\u0434\u0443\u0442 \u043f\u043e TX \u0445\u043e\u0441\u0442\u0430 \u2192 RX \u0434\u0430\u0442\u0447\u0438\u043a\u0430  \\n3. **\u0425\u043e\u0441\u0442 \u043e\u043f\u0443\u0441\u043a\u0430\u0435\u0442 RTS** - \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0438\u0442 \u0448\u0438\u043d\u0443 \u0432 \u0440\u0435\u0436\u0438\u043c \u043f\u0440\u0438\u0435\u043c\u0430\\n\\n### \u0424\u0430\u0437\u0430 \u043e\u0442\u0432\u0435\u0442\u0430:\\n4. **\u0414\u0430\u0442\u0447\u0438\u043a \u043f\u0435\u0440\u0435\u0434\u0430\u0435\u0442 \u043e\u0442\u0432\u0435\u0442** - \u0434\u0430\u043d\u043d\u044b\u0435 \u0438\u0434\u0443\u0442 \u043f\u043e TX \u0434\u0430\u0442\u0447\u0438\u043a\u0430 \u2192 RX \u0445\u043e\u0441\u0442\u0430\\n5. **\u0425\u043e\u0441\u0442 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u043e\u0442\u0432\u0435\u0442** - \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435\\n\\n## \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0445\u043e\u0441\u0442\u0430 (NAPI-C)\\n\\n### \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f UART \u0441 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u044b\u043c RTS:\\n```bash\\nstty -F /dev/ttyS1 9600 cs8 -cstopb -parenb -ixon -ixoff -crtscts\\n```\\n\\n### Overlay \u0434\u043b\u044f RS485 \u0441 GPIO RTS:\\n```dts\\n/dts-v1/;\\n/plugin/;\\n\\n/ {\\n  compatible = \\"rockchip,rk3308\\";\\n  \\n  fragment@0 {\\n    target = <&uart1>;\\n    __overlay__ {\\n      status = \\"okay\\";\\n      linux,rs485-enabled-at-boot-time;\\n      rs485-rts-active-high;\\n      rs485-rts-delay = <0 0>;\\n      rts-gpios = <&gpio2 12 0>;\\n    };\\n  };\\n};\\n```\\n\\n## \u0427\u0442\u043e \u0432\u0438\u0434\u043d\u043e \u043d\u0430 \u0430\u043d\u0430\u043b\u0438\u0437\u0430\u0442\u043e\u0440\u0435\\n\\n### \u0412\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u0434\u0438\u0430\u0433\u0440\u0430\u043c\u043c\u044b:\\n```\\nRTS     : __/\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\\\\______________\\nTX_Host : __/\u30c7\u30fc\u30bf\u30c7\u30fc\u30bf\u30c7\u30fc\u30bf\\\\______________ \\nRX_Dev  : __/\u30c7\u30fc\u30bf\u30c7\u30fc\u30bf\u30c7\u30fc\u30bf\\\\______________\\nTX_Dev  : ___________________/\u30ec\u30b9\u30dd\u30f3\u30b9\\\\__\\nRX_Host : ___________________/\u30ec\u30b9\u30dd\u30f3\u30b9\\\\__\\n```\\n\\n### \u0422\u0438\u043f\u0438\u0447\u043d\u044b\u0435 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b:\\n- **RTS \u2192 TX \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430**: 0-50 \u043c\u043a\u0441\\n- **TX \u2192 RTS \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430**: 0-50 \u043c\u043a\u0441  \\n- **Turnaround \u0432\u0440\u0435\u043c\u044f**: 1-10 \u043c\u0441 \u043c\u0435\u0436\u0434\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u043c \u0438 \u043e\u0442\u0432\u0435\u0442\u043e\u043c\\n\\n## \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0430\u043d\u0430\u043b\u0438\u0437\u0430\\n\\n### \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0430\u043d\u0430\u043b\u0438\u0437\u0430\u0442\u043e\u0440\u0430:\\n- **\u0427\u0430\u0441\u0442\u043e\u0442\u0430 \u0434\u0438\u0441\u043a\u0440\u0435\u0442\u0438\u0437\u0430\u0446\u0438\u0438**: \u043c\u0438\u043d\u0438\u043c\u0443\u043c 10x \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u0438 UART\\n- **\u0411\u0443\u0444\u0435\u0440**: \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u044b\u0439 \u0434\u043b\u044f \u0437\u0430\u0445\u0432\u0430\u0442\u0430 \u0432\u0441\u0435\u0439 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438  \\n- **\u0422\u0440\u0438\u0433\u0433\u0435\u0440**: \u043f\u043e \u0444\u0440\u043e\u043d\u0442\u0443 RTS \u0438\u043b\u0438 \u043d\u0430\u0447\u0430\u043b\u0443 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438\\n\\n### \u0414\u0435\u043a\u043e\u0434\u0435\u0440 \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u0430:\\n```\\n# \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 UART \u0434\u0435\u043a\u043e\u0434\u0435\u0440\u0430\\nBaudrate: 9600\\nData bits: 8\\nParity: None  \\nStop bits: 1\\n```\\n\\n## \u0414\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\\n\\n### \u0422\u0438\u043f\u0438\u0447\u043d\u044b\u0435 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u043d\u0430 \u0434\u0438\u0430\u0433\u0440\u0430\u043c\u043c\u0430\u0445:\\n\\n**1. \u041a\u043e\u043b\u043b\u0438\u0437\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445:**\\n```\\nTX_Host : /\u30c7\u30fc\u30bf\\\\\\nTX_Dev  : /\u30c7\u30fc\u30bf\\\\  \u2190 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0430\\n```\\n\\n**2. \u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0435 \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0438 RTS:**\\n```  \\nRTS     : /\u203e\u203e\u203e\\\\        \u2190 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043a\u043e\u0440\u043e\u0442\u043a\u0438\u0439 \u0438\u043c\u043f\u0443\u043b\u044c\u0441\\nTX_Host :    /\u30c7\u30fc\u30bf\\\\  \u2190 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e\u0431\u0440\u0435\u0437\u0430\u044e\u0442\u0441\u044f\\n```\\n\\n**3. \u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0435 \u043e\u0442\u0432\u0435\u0442\u0430:**\\n```\\nTX_Host : /\u30c7\u30fc\u30bf\\\\____________\\nTX_Dev  : __________________  \u2190 \u043d\u0435\u0442 \u043e\u0442\u0432\u0435\u0442\u0430 \u043e\u0442 \u0434\u0430\u0442\u0447\u0438\u043a\u0430\\n```\\n\\n## \u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u043e\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\\n\\n### \u041a\u043e\u043c\u0430\u043d\u0434\u044b \u0434\u043b\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u0442\u0440\u0430\u0444\u0438\u043a\u0430:\\n```bash\\n# \u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 Modbus \u0437\u0430\u043f\u0440\u043e\u0441\u0430 (\u0447\u0442\u0435\u043d\u0438\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430)\\necho -ne \\"\\\\x01\\\\x03\\\\x00\\\\x00\\\\x00\\\\x01\\\\x84\\\\x0A\\" > /dev/ttyS1\\n\\n# \u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 \u043e\u0442\u0432\u0435\u0442\u0430\\nhexdump -C < /dev/ttyS1\\n```\\n\\n### Python \u0441\u043a\u0440\u0438\u043f\u0442 \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f:\\n```python\\nimport serial\\nimport time\\n\\nser = serial.Serial(\'/dev/ttyS1\', 9600, timeout=1)\\n\\n# Modbus \u0437\u0430\u043f\u0440\u043e\u0441: \u0447\u0442\u0435\u043d\u0438\u0435 1 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430 \u0441 \u0430\u0434\u0440\u0435\u0441\u0430 0\\nrequest = b\'\\\\x01\\\\x03\\\\x00\\\\x00\\\\x00\\\\x01\\\\x84\\\\x0A\'\\nser.write(request)\\ntime.sleep(0.1)\\nresponse = ser.read(16)\\nprint(f\\"Response: {response.hex()}\\")\\n```\\n\\n\u0410\u043d\u0430\u043b\u0438\u0437 \u0441\u0438\u0433\u043d\u0430\u043b\u043e\u0432 \u043d\u0430 \u0430\u043d\u0430\u043b\u0438\u0437\u0430\u0442\u043e\u0440\u0435 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0442\u043e\u0447\u043d\u043e \u0434\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438, \u043a\u043e\u043b\u043b\u0438\u0437\u0438\u0438 \u0438 \u0442\u0430\u0439\u043c\u0438\u043d\u0433\u043e\u0432 \u0432 RS485 \u0441\u0435\u0442\u044f\u0445."},{"id":"serial-port-configuration","metadata":{"permalink":"/recipes/serial-port-configuration","source":"@site/techblog/2025-12-07-serial-port-configuration/index.md","title":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u043f\u043e\u0440\u0442\u0430 \u0432 Linux","description":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u043f\u043e\u0440\u0442\u0430 \u0432 Linux \u043d\u0430 \u043f\u0440\u0438\u043c\u0435\u0440\u0435 ttyS1.","date":"2025-12-07T00:00:00.000Z","tags":[{"inline":true,"label":"uart","permalink":"/recipes/tags/uart"},{"inline":true,"label":"serial","permalink":"/recipes/tags/serial"},{"inline":true,"label":"stty","permalink":"/recipes/tags/stty"},{"inline":true,"label":"linux","permalink":"/recipes/tags/linux"},{"inline":true,"label":"configuration","permalink":"/recipes/tags/configuration"}],"readingTime":2.085,"hasTruncateMarker":false,"authors":[{"name":"dmn","title":"maintainer","url":"https://github.com/dmnovikov","imageURL":"https://avatars.githubusercontent.com/u/17533288?v=4","key":"dmn"}],"frontMatter":{"slug":"serial-port-configuration","title":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u043f\u043e\u0440\u0442\u0430 \u0432 Linux","authors":"dmn","tags":["uart","serial","stty","linux","configuration"],"telegram_id":32},"unlisted":false,"prevItem":{"title":"\u0410\u043d\u0430\u043b\u0438\u0437 \u0441\u0438\u0433\u043d\u0430\u043b\u043e\u0432 Modbus RS485 \u043d\u0430 \u0430\u043d\u0430\u043b\u0438\u0437\u0430\u0442\u043e\u0440\u0435","permalink":"/recipes/modbus-signal-analysis"},"nextItem":{"title":"\u0414\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a\u0430 \u0437\u0430\u043d\u044f\u0442\u043e\u0441\u0442\u0438 GPIO \u043f\u0438\u043d\u043e\u0432 \u0432 Linux","permalink":"/recipes/gpio-pinmux-debug"}},"content":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u043f\u043e\u0440\u0442\u0430 \u0432 Linux \u043d\u0430 \u043f\u0440\u0438\u043c\u0435\u0440\u0435 ttyS1.\\n\\n## \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0442\u0435\u043a\u0443\u0449\u0438\u0445 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432\\n\\n```bash\\nstty -F /dev/ttyS1 -a\\n```\\n\\n### \u041f\u0440\u0438\u043c\u0435\u0440 \u0432\u044b\u0432\u043e\u0434\u0430:\\n```\\nspeed 115200 baud; line = 0;\\n-brkint -icrnl -imaxbel\\nopost -onlcr\\ncs8 -parenb -cstopb\\n```\\n\\n## \u0420\u0430\u0441\u0448\u0438\u0444\u0440\u043e\u0432\u043a\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432\\n\\n### \u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0438 \u0431\u0430\u0437\u043e\u0432\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438:\\n- **speed 115200 baud** - \u0442\u0435\u043a\u0443\u0449\u0430\u044f \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438\\n- **cs8** - 8 \u0431\u0438\u0442 \u0434\u0430\u043d\u043d\u044b\u0445\\n- **-parenb** - \u0431\u0435\u0437 \u0431\u0438\u0442\u0430 \u0447\u0435\u0442\u043d\u043e\u0441\u0442\u0438 (N)\\n- **-cstopb** - 1 \u0441\u0442\u043e\u043f-\u0431\u0438\u0442 (\u0435\u0441\u043b\u0438 **cstopb** \u2192 2 \u0441\u0442\u043e\u043f-\u0431\u0438\u0442\u0430)\\n\\n### \u0423\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0449\u0438\u0435 \u0441\u0438\u0433\u043d\u0430\u043b\u044b:\\n- **-crtscts** - \u043e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0430\u043f\u043f\u0430\u0440\u0430\u0442\u043d\u044b\u0439 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c \u043f\u043e\u0442\u043e\u043a\u0430 RTS/CTS\\n- **-ixon -ixoff** - \u043e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u044b\u0439 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c \u043f\u043e\u0442\u043e\u043a\u0430 XON/XOFF\\n\\n## \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u043f\u043e\u0440\u0442\u0430\\n\\n### \u0422\u0438\u043f\u0438\u0447\u043d\u0430\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f:\\n```bash\\nstty -F /dev/ttyS1 115200 cs8 -cstopb -parenb -ixon -ixoff -crtscts\\n```\\n\\n### \u0420\u0430\u0437\u0431\u043e\u0440 \u043a\u043e\u043c\u0430\u043d\u0434\u044b:\\n- **115200** - \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c 115200 \u0431\u043e\u0434\\n- **cs8** - 8 \u0431\u0438\u0442 \u0434\u0430\u043d\u043d\u044b\u0445  \\n- **-cstopb** - 1 \u0441\u0442\u043e\u043f-\u0431\u0438\u0442\\n- **-parenb** - \u0431\u0435\u0437 \u0447\u0435\u0442\u043d\u043e\u0441\u0442\u0438\\n- **-ixon -ixoff** - \u0431\u0435\u0437 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u043e\u0433\u043e \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044f \u043f\u043e\u0442\u043e\u043a\u0430\\n- **-crtscts** - \u0431\u0435\u0437 \u0430\u043f\u043f\u0430\u0440\u0430\u0442\u043d\u043e\u0433\u043e \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044f \u043f\u043e\u0442\u043e\u043a\u0430\\n\\n## \u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438\\n\\n### Modbus RTU (9600 8N1):\\n```bash\\nstty -F /dev/ttyS1 9600 cs8 -cstopb -parenb -ixon -ixoff -crtscts\\n```\\n\\n### \u041f\u0440\u043e\u043c\u044b\u0448\u043b\u0435\u043d\u043d\u044b\u0435 \u0434\u0430\u0442\u0447\u0438\u043a\u0438 (19200 8E1):\\n```bash\\nstty -F /dev/ttyS1 19200 cs8 -cstopb parenb parodd -ixon -ixoff -crtscts\\n```\\n\\n### GPS \u043c\u043e\u0434\u0443\u043b\u0438 (4800 8N1):\\n```bash\\nstty -F /dev/ttyS1 4800 cs8 -cstopb -parenb -ixon -ixoff -crtscts\\n```\\n\\n## \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0440\u0442\u0430\\n\\n### \u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445:\\n```bash\\necho \\"test message\\" > /dev/ttyS1\\n```\\n\\n### \u0427\u0442\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445:\\n```bash\\ncat /dev/ttyS1\\n```\\n\\n### \u0418\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430:\\n```bash\\n# \u0412 \u043e\u0434\u043d\u043e\u043c \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0435 - \u0447\u0442\u0435\u043d\u0438\u0435\\ncat /dev/ttyS1\\n\\n# \u0412 \u0434\u0440\u0443\u0433\u043e\u043c \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0435 - \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430  \\necho \\"hello\\" > /dev/ttyS1\\n```\\n\\n## \u0421\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u0440\u0435\u0436\u0438\u043c\u044b\\n\\n### Raw \u0440\u0435\u0436\u0438\u043c (\u0431\u0435\u0437 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438):\\n```bash\\nstty -F /dev/ttyS1 raw\\n```\\n\\n### \u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0432 cooked \u0440\u0435\u0436\u0438\u043c:\\n```bash\\nstty -F /dev/ttyS1 cooked\\n```\\n\\n### \u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438:\\n```bash\\nstty -F /dev/ttyS1 115200 raw -echo\\n```\\n\\n## \u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a\\n\\n### \u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0442\u0435\u043a\u0443\u0449\u0438\u0445 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a:\\n```bash\\nstty -F /dev/ttyS1 > /tmp/ttyS1_settings.txt\\n```\\n\\n### \u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a:\\n```bash\\nstty -F /dev/ttyS1 $(cat /tmp/ttyS1_settings.txt)\\n```\\n\\n## \u041e\u0442\u043b\u0430\u0434\u043a\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\\n\\n### \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u0438 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430:\\n```bash\\nls -la /dev/ttyS1\\n```\\n\\n### \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043f\u0440\u0430\u0432 \u0434\u043e\u0441\u0442\u0443\u043f\u0430:\\n```bash\\n# \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0433\u0440\u0443\u043f\u043f\u0443 dialout\\nsudo usermod -a -G dialout $USER\\n```\\n\\n### \u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438:\\n```bash\\n# \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438 \u043f\u043e\u0440\u0442\u0430\\ncat /proc/tty/driver/serial\\n```\\n\\n## \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a\\n\\n### \u0421\u043a\u0440\u0438\u043f\u0442 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438:\\n```bash\\n#!/bin/bash\\n# setup_serial.sh\\nDEVICE=\\"/dev/ttyS1\\"\\nBAUDRATE=\\"115200\\"\\n\\nstty -F $DEVICE $BAUDRATE cs8 -cstopb -parenb -ixon -ixoff -crtscts\\necho \\"Port $DEVICE configured: $BAUDRATE 8N1\\"\\n```\\n\\n### Systemd \u0441\u0435\u0440\u0432\u0438\u0441:\\n```ini\\n[Unit]\\nDescription=Serial Port Setup\\nAfter=multi-user.target\\n\\n[Service]\\nType=oneshot\\nExecStart=/usr/local/bin/setup_serial.sh\\nRemainAfterExit=yes\\n\\n[Install]\\nWantedBy=multi-user.target\\n```\\n\\n\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0430\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u043f\u043e\u0440\u0442\u0430 \u043a\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0432\u0430\u0436\u043d\u0430 \u0434\u043b\u044f \u0441\u0442\u0430\u0431\u0438\u043b\u044c\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u043f\u0440\u043e\u043c\u044b\u0448\u043b\u0435\u043d\u043d\u044b\u043c \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0438 \u0434\u0430\u0442\u0447\u0438\u043a\u0430\u043c\u0438."},{"id":"gpio-pinmux-debug","metadata":{"permalink":"/recipes/gpio-pinmux-debug","source":"@site/techblog/2025-12-01-gpio-pinmux-debug/index.md","title":"\u0414\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a\u0430 \u0437\u0430\u043d\u044f\u0442\u043e\u0441\u0442\u0438 GPIO \u043f\u0438\u043d\u043e\u0432 \u0432 Linux","description":"\u0412 Linux \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0447\u0435\u043c \u0437\u0430\u043d\u044f\u0442\u044b \u0432\u0441\u0435 GPIO \u043f\u0438\u043d\u044b \u0434\u043b\u044f \u0434\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a\u0438 \u043a\u043e\u043d\u0444\u043b\u0438\u043a\u0442\u043e\u0432 \u0438 \u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f.","date":"2025-12-01T00:00:00.000Z","tags":[{"inline":true,"label":"gpio","permalink":"/recipes/tags/gpio"},{"inline":true,"label":"pinmux","permalink":"/recipes/tags/pinmux"},{"inline":true,"label":"debug","permalink":"/recipes/tags/debug"},{"inline":true,"label":"rockchip","permalink":"/recipes/tags/rockchip"},{"inline":true,"label":"pinctrl","permalink":"/recipes/tags/pinctrl"}],"readingTime":2.09,"hasTruncateMarker":false,"authors":[{"name":"dmn","title":"maintainer","url":"https://github.com/dmnovikov","imageURL":"https://avatars.githubusercontent.com/u/17533288?v=4","key":"dmn"}],"frontMatter":{"slug":"gpio-pinmux-debug","title":"\u0414\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a\u0430 \u0437\u0430\u043d\u044f\u0442\u043e\u0441\u0442\u0438 GPIO \u043f\u0438\u043d\u043e\u0432 \u0432 Linux","authors":"dmn","tags":["gpio","pinmux","debug","rockchip","pinctrl"],"telegram_id":30},"unlisted":false,"prevItem":{"title":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u043f\u043e\u0440\u0442\u0430 \u0432 Linux","permalink":"/recipes/serial-port-configuration"},"nextItem":{"title":"Overlay \u0434\u043b\u044f RS485 \u043d\u0430 UART1 \u0441 GPIO \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435\u043c \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f","permalink":"/recipes/rs485-uart1-overlay"}},"content":"\u0412 Linux \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0447\u0435\u043c \u0437\u0430\u043d\u044f\u0442\u044b \u0432\u0441\u0435 GPIO \u043f\u0438\u043d\u044b \u0434\u043b\u044f \u0434\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a\u0438 \u043a\u043e\u043d\u0444\u043b\u0438\u043a\u0442\u043e\u0432 \u0438 \u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f.\\n\\n## \u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u0430\\n\\n```bash\\ncat /sys/kernel/debug/pinctrl/pinctrl-rockchip-pinctrl/pinmux-pins\\n```\\n\\n## \u0424\u043e\u0440\u043c\u0430\u0442 \u0432\u044b\u0432\u043e\u0434\u0430\\n\\n```\\nPinmux settings per pin\\nFormat: pin (name): mux_owner gpio_owner hog?\\n```\\n\\n### \u041f\u0440\u0438\u043c\u0435\u0440 \u0434\u043b\u044f NAPI-C:\\n\\n```\\npin 0 (gpio0-0): (MUX UNCLAIMED) (GPIO UNCLAIMED)\\npin 1 (gpio0-1): (MUX UNCLAIMED) (GPIO UNCLAIMED)\\npin 2 (gpio0-2): sdio-pwrseq gpio0:2 function sdio-pwrseq group wifi-enable-h\\npin 3 (gpio0-3): ff480000.mmc (GPIO UNCLAIMED) function sdmmc group sdmmc-det\\npin 4 (gpio0-4): (MUX UNCLAIMED) (GPIO UNCLAIMED)\\npin 5 (gpio0-5): (MUX UNCLAIMED) (GPIO UNCLAIMED)\\n```\\n\\n## \u0420\u0430\u0441\u0448\u0438\u0444\u0440\u043e\u0432\u043a\u0430 \u0441\u0442\u0430\u0442\u0443\u0441\u043e\u0432\\n\\n### MUX \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f:\\n- **(MUX UNCLAIMED)** - \u043f\u0438\u043d \u0441\u0432\u043e\u0431\u043e\u0434\u0435\u043d \u0434\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f\\n- **ff480000.mmc** - \u043f\u0438\u043d \u0437\u0430\u043d\u044f\u0442 MMC \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u043b\u0435\u0440\u043e\u043c\\n- **sdio-pwrseq** - \u043f\u0438\u043d \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0438\u0442\u0430\u043d\u0438\u0435\u043c SDIO\\n\\n### GPIO \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f:\\n- **(GPIO UNCLAIMED)** - \u043f\u0438\u043d \u043d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043a\u0430\u043a GPIO\\n- **gpio0:2** - \u043f\u0438\u043d \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043a\u0430\u043a GPIO0 \u043b\u0438\u043d\u0438\u044f 2\\n\\n## \u041f\u043e\u043b\u0435\u0437\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u044b\\n\\n### \u041f\u043e\u0438\u0441\u043a \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u044b\u0445 \u043f\u0438\u043d\u043e\u0432:\\n```bash\\ncat /sys/kernel/debug/pinctrl/pinctrl-rockchip-pinctrl/pinmux-pins | grep \\"UNCLAIMED.*UNCLAIMED\\"\\n```\\n\\n### \u041f\u043e\u0438\u0441\u043a \u0437\u0430\u043d\u044f\u0442\u044b\u0445 GPIO:\\n```bash\\ncat /sys/kernel/debug/pinctrl/pinctrl-rockchip-pinctrl/pinmux-pins | grep -v \\"UNCLAIMED\\"\\n```\\n\\n### \u041f\u043e\u0438\u0441\u043a \u043f\u0438\u043d\u043e\u0432 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u0431\u0430\u043d\u043a\u0430:\\n```bash\\n# GPIO2 \u0431\u0430\u043d\u043a\\ncat /sys/kernel/debug/pinctrl/pinctrl-rockchip-pinctrl/pinmux-pins | grep \\"gpio2\\"\\n```\\n\\n### \u041f\u043e\u0438\u0441\u043a \u043f\u0438\u043d\u043e\u0432 UART:\\n```bash\\ncat /sys/kernel/debug/pinctrl/pinctrl-rockchip-pinctrl/pinmux-pins | grep uart\\n```\\n\\n## \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0434\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a\u0430\\n\\n### \u041e\u0431\u0449\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e GPIO:\\n```bash\\ncat /sys/kernel/debug/gpio\\n```\\n\\n### \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c \u0431\u0430\u043d\u043a\u0435:\\n```bash\\ngpioinfo -c gpiochip2\\n```\\n\\n### \u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 pinctrl \u0433\u0440\u0443\u043f\u043f\u044b:\\n```bash\\ncat /sys/kernel/debug/pinctrl/pinctrl-rockchip-pinctrl/pingroups\\n```\\n\\n## \u041f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f\\n\\n### \u0410\u043b\u0433\u043e\u0440\u0438\u0442\u043c \u0432\u044b\u0431\u043e\u0440\u0430 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u043e\u0433\u043e \u043f\u0438\u043d\u0430:\\n\\n1. **\u041d\u0430\u0439\u0442\u0438 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u044b\u0435 \u043f\u0438\u043d\u044b:**\\n```bash\\ncat /sys/kernel/debug/pinctrl/pinctrl-rockchip-pinctrl/pinmux-pins | grep \\"UNCLAIMED.*UNCLAIMED\\" | head -10\\n```\\n\\n2. **\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u044c \u043d\u0430 \u0440\u0430\u0437\u044a\u0435\u043c\u0435:**\\n- \u0421\u0432\u0435\u0440\u0438\u0442\u044c \u0441 \u0441\u0445\u0435\u043c\u043e\u0439 \u043f\u043b\u0430\u0442\u044b\\n- \u0423\u0431\u0435\u0434\u0438\u0442\u044c\u0441\u044f \u0447\u0442\u043e \u043f\u0438\u043d \u0432\u044b\u0432\u0435\u0434\u0435\u043d \u043d\u0430 \u043a\u043e\u043b\u043e\u0434\u043a\u0443\\n\\n3. **\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0435 \u043a\u043e\u043d\u0444\u043b\u0438\u043a\u0442\u043e\u0432:**\\n```bash\\n# \u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u043d\u0435\u0442 \u043b\u0438 \u0430\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439\\ngrep -i \\"gpio2_b4\\" /tmp/running.dts\\n```\\n\\n## \u041f\u0440\u0438\u043c\u0435\u0440\u044b \u0437\u0430\u043d\u044f\u0442\u044b\u0445 \u043f\u0438\u043d\u043e\u0432\\n\\n### UART \u043f\u0438\u043d\u044b:\\n```\\npin 32 (gpio1-0): ff0a0000.serial (GPIO UNCLAIMED) function uart0 group uart0-xfer\\npin 33 (gpio1-1): ff0a0000.serial (GPIO UNCLAIMED) function uart0 group uart0-xfer\\n```\\n\\n### I2C \u043f\u0438\u043d\u044b:\\n```\\npin 56 (gpio2-8): ff130000.i2c (GPIO UNCLAIMED) function i2c1 group i2c1-xfer  \\npin 57 (gpio2-9): ff130000.i2c (GPIO UNCLAIMED) function i2c1 group i2c1-xfer\\n```\\n\\n### SPI \u043f\u0438\u043d\u044b:\\n```\\npin 44 (gpio1-12): ff120000.spi (GPIO UNCLAIMED) function spi0 group spi0-txd-rxd-clk-cs0\\n```\\n\\n## \u041a\u043e\u043d\u0444\u043b\u0438\u043a\u0442\u044b \u0438 \u0440\u0435\u0448\u0435\u043d\u0438\u044f\\n\\n### \u0422\u0438\u043f\u0438\u0447\u043d\u044b\u0435 \u043a\u043e\u043d\u0444\u043b\u0438\u043a\u0442\u044b:\\n- GPIO \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u043e\u0439, \u043d\u043e \u043d\u0443\u0436\u0435\u043d \u043a\u0430\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439\\n- \u041f\u0438\u043d \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0443, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f\\n- Overlay \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438\\n\\n### \u0420\u0435\u0448\u0435\u043d\u0438\u044f:\\n```bash\\n# \u041e\u0441\u0432\u043e\u0431\u043e\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u0438\u043d\u0430 \u0447\u0435\u0440\u0435\u0437 overlay\\n# \u0421\u043e\u0437\u0434\u0430\u0442\u044c DTS \u0441 status = \\"disabled\\" \u0434\u043b\u044f \u043d\u0435\u043d\u0443\u0436\u043d\u043e\u0433\u043e \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430\\n\\n# \u0410\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0439 \u043f\u0438\u043d\\n# \u041d\u0430\u0439\u0442\u0438 \u0434\u0440\u0443\u0433\u043e\u0439 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u044b\u0439 \u043f\u0438\u043d \u0432 \u0442\u043e\u043c \u0436\u0435 \u0431\u0430\u043d\u043a\u0435\\n```\\n\\n\u042d\u0442\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043a\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0432\u0430\u0436\u043d\u0430 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 overlay \u0438 \u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043f\u0435\u0440\u0438\u0444\u0435\u0440\u0438\u0438 \u043a \u0441\u0438\u0441\u0442\u0435\u043c\u0435."},{"id":"rs485-uart1-overlay","metadata":{"permalink":"/recipes/rs485-uart1-overlay","source":"@site/techblog/2025-11-29-rs485-uart1-overlay/index.md","title":"Overlay \u0434\u043b\u044f RS485 \u043d\u0430 UART1 \u0441 GPIO \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435\u043c \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f","description":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 overlay \u0434\u043b\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 RS485 \u043d\u0430 UART1 (NAPI-C) \u0441 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0435\u043c \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438 \u0447\u0435\u0440\u0435\u0437 GPIO2_B4.","date":"2025-11-29T00:00:00.000Z","tags":[{"inline":true,"label":"rs485","permalink":"/recipes/tags/rs-485"},{"inline":true,"label":"uart","permalink":"/recipes/tags/uart"},{"inline":true,"label":"overlay","permalink":"/recipes/tags/overlay"},{"inline":true,"label":"gpio","permalink":"/recipes/tags/gpio"},{"inline":true,"label":"napi-c","permalink":"/recipes/tags/napi-c"}],"readingTime":1.975,"hasTruncateMarker":false,"authors":[{"name":"dmn","title":"maintainer","url":"https://github.com/dmnovikov","imageURL":"https://avatars.githubusercontent.com/u/17533288?v=4","key":"dmn"}],"frontMatter":{"slug":"rs485-uart1-overlay","title":"Overlay \u0434\u043b\u044f RS485 \u043d\u0430 UART1 \u0441 GPIO \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435\u043c \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f","authors":"dmn","tags":["rs485","uart","overlay","gpio","napi-c"],"telegram_id":29},"unlisted":false,"prevItem":{"title":"\u0414\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a\u0430 \u0437\u0430\u043d\u044f\u0442\u043e\u0441\u0442\u0438 GPIO \u043f\u0438\u043d\u043e\u0432 \u0432 Linux","permalink":"/recipes/gpio-pinmux-debug"},"nextItem":{"title":"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e DTS \u0438\u0437 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b","permalink":"/recipes/extract-running-dts"}},"content":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 overlay \u0434\u043b\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 RS485 \u043d\u0430 UART1 (NAPI-C) \u0441 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0435\u043c \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438 \u0447\u0435\u0440\u0435\u0437 GPIO2_B4.\\n\\n## Overlay \u0444\u0430\u0439\u043b uart1-de.dts\\n\\n```dts\\n/dts-v1/;\\n/plugin/;\\n\\n/ {\\n  compatible = \\"rockchip,rk3308\\";\\n\\n  fragment@0 {\\n    target = <&uart1>;\\n    __overlay__ {\\n      status = \\"okay\\";\\n\\n      pinctrl-names = \\"default\\";\\n      pinctrl-0 = <&uart1_xfer>;\\n\\n      linux,rs485-enabled-at-boot-time;\\n      rs485-rts-active-high;\\n      rs485-rts-delay = <0 0>;\\n      rts-gpios = <&gpio2 12 0>;\\n    };\\n  };\\n};\\n```\\n\\n## \u0420\u0430\u0437\u0431\u043e\u0440 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432\\n\\n### \u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438:\\n- **`status = \\"okay`\\"** - \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 UART1\\n- **`pinctrl-0 = <&uart1_xfer>`** - \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u0438\u043d\u043e\u0432 \u0434\u043b\u044f TX/RX\\n\\n### RS485 \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b:\\n- **linux,rs485-enabled-at-boot-time** - \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 RS485 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435\\n- **rs485-rts-active-high** - RTS \u0430\u043a\u0442\u0438\u0432\u0435\u043d \u0432\u044b\u0441\u043e\u043a\u0438\u043c \u0443\u0440\u043e\u0432\u043d\u0435\u043c\\n- **`rs485-rts-delay = <0 0>`** - \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0438 \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f [before, after] \u0432 \u043c\u0438\u043a\u0440\u043e\u0441\u0435\u043a\u0443\u043d\u0434\u0430\u0445\\n- **`rts-gpios = <&gpio2 12 0>`** - GPIO \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435\u043c (DE pin)\\n\\n## \u0420\u0430\u0441\u0447\u0435\u0442 GPIO\\n\\n\u0414\u043b\u044f **GPIO2_B4**:\\n- \u0411\u0430\u043d\u043a: **2**\\n- \u0413\u0440\u0443\u043f\u043f\u0430: **B** (8-15)\\n- \u041f\u0438\u043d: **4**\\n- **\u0418\u0442\u043e\u0433\u043e: 8 + 4 = 12**\\n\\n## \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 overlay\\n\\n### \u041a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u044f \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430:\\n```bash\\n# \u041a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u044f\\ndtc -@ -I dts -O dtb -o uart1-de.dtbo uart1-de.dts\\n\\n# \u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u0443\u044e \u043f\u0430\u043f\u043a\u0443\\nsudo cp uart1-de.dtbo /boot/dtb/overlay/\\n\\n# \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432 armbianEnv.txt\\necho \\"user_overlays=uart1-de\\" >> /boot/armbianEnv.txt\\n\\n# \u041f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430\\nreboot\\n```\\n\\n### \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 (Armbian):\\n```bash\\narmbian-add-overlay uart1-de.dts\\n```\\n\\n## \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0440\u0430\u0431\u043e\u0442\u044b\\n\\n### \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430:\\n```bash\\nls -la /dev/ttyS1\\n```\\n\\n### \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 RS485 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432:\\n```bash\\n# \u0427\u0435\u0440\u0435\u0437 device tree\\nls -la /proc/device-tree/serial@ff0b0000/\\ncat /proc/device-tree/serial@ff0b0000/status\\n\\n# \u0414\u043e\u043b\u0436\u043d\u044b \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0444\u0430\u0439\u043b\u044b:\\n# linux,rs485-enabled-at-boot-time\\n# rs485-rts-active-high\\n# rs485-rts-delay\\n# rts-gpios\\n```\\n\\n### \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 GPIO:\\n```bash\\ngpioinfo -c gpiochip2 | grep \\"line  12\\"\\n```\\n\\n## \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043f\u043e\u0440\u0442\u0430\\n\\n### \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432:\\n```bash\\nstty -F /dev/ttyS1 9600 cs8 -cstopb -parenb -ixon -ixoff -crtscts\\n```\\n\\n### \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a:\\n```bash\\nstty -F /dev/ttyS1 -a\\n```\\n\\n## \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 RS485\\n\\n### \u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445:\\n```bash\\necho \\"test message\\" > /dev/ttyS1\\n```\\n\\n### \u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 GPIO:\\n```bash\\n# \u041d\u0430\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u0435 \u0437\u0430 \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435\u043c DE pin\\nwatch -n 0.1 \\"gpioget -c gpiochip2 12\\"\\n```\\n\\n### \u041b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u0440\u0430\u0444\u0438\u043a\u0430:\\n```bash\\n# \u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0441 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u043e\u043c\\nstdbuf -oL cat /dev/ttyS1 | tee rs485.log &\\necho \\"test\\" > /dev/ttyS1\\n```\\n\\n## \u0410\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0435 GPIO\\n\\n\u0415\u0441\u043b\u0438 GPIO2_B4 \u0437\u0430\u043d\u044f\u0442, \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c:\\n\\n```dts\\nrts-gpios = <&gpio2 11 0>;  // GPIO2_B3\\nrts-gpios = <&gpio2 13 0>;  // GPIO2_B5\\nrts-gpios = <&gpio3 27 0>;  // GPIO3_B3\\n```\\n\\n## \u041e\u0442\u043b\u0430\u0434\u043a\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\\n\\n### \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043a\u043e\u043d\u0444\u043b\u0438\u043a\u0442\u043e\u0432 \u043f\u0438\u043d\u043e\u0432:\\n```bash\\ncat /sys/kernel/debug/pinctrl/pinctrl-rockchip-pinctrl/pinmux-pins | grep gpio2\\n```\\n\\n### \u041b\u043e\u0433\u0438 \u044f\u0434\u0440\u0430:\\n```bash\\ndmesg | grep uart\\ndmesg | grep rs485\\n```\\n\\n\u0414\u0430\u043d\u043d\u044b\u0439 overlay \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0435\u0442 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u0440\u0430\u0431\u043e\u0442\u0443 RS485 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 \u0441 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u043c \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435\u043c \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435\u043c \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438 \u0447\u0435\u0440\u0435\u0437 \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0439 GPIO \u043f\u0438\u043d."},{"id":"extract-running-dts","metadata":{"permalink":"/recipes/extract-running-dts","source":"@site/techblog/2025-11-23-extract-running-dts/index.md","title":"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e DTS \u0438\u0437 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b","description":"\u041a\u0430\u043a \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c Device Tree Source (DTS) \u0438\u0437 \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0449\u0435\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u0434\u043b\u044f \u0430\u043d\u0430\u043b\u0438\u0437\u0430 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f.","date":"2025-11-23T00:00:00.000Z","tags":[{"inline":true,"label":"dts","permalink":"/recipes/tags/dts"},{"inline":true,"label":"dtb","permalink":"/recipes/tags/dtb"},{"inline":true,"label":"kernel","permalink":"/recipes/tags/kernel"},{"inline":true,"label":"devicetree","permalink":"/recipes/tags/devicetree"},{"inline":true,"label":"overlay","permalink":"/recipes/tags/overlay"}],"readingTime":1.855,"hasTruncateMarker":false,"authors":[{"name":"dmn","title":"maintainer","url":"https://github.com/dmnovikov","imageURL":"https://avatars.githubusercontent.com/u/17533288?v=4","key":"dmn"}],"frontMatter":{"slug":"extract-running-dts","title":"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e DTS \u0438\u0437 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b","authors":"dmn","tags":["dts","dtb","kernel","devicetree","overlay"],"telegram_id":27},"unlisted":false,"prevItem":{"title":"Overlay \u0434\u043b\u044f RS485 \u043d\u0430 UART1 \u0441 GPIO \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435\u043c \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f","permalink":"/recipes/rs485-uart1-overlay"},"nextItem":{"title":"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u043e\u0435 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0430\u043f\u043f\u0430\u0440\u0430\u0442\u043d\u043e\u0433\u043e reset \u0432 eMMC","permalink":"/recipes/emmc-hardware-reset"}},"content":"\u041a\u0430\u043a \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c Device Tree Source (DTS) \u0438\u0437 \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0449\u0435\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u0434\u043b\u044f \u0430\u043d\u0430\u043b\u0438\u0437\u0430 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f.\\n\\n## \u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u0430\\n\\n```bash\\ndtc -I fs -O dts /sys/firmware/devicetree/base > /tmp/running.dts\\n```\\n\\n\u042d\u0442\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u0441\u043e\u0437\u0434\u0430\u0435\u0442 \u0444\u0430\u0439\u043b `/tmp/running.dts` \u0441 \u043f\u043e\u043b\u043d\u044b\u043c \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435\u043c \u0434\u0435\u0440\u0435\u0432\u0430 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432 \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b.\\n\\n## \u0427\u0442\u043e \u0442\u0430\u043a\u043e\u0435 running.dts\\n\\n**Running DTS** - \u044d\u0442\u043e \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0439 \u0444\u0430\u0439\u043b, \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u044e\u0449\u0438\u0439 \u043a\u0430\u043a \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \\"\u043f\u043e\u043d\u0438\u043c\u0430\u0435\u0442\\" \u0432\u0441\u044e \u043f\u0435\u0440\u0438\u0444\u0435\u0440\u0438\u044e \u0438 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b:\\n\\n- \u2705 \u0410\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430 \u0438 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b\\n- \u2705 \u041f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u043d\u044b\u0435 \u043e\u0432\u0435\u0440\u043b\u0435\u0438\\n- \u2705 \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u043f\u0438\u043d\u043e\u0432 \u0438 GPIO  \\n- \u2705 \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0442\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f\\n- \u2705 \u0410\u0434\u0440\u0435\u0441\u0430 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432 \u0432 \u043f\u0430\u043c\u044f\u0442\u0438\\n\\n## \u0410\u043d\u0430\u043b\u0438\u0437 \u0444\u0430\u0439\u043b\u0430\\n\\n### \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b:\\n```bash\\n# \u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0432 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u043c \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440\u0435\\nnano /tmp/running.dts\\n\\n# \u041f\u043e\u0438\u0441\u043a \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430\\ngrep -A 10 -B 5 \\"uart\\" /tmp/running.dts\\n\\n# \u041f\u043e\u0438\u0441\u043a GPIO \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438  \\ngrep -A 5 -B 5 \\"gpio\\" /tmp/running.dts\\n```\\n\\n### \u041f\u043e\u043b\u0435\u0437\u043d\u044b\u0435 \u043f\u0430\u0442\u0442\u0435\u0440\u043d\u044b \u043f\u043e\u0438\u0441\u043a\u0430:\\n```bash\\n# UART \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b\\ngrep -n \\"serial@\\" /tmp/running.dts\\n\\n# I2C \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u043b\u0435\u0440\u044b\\ngrep -n \\"i2c@\\" /tmp/running.dts  \\n\\n# SPI \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b\\ngrep -n \\"spi@\\" /tmp/running.dts\\n\\n# GPIO \u0431\u0430\u043d\u043a\u0438\\ngrep -n \\"pinctrl@\\" /tmp/running.dts\\n```\\n\\n## \u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435\\n\\n### 1. \u041e\u0442\u043b\u0430\u0434\u043a\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c \u0441 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430\u043c\u0438\\n\\n```bash\\n# \u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441 UART1\\ngrep -A 20 \\"serial@ff0b0000\\" /tmp/running.dts | grep status\\n```\\n\\n### 2. \u0410\u043d\u0430\u043b\u0438\u0437 \u043f\u0438\u043d-\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438\\n\\n```bash\\n# \u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u0438\u043d\u043e\u0432\\ngrep -A 10 \\"pinmux\\" /tmp/running.dts\\n```\\n\\n### 3. \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043e\u0432\u0435\u0440\u043b\u0435\u0435\u0432\\n\\n\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 running.dts \u043a\u0430\u043a \u043e\u0441\u043d\u043e\u0432\u0443 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0445 \u043e\u0432\u0435\u0440\u043b\u0435\u0435\u0432.\\n\\n## \u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0441 AI\\n\\n\ud83e\udd16 **\u0421\u043e\u0432\u0435\u0442**: \u042d\u0442\u043e\u0442 DTS \u043c\u043e\u0436\u043d\u043e \\"\u0441\u043a\u043e\u0440\u043c\u0438\u0442\u044c\\" ChatGPT \u0438:\\n- \u0417\u0430\u0434\u0430\u0432\u0430\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u043e \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438\\n- \u041f\u0440\u043e\u0441\u0438\u0442\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c overlay \u043f\u043e\u0434 \u0432\u0430\u0448\u0438 \u043d\u0443\u0436\u0434\u044b\\n- \u0410\u043d\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u043d\u0444\u043b\u0438\u043a\u0442\u044b \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\\n\\n### \u041f\u0440\u0438\u043c\u0435\u0440 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043a ChatGPT:\\n```\\n\u041f\u0440\u043e\u0430\u043d\u0430\u043b\u0438\u0437\u0438\u0440\u0443\u0439 \u044d\u0442\u043e\u0442 DTS \u0444\u0430\u0439\u043b \u0438 \u043f\u043e\u043a\u0430\u0436\u0438, \u043a\u0430\u043a\u0438\u0435 UART \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b \u0430\u043a\u0442\u0438\u0432\u043d\u044b:\\n[\u0432\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435 running.dts]\\n```\\n\\n## \u0421\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0439\\n\\n### \u0414\u043e \u0438 \u043f\u043e\u0441\u043b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439:\\n```bash\\n# \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \\"\u0434\u043e\\"\\ndtc -I fs -O dts /sys/firmware/devicetree/base > /tmp/before.dts\\n\\n# \u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f (overlay, reboot)\\n\\n# \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \\"\u043f\u043e\u0441\u043b\u0435\\" \\ndtc -I fs -O dts /sys/firmware/devicetree/base > /tmp/after.dts\\n\\n# \u0421\u0440\u0430\u0432\u043d\u0438\u0442\u044c\\ndiff /tmp/before.dts /tmp/after.dts\\n```\\n\\n## \u0424\u043e\u0440\u043c\u0430\u0442 \u0432\u044b\u0432\u043e\u0434\u0430\\n\\n### \u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 DTS:\\n```dts\\n/ {\\n    compatible = \\"rockchip,rk3308\\";\\n    \\n    serial@ff0b0000 {\\n        compatible = \\"rockchip,rk3308-uart\\", \\"snps,dw-apb-uart\\";\\n        reg = <0x0 0xff0b0000 0x0 0x100>;\\n        status = \\"okay\\";\\n    };\\n}\\n```\\n\\n## \u0410\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u044b\\n\\n### \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0445 \u0443\u0437\u043b\u043e\u0432:\\n```bash\\n# \u041a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0435 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e\\ncat /sys/firmware/devicetree/base/serial@ff0b0000/status\\n\\n# \u0421\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c\\ncat /sys/firmware/devicetree/base/compatible\\n```\\n\\n### \u0411\u0438\u043d\u0430\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442:\\n```bash\\n# \u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c DTB\\ncp /sys/firmware/fdt /tmp/running.dtb\\n```\\n\\n\u042d\u0442\u043e\u0442 \u043c\u0435\u0442\u043e\u0434 - \u043d\u0435\u0437\u0430\u043c\u0435\u043d\u0438\u043c\u044b\u0439 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0434\u043b\u044f \u043f\u043e\u043d\u0438\u043c\u0430\u043d\u0438\u044f \u0442\u043e\u0433\u043e, \u043a\u0430\u043a \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u0438\u043d\u0442\u0435\u0440\u043f\u0440\u0435\u0442\u0438\u0440\u0443\u0435\u0442 \u0430\u043f\u043f\u0430\u0440\u0430\u0442\u043d\u0443\u044e \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e, \u0438 \u043e\u0441\u043d\u043e\u0432\u0430 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0445 \u043e\u0432\u0435\u0440\u043b\u0435\u0435\u0432."},{"id":"emmc-hardware-reset","metadata":{"permalink":"/recipes/emmc-hardware-reset","source":"@site/techblog/2025-10-23-emmc-hardware-reset/index.md","title":"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u043e\u0435 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0430\u043f\u043f\u0430\u0440\u0430\u0442\u043d\u043e\u0433\u043e reset \u0432 eMMC","description":"\ud83d\udc69\u200d\ud83c\udf93 \u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0435\u043c \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u044c \u0443\u0434\u0438\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043c\u0438\u0440 EMMC/SD \u043a\u0430\u0440\u0442. \u0420\u0430\u0437\u0431\u0438\u0440\u0430\u0435\u043c \u0441\u043b\u0443\u0447\u0430\u0439, \u043a\u043e\u0433\u0434\u0430 \u043a\u043d\u043e\u043f\u043a\u0430 MaskRom \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0438\u0437-\u0437\u0430 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u043e \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u043e\u0433\u043e \u0430\u043f\u043f\u0430\u0440\u0430\u0442\u043d\u043e\u0433\u043e reset \u0432 eMMC.","date":"2025-10-23T00:00:00.000Z","tags":[{"inline":true,"label":"emmc","permalink":"/recipes/tags/emmc"},{"inline":true,"label":"hardware-reset","permalink":"/recipes/tags/hardware-reset"},{"inline":true,"label":"mmc","permalink":"/recipes/tags/mmc"},{"inline":true,"label":"napi-slot","permalink":"/recipes/tags/napi-slot"},{"inline":true,"label":"maskrom","permalink":"/recipes/tags/maskrom"}],"readingTime":1.405,"hasTruncateMarker":false,"authors":[{"name":"dmn","title":"maintainer","url":"https://github.com/dmnovikov","imageURL":"https://avatars.githubusercontent.com/u/17533288?v=4","key":"dmn"}],"frontMatter":{"slug":"emmc-hardware-reset","title":"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u043e\u0435 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0430\u043f\u043f\u0430\u0440\u0430\u0442\u043d\u043e\u0433\u043e reset \u0432 eMMC","authors":"dmn","tags":["emmc","hardware-reset","mmc","napi-slot","maskrom"],"telegram_id":25},"unlisted":false,"prevItem":{"title":"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e DTS \u0438\u0437 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b","permalink":"/recipes/extract-running-dts"},"nextItem":{"title":"\u041a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u044f \u044f\u0434\u0440\u0430 NapiLinux - \u0431\u044b\u0441\u0442\u0440\u044b\u0439 \u043c\u0435\u0442\u043e\u0434","permalink":"/recipes/napilinux-kernel-compile"}},"content":"\ud83d\udc69\u200d\ud83c\udf93 \u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0435\u043c \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u044c \u0443\u0434\u0438\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043c\u0438\u0440 EMMC/SD \u043a\u0430\u0440\u0442. \u0420\u0430\u0437\u0431\u0438\u0440\u0430\u0435\u043c \u0441\u043b\u0443\u0447\u0430\u0439, \u043a\u043e\u0433\u0434\u0430 \u043a\u043d\u043e\u043f\u043a\u0430 MaskRom \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0438\u0437-\u0437\u0430 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u043e \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u043e\u0433\u043e \u0430\u043f\u043f\u0430\u0440\u0430\u0442\u043d\u043e\u0433\u043e reset \u0432 eMMC.\\n\\n## \u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430\\n\\n\ud83d\ude02 \u041d\u0430 NAPI Slot \u043a\u043d\u043e\u043f\u043a\u0430 MaskRom \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0438\u0442 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440 \u0432 \u0440\u0435\u0436\u0438\u043c \u043f\u0440\u043e\u0448\u0438\u0432\u043a\u0438 (\u043f\u043e\u0434\u0442\u044f\u0433\u0438\u0432\u0430\u0435\u0442 MMC_RESET \u043a GND \u0438 \u043e\u0442\u043a\u043b\u044e\u0447\u0430\u0435\u0442 eMMC), \u043d\u043e \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440 \u043d\u0435 \u0440\u0435\u0430\u0433\u0438\u0440\u043e\u0432\u0430\u043b!\\n\\n\ud83d\ude48 **\u041f\u0440\u0438\u0447\u0438\u043d\u0430**: \u0412 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0445 eMMC \u0430\u043f\u043f\u0430\u0440\u0430\u0442\u043d\u044b\u0439 reset **\u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442\u0441\u044f \u041f\u0420\u041e\u0413\u0420\u0410\u041c\u041c\u041d\u041e**!\\n\\n## \u0420\u0435\u0448\u0435\u043d\u0438\u0435\\n\\n### 1. \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u0441\u0442\u0430\u0442\u0443\u0441\u0430\\n\\n```bash\\nsudo mmc extcsd read /dev/mmcblk0 | grep -i RST_N_FUNCTION\\n```\\n\\n### 2. \u0412\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0430\u043f\u043f\u0430\u0440\u0430\u0442\u043d\u043e\u0433\u043e reset\\n\\n\u26a0\ufe0f **\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u043d\u0435\u043e\u0431\u0440\u0430\u0442\u0438\u043c\u0430\u044f!**\\n\\n```bash\\nsudo mmc hwreset enable /dev/mmcblk0\\n```\\n\\n### 3. \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439\\n\\n```bash\\nsudo mmc extcsd read /dev/mmcblk0 | grep -i RST_N_FUNCTION\\n```\\n\\n\u0414\u043e\u043b\u0436\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c\u0441\u044f \u043d\u0430:\\n```\\nRST_N_FUNCTION: 0x01\\n```\\n\\n## \u0427\u0442\u043e \u044d\u0442\u043e \u043e\u0437\u043d\u0430\u0447\u0430\u0435\u0442\\n\\n### MaskRom \u0440\u0435\u0436\u0438\u043c:\\n- **\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435**: \u0420\u0435\u0436\u0438\u043c \u043f\u0440\u043e\u0448\u0438\u0432\u043a\u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440\u0430\\n- **\u041c\u0435\u0445\u0430\u043d\u0438\u0437\u043c**: \u041a\u043d\u043e\u043f\u043a\u0430 \u043f\u043e\u0434\u0442\u044f\u0433\u0438\u0432\u0430\u0435\u0442 MMC_RESET \u043a GND\\n- **\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442**: eMMC \u043e\u0442\u043a\u043b\u044e\u0447\u0430\u0435\u0442\u0441\u044f, \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f \u0432 \u0440\u0435\u0436\u0438\u043c \u043f\u0440\u043e\u0448\u0438\u0432\u043a\u0438\\n\\n### RST_N_FUNCTION \u0440\u0435\u0433\u0438\u0441\u0442\u0440:\\n- **0x00**: \u0410\u043f\u043f\u0430\u0440\u0430\u0442\u043d\u044b\u0439 reset \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\\n- **0x01**: \u0410\u043f\u043f\u0430\u0440\u0430\u0442\u043d\u044b\u0439 reset \u0432\u043a\u043b\u044e\u0447\u0435\u043d\\n\\n## \u0414\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\\n\\n### \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f eMMC:\\n```bash\\nlsblk | grep mmcblk\\n```\\n\\n### \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e eMMC:\\n```bash\\nsudo mmc extcsd read /dev/mmcblk0 | head -20\\n```\\n\\n### \u0410\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u0430\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430:\\n```bash\\ncat /sys/class/mmc_host/mmc*/caps\\n```\\n\\n## \u0412\u0430\u0436\u043d\u044b\u0435 \u043c\u043e\u043c\u0435\u043d\u0442\u044b\\n\\n\u26a0\ufe0f **\u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f:**\\n- \u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 RST_N_FUNCTION **\u043d\u0435\u043e\u0431\u0440\u0430\u0442\u0438\u043c\u043e**\\n- \u0412\u0441\u0435\u0433\u0434\u0430 \u0434\u0435\u043b\u0430\u0439\u0442\u0435 \u0440\u0435\u0437\u0435\u0440\u0432\u043d\u0443\u044e \u043a\u043e\u043f\u0438\u044e \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u0435\u0440\u0435\u0434 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f\u043c\u0438\\n- \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u0430\u0448\u0435\u0439 eMMC \u0441 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0435\u0439\\n\\n\u2705 **\u041f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430 \u043f\u043e\u0441\u043b\u0435 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f:**\\n- \u041a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u043a\u043d\u043e\u043f\u043a\u0438 MaskRom\\n- \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0430\u043f\u043f\u0430\u0440\u0430\u0442\u043d\u043e\u0433\u043e \u0441\u0431\u0440\u043e\u0441\u0430 eMMC\\n- \u0421\u0442\u0430\u0431\u0438\u043b\u044c\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 \u043f\u0440\u043e\u0448\u0438\u0432\u043a\u0438\\n\\n## \u0410\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u043f\u043e\u0441\u043e\u0431\u044b \u0432\u0445\u043e\u0434\u0430 \u0432 MaskRom\\n\\n\u0415\u0441\u043b\u0438 \u0430\u043f\u043f\u0430\u0440\u0430\u0442\u043d\u044b\u0439 reset \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d:\\n\\n### \u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u044b\u0439 \u0441\u043f\u043e\u0441\u043e\u0431:\\n```bash\\n# \u041f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0432 \u0440\u0435\u0436\u0438\u043c \u043f\u0440\u043e\u0448\u0438\u0432\u043a\u0438 (\u0435\u0441\u043b\u0438 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f)\\nreboot bootloader\\n```\\n\\n### \u0424\u0438\u0437\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435:\\n- \u041e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 eMMC \u043f\u0438\u0442\u0430\u043d\u0438\u044f\\n- \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0445 \u0434\u0436\u0430\u043c\u043f\u0435\u0440\u043e\u0432 (\u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c)\\n\\n\u0414\u0430\u043d\u043d\u043e\u0435 \u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043a\u043d\u043e\u043f\u043a\u0438 MaskRom \u043d\u0430 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430\u0445 \u0441 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u043e \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044b\u043c \u0430\u043f\u043f\u0430\u0440\u0430\u0442\u043d\u044b\u043c reset eMMC."},{"id":"napilinux-kernel-compile","metadata":{"permalink":"/recipes/napilinux-kernel-compile","source":"@site/techblog/2025-10-22-napilinux-kernel-compile/index.md","title":"\u041a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u044f \u044f\u0434\u0440\u0430 NapiLinux - \u0431\u044b\u0441\u0442\u0440\u044b\u0439 \u043c\u0435\u0442\u043e\u0434","description":"\ud83d\udd25 \u0411\u044b\u0441\u0442\u0440\u044b\u0439 \u043c\u0435\u0442\u043e\u0434 \u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u0438 \u0442\u043e\u043b\u044c\u043a\u043e \u044f\u0434\u0440\u0430 NapiLinux \u0431\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0431\u043e\u0440\u043a\u0438 \u0432\u0441\u0435\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b.","date":"2025-10-22T00:00:00.000Z","tags":[{"inline":true,"label":"napilinux","permalink":"/recipes/tags/napilinux"},{"inline":true,"label":"kernel","permalink":"/recipes/tags/kernel"},{"inline":true,"label":"compilation","permalink":"/recipes/tags/compilation"},{"inline":true,"label":"cross-compile","permalink":"/recipes/tags/cross-compile"},{"inline":true,"label":"overlay","permalink":"/recipes/tags/overlay"}],"readingTime":1.725,"hasTruncateMarker":false,"authors":[{"name":"dmn","title":"maintainer","url":"https://github.com/dmnovikov","imageURL":"https://avatars.githubusercontent.com/u/17533288?v=4","key":"dmn"}],"frontMatter":{"slug":"napilinux-kernel-compile","title":"\u041a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u044f \u044f\u0434\u0440\u0430 NapiLinux - \u0431\u044b\u0441\u0442\u0440\u044b\u0439 \u043c\u0435\u0442\u043e\u0434","authors":"dmn","tags":["napilinux","kernel","compilation","cross-compile","overlay"],"telegram_id":23},"unlisted":false,"prevItem":{"title":"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u043e\u0435 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0430\u043f\u043f\u0430\u0440\u0430\u0442\u043d\u043e\u0433\u043e reset \u0432 eMMC","permalink":"/recipes/emmc-hardware-reset"},"nextItem":{"title":"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043e\u043f\u0446\u0438\u0439 \u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u0438 \u044f\u0434\u0440\u0430 Linux","permalink":"/recipes/linux-kernel-config"}},"content":"\ud83d\udd25 \u0411\u044b\u0441\u0442\u0440\u044b\u0439 \u043c\u0435\u0442\u043e\u0434 \u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u0438 \u0442\u043e\u043b\u044c\u043a\u043e \u044f\u0434\u0440\u0430 NapiLinux \u0431\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0431\u043e\u0440\u043a\u0438 \u0432\u0441\u0435\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b.\\n\\n## \u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435\\n\\n\u261d\ufe0f \u042d\u0442\u043e \\"\u0433\u0440\u044f\u0437\u043d\u044b\u0439\\" \u0431\u044b\u0441\u0442\u0440\u044b\u0439 \u043c\u0435\u0442\u043e\u0434 \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u044f\u0434\u0440\u0430.  \\n\ud83d\udca1 **\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0441\u043f\u043e\u0441\u043e\u0431** - \u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u044f \u0447\u0435\u0440\u0435\u0437 Yocto.\\n\\n## 1. \u041a\u043b\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f\\n\\n\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u0443\u0436\u043d\u0443\u044e \u0432\u0435\u0442\u043a\u0443 \u0434\u043b\u044f \u0432\u0430\u0448\u0435\u0439 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u044b:\\n\\n**\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0432\u0435\u0442\u043a\u0438:**\\n- \u2714\ufe0f `rk-6.1` - \u0434\u043b\u044f RK3308\\n- \u2714\ufe0f `orange-pi-6.6` - \u0434\u043b\u044f Orange Pi  \\n- \u2714\ufe0f `rk35xx` - \u0434\u043b\u044f RK35xx\\n- \u0418 \u0434\u0440\u0443\u0433\u0438\u0435 (\u0441\u043c. GitLab)\\n\\n```bash\\ngit clone https://gitlab.nnz-ipc.net/pub/napilinux/kernel.git --branch=rk-6.1 --depth=1\\ncd kernel/\\n```\\n\\n## 2. \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f \u0434\u043b\u044f ARM64\\n\\n```bash\\nexport ARCH=arm64\\nexport CROSS_COMPILE=aarch64-linux-gnu-\\n```\\n\\n## 3. \u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438\\n\\n\u041a\u043e\u043d\u0444\u0438\u0433\u0438 \u043d\u0430\u0445\u043e\u0434\u044f\u0442\u0441\u044f \u0432 \u043f\u0430\u043f\u043a\u0435 `/arch/arm64/configs`. \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u0443\u0436\u043d\u044b\u0439:\\n\\n**\u0414\u043b\u044f \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432 NAPI:**\\n```bash\\nmake napi_defconfig\\n```\\n\\n**\u0414\u043b\u044f CM4:**\\n```bash\\nmake opi_cm4_defconfig\\n```\\n\\n\u041f\u043e\u0441\u043b\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043f\u043e\u044f\u0432\u0438\u0442\u0441\u044f \u0444\u0430\u0439\u043b `.config`, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u043e\u0436\u043d\u043e \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0434 \u0441\u0432\u043e\u0438 \u043d\u0443\u0436\u0434\u044b.\\n\\n## 4. \u041a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u044f \u044f\u0434\u0440\u0430\\n\\n```bash\\nmake -j10\\n```\\n\\n\u0413\u0434\u0435 `10` - \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u044b\u0445 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0432 (\u043f\u043e\u0434\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u043e\u0434 \u0441\u0432\u043e\u044e \u0441\u0438\u0441\u0442\u0435\u043c\u0443).\\n\\n## 5. \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0441\u0431\u043e\u0440\u043a\u0438\\n\\n\u041f\u043e\u0441\u043b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0439 \u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0435:\\n\\n- \u2714\ufe0f **\u041e\u0431\u0440\u0430\u0437 \u044f\u0434\u0440\u0430**: `arch/arm64/boot/Image`\\n- \u2714\ufe0f **\u0413\u043b\u0430\u0432\u043d\u0430\u044f DTB**: `arch/arm64/boot/<\u0444\u0430\u0439\u043b>.dtb`  \\n- \u2714\ufe0f **\u041e\u0432\u0435\u0440\u043b\u0435\u0438**: `arch/arm64/boot/dts/rockchip/`\\n\\n## 6. \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443\\n\\n### \u0412\u0430\u0436\u043d\u043e \u043f\u0440\u043e overlay root!\\n\\nNapiLinux \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 root (/) \u043a\u0430\u043a \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u0443\u044e \u043f\u0430\u0440\u0442\u0438\u0446\u0438\u044e overlay. \u041f\u0440\u043e\u0441\u0442\u043e \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0444\u0430\u0439\u043b\u044b \u043d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0441\u044f - u-boot \u0438\u0445 \u043d\u0435 \u0443\u0432\u0438\u0434\u0438\u0442!\\n\\n### \u0420\u0435\u0448\u0435\u043d\u0438\u044f:\\n\\n**\u0420\u0430\u0431\u043e\u0442\u0430 \u0441 SD-\u043a\u0430\u0440\u0442\u043e\u0439:**\\n```bash\\n# \u0418\u0437\u0432\u043b\u0435\u043a\u0438\u0442\u0435 SD-\u043a\u0430\u0440\u0442\u0443\\n# \u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u0435 \u043a \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u0443\\n# \u041f\u0440\u0438\u043c\u043e\u043d\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0444\u0438\u0437\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043f\u0430\u0440\u0442\u0438\u0446\u0438\u0438\\nsudo mount /dev/sdX1 /mnt/boot\\nsudo cp arch/arm64/boot/Image /mnt/boot/\\nsudo cp arch/arm64/boot/dts/rockchip/*.dtb /mnt/boot/\\nsudo umount /mnt/boot\\n```\\n\\n**\u0420\u0430\u0431\u043e\u0442\u0430 \u0441 NAND/eMMC:**\\n```bash\\n# \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435\u0441\u044c \u0441 SD-\u043a\u0430\u0440\u0442\u044b  \\n# \u041f\u0440\u0438\u043c\u043e\u043d\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0446\u0435\u043b\u0435\u0432\u044b\u0435 \u043f\u0430\u0440\u0442\u0438\u0446\u0438\u0438 \u0432\u0440\u0443\u0447\u043d\u0443\u044e\\nlsblk -f  # \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u0435 \u043f\u0430\u0440\u0442\u0438\u0446\u0438\u0438\\nsudo mount /dev/mmcblk0p1 /mnt/boot\\nsudo cp arch/arm64/boot/Image /mnt/boot/\\nsudo cp arch/arm64/boot/dts/rockchip/*.dtb /mnt/boot/\\nsudo umount /mnt/boot\\n```\\n\\n## 7. \u0414\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a\u0430 \u043f\u0430\u0440\u0442\u0438\u0446\u0438\u0439\\n\\n\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443 \u043f\u0430\u0440\u0442\u0438\u0446\u0438\u0439:\\n\\n```bash\\nlsblk\\nlsblk -f\\n```\\n\\n## \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438\\n\\n### \u041a\u0430\u0441\u0442\u043e\u043c\u0438\u0437\u0430\u0446\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0430:\\n```bash\\n# \u0418\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0435 \u043c\u0435\u043d\u044e\\nmake menuconfig\\n\\n# \u0422\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0435 \u043c\u0435\u043d\u044e  \\nmake nconfig\\n```\\n\\n### \u0421\u0431\u043e\u0440\u043a\u0430 \u0442\u043e\u043b\u044c\u043a\u043e DTB:\\n```bash\\nmake dtbs\\n```\\n\\n### \u0421\u0431\u043e\u0440\u043a\u0430 \u043c\u043e\u0434\u0443\u043b\u0435\u0439:\\n```bash\\nmake modules\\nmake modules_install INSTALL_MOD_PATH=/path/to/rootfs\\n```\\n\\n## \u041e\u0442\u043b\u0430\u0434\u043a\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\\n\\n### \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0432\u0435\u0440\u0441\u0438\u0438 \u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0442\u043e\u0440\u0430:\\n```bash\\n${CROSS_COMPILE}gcc --version\\n```\\n\\n### \u041e\u0447\u0438\u0441\u0442\u043a\u0430 \u0441\u0431\u043e\u0440\u043a\u0438:\\n```bash\\nmake clean\\nmake mrproper\\n```\\n\\n### \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043a\u043e\u043d\u0444\u0438\u0433\u0430:\\n```bash\\nmake ARCH=arm64 listnewconfig\\n```\\n\\n\u0414\u0430\u043d\u043d\u044b\u0439 \u043c\u0435\u0442\u043e\u0434 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0431\u044b\u0441\u0442\u0440\u043e \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u044f\u0434\u0440\u0430 \u0431\u0435\u0437 \u043f\u043e\u043b\u043d\u043e\u0439 \u043f\u0435\u0440\u0435\u0441\u0431\u043e\u0440\u043a\u0438 \u0434\u0438\u0441\u0442\u0440\u0438\u0431\u0443\u0442\u0438\u0432\u0430 \u0447\u0435\u0440\u0435\u0437 Yocto."},{"id":"linux-kernel-config","metadata":{"permalink":"/recipes/linux-kernel-config","source":"@site/techblog/2025-10-21-linux-kernel-config/index.md","title":"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043e\u043f\u0446\u0438\u0439 \u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u0438 \u044f\u0434\u0440\u0430 Linux","description":"\u041a\u0430\u043a \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0441 \u043a\u0430\u043a\u0438\u043c\u0438 \u043e\u043f\u0446\u0438\u044f\u043c\u0438 \u0431\u044b\u043b\u043e \u0441\u043a\u043e\u043c\u043f\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u0442\u0435\u043a\u0443\u0449\u0435\u0435 \u044f\u0434\u0440\u043e Linux.","date":"2025-10-21T00:00:00.000Z","tags":[{"inline":true,"label":"linux","permalink":"/recipes/tags/linux"},{"inline":true,"label":"kernel","permalink":"/recipes/tags/kernel"},{"inline":true,"label":"config","permalink":"/recipes/tags/config"},{"inline":true,"label":"uart","permalink":"/recipes/tags/uart"},{"inline":true,"label":"serial","permalink":"/recipes/tags/serial"}],"readingTime":1.455,"hasTruncateMarker":false,"authors":[{"name":"dmn","title":"maintainer","url":"https://github.com/dmnovikov","imageURL":"https://avatars.githubusercontent.com/u/17533288?v=4","key":"dmn"}],"frontMatter":{"slug":"linux-kernel-config","title":"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043e\u043f\u0446\u0438\u0439 \u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u0438 \u044f\u0434\u0440\u0430 Linux","authors":"dmn","tags":["linux","kernel","config","uart","serial"],"telegram_id":22},"unlisted":false,"prevItem":{"title":"\u041a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u044f \u044f\u0434\u0440\u0430 NapiLinux - \u0431\u044b\u0441\u0442\u0440\u044b\u0439 \u043c\u0435\u0442\u043e\u0434","permalink":"/recipes/napilinux-kernel-compile"},"nextItem":{"title":"\u041f\u0435\u0440\u0435\u043d\u043e\u0441 blue-led \u043d\u0430 GPIO2B4 \u0432 Armbian","permalink":"/recipes/blue-led-gpio2b4"}},"content":"\u041a\u0430\u043a \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0441 \u043a\u0430\u043a\u0438\u043c\u0438 \u043e\u043f\u0446\u0438\u044f\u043c\u0438 \u0431\u044b\u043b\u043e \u0441\u043a\u043e\u043c\u043f\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u0442\u0435\u043a\u0443\u0449\u0435\u0435 \u044f\u0434\u0440\u043e Linux.\\n\\n## \u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u0430\\n\\n```bash\\nzcat /proc/config.gz\\n```\\n\\n\u042d\u0442\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u0432\u044b\u0432\u043e\u0434\u0438\u0442 \u043f\u043e\u043b\u043d\u0443\u044e \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u044f\u0434\u0440\u0430, \u0441 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u043e\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u043a\u043e\u043c\u043f\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043e.\\n\\n## \u0424\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u043e \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u044e\u0449\u0438\u043c \u043e\u043f\u0446\u0438\u044f\u043c\\n\\n### \u0412\u0441\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043f\u043e\u0440\u0442\u043e\u0432:\\n```bash\\nzcat /proc/config.gz | grep -E \'CONFIG_SERIAL_8250_NR_UARTS|CONFIG_SERIAL_8250|CONFIG_SERIAL_\'\\n```\\n\\n### \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 GPIO:\\n```bash\\nzcat /proc/config.gz | grep CONFIG_GPIO\\n```\\n\\n### \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 SPI:\\n```bash\\nzcat /proc/config.gz | grep CONFIG_SPI\\n```\\n\\n### \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 I2C:\\n```bash\\nzcat /proc/config.gz | grep CONFIG_I2C\\n```\\n\\n### \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 USB:\\n```bash\\nzcat /proc/config.gz | grep CONFIG_USB\\n```\\n\\n## \u041f\u043e\u0438\u0441\u043a \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0445 \u043e\u043f\u0446\u0438\u0439\\n\\n### \u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e \u043c\u043e\u0434\u0443\u043b\u044f:\\n```bash\\nzcat /proc/config.gz | grep -i modbus\\nzcat /proc/config.gz | grep -i zigbee  \\nzcat /proc/config.gz | grep -i bluetooth\\n```\\n\\n### \u041f\u043e\u0438\u0441\u043a \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u043e\u0432:\\n```bash\\nzcat /proc/config.gz | grep CONFIG_DRIVER\\n```\\n\\n## \u041f\u043e\u043b\u0435\u0437\u043d\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u044b\\n\\n### \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438 UART:\\n```bash\\nzcat /proc/config.gz | grep CONFIG_SERIAL_8250_NR_UARTS\\n# \u041f\u043e\u043a\u0430\u0436\u0435\u0442 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u044b\u0445 UART \u043f\u043e\u0440\u0442\u043e\u0432\\n```\\n\\n### \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438 CAN:\\n```bash\\nzcat /proc/config.gz | grep CONFIG_CAN\\n```\\n\\n### \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438 Modbus:\\n```bash\\nzcat /proc/config.gz | grep CONFIG_MODBUS\\n```\\n\\n## \u0410\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u0441\u043f\u043e\u0441\u043e\u0431\u044b\\n\\n### \u0427\u0435\u0440\u0435\u0437 /boot:\\n```bash\\n# \u0415\u0441\u043b\u0438 \u043a\u043e\u043d\u0444\u0438\u0433 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d \u0432 /boot\\ncat /boot/config-$(uname -r)\\n```\\n\\n### \u0427\u0435\u0440\u0435\u0437 \u043c\u043e\u0434\u0443\u043b\u0438:\\n```bash\\n# \u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u044b\u0445 \u043c\u043e\u0434\u0443\u043b\u0435\u0439\\nlsmod\\n\\n# \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c \u043c\u043e\u0434\u0443\u043b\u0435\\nmodinfo <module_name>\\n```\\n\\n## \u0410\u043d\u0430\u043b\u0438\u0437 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432\\n\\n\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043e\u043f\u0446\u0438\u0439:\\n- **=y** - \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u043e \u0432 \u044f\u0434\u0440\u043e\\n- **=m** - \u0441\u043a\u043e\u043c\u043f\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u043a\u0430\u043a \u043c\u043e\u0434\u0443\u043b\u044c\\n- **# CONFIG_XXX is not set** - \u043e\u043f\u0446\u0438\u044f \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0430\\n\\n### \u041f\u0440\u0438\u043c\u0435\u0440 \u0432\u044b\u0432\u043e\u0434\u0430:\\n```\\nCONFIG_SERIAL_8250=y\\nCONFIG_SERIAL_8250_CONSOLE=y\\nCONFIG_SERIAL_8250_NR_UARTS=4\\nCONFIG_SERIAL_8250_RUNTIME_UARTS=4\\nCONFIG_SERIAL_8250_DW=y\\n```\\n\\n## \u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435\\n\\n### \u041e\u0442\u043b\u0430\u0434\u043a\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c:\\n- \u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0430 \u043b\u0438 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u043d\u0443\u0436\u043d\u043e\u0433\u043e \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430\\n- \u0423\u0431\u0435\u0434\u0438\u0442\u044c\u0441\u044f \u0447\u0442\u043e \u0434\u0440\u0430\u0439\u0432\u0435\u0440 \u0441\u043a\u043e\u043c\u043f\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d\\n- \u041d\u0430\u0439\u0442\u0438 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e UART)\\n\\n### \u041f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435:\\n- \u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u044f\u0434\u0440\u0430\\n- \u041f\u043e\u043d\u044f\u0442\u044c \u043d\u0443\u0436\u043d\u0430 \u043b\u0438 \u043f\u0435\u0440\u0435\u0441\u0431\u043e\u0440\u043a\u0430 \u0434\u043b\u044f \u043d\u043e\u0432\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439\\n\\n\u042d\u0442\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e \u043f\u043e\u043b\u0435\u0437\u043d\u0430 \u043f\u0440\u0438 \u0440\u0430\u0431\u043e\u0442\u0435 \u0441 embedded \u0441\u0438\u0441\u0442\u0435\u043c\u0430\u043c\u0438 \u0438 \u043e\u0442\u043b\u0430\u0434\u043a\u0435 \u043f\u0440\u043e\u0431\u043b\u0435\u043c \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f."},{"id":"blue-led-gpio2b4","metadata":{"permalink":"/recipes/blue-led-gpio2b4","source":"@site/techblog/2025-09-17-blue-led-gpio2b4/index.md","title":"\u041f\u0435\u0440\u0435\u043d\u043e\u0441 blue-led \u043d\u0430 GPIO2B4 \u0432 Armbian","description":"\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u0433\u043e \u043f\u0440\u0438\u043c\u0435\u0440\u0430 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0430 \u0438\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440\u0430: GPIO3B3 \u043a\u043e\u043d\u0444\u043b\u0438\u043a\u0442\u0443\u0435\u0442 \u0441 SPI1-CLK, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0438\u043c blue-led \u043d\u0430 GPIO2B4.","date":"2025-09-17T00:00:00.000Z","tags":[{"inline":true,"label":"gpio","permalink":"/recipes/tags/gpio"},{"inline":true,"label":"led","permalink":"/recipes/tags/led"},{"inline":true,"label":"overlay","permalink":"/recipes/tags/overlay"},{"inline":true,"label":"armbian","permalink":"/recipes/tags/armbian"},{"inline":true,"label":"dts","permalink":"/recipes/tags/dts"},{"inline":true,"label":"spi","permalink":"/recipes/tags/spi"}],"readingTime":1.625,"hasTruncateMarker":false,"authors":[{"name":"dmn","title":"maintainer","url":"https://github.com/dmnovikov","imageURL":"https://avatars.githubusercontent.com/u/17533288?v=4","key":"dmn"}],"frontMatter":{"slug":"blue-led-gpio2b4","title":"\u041f\u0435\u0440\u0435\u043d\u043e\u0441 blue-led \u043d\u0430 GPIO2B4 \u0432 Armbian","authors":"dmn","tags":["gpio","led","overlay","armbian","dts","spi"],"telegram_id":20},"unlisted":false,"prevItem":{"title":"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043e\u043f\u0446\u0438\u0439 \u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u0438 \u044f\u0434\u0440\u0430 Linux","permalink":"/recipes/linux-kernel-config"},"nextItem":{"title":"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0451\u043d\u043d\u044b\u0445 series \u0432 InfluxDB","permalink":"/recipes/influxdb-series-repair"}},"content":"\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u0433\u043e \u043f\u0440\u0438\u043c\u0435\u0440\u0430 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0430 \u0438\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440\u0430: GPIO3B3 \u043a\u043e\u043d\u0444\u043b\u0438\u043a\u0442\u0443\u0435\u0442 \u0441 SPI1-CLK, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0438\u043c blue-led \u043d\u0430 GPIO2B4.\\n\\n## \u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u043c \u0440\u0435\u0448\u0435\u043d\u0438\u0435\u043c\\n\\n\u0412 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u043c \u043f\u0440\u0438\u043c\u0435\u0440\u0435 **GPIO3B3** \u043f\u043e\u043f\u0430\u043b \u043d\u0430 **SPI1-CLK**, \u0447\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u0432\u044b\u0437\u0432\u0430\u0442\u044c \u043a\u043e\u043d\u0444\u043b\u0438\u043a\u0442\u044b \u0441 SPI \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u043e\u043c. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u0431\u043e\u043b\u0435\u0435 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u044b\u0439 **GPIO2B4**.\\n\\n## \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0433\u043e overlay\\n\\n### \u0424\u0430\u0439\u043b blue-led-gpio2b4-1.dts:\\n\\n```dts\\n/dts-v1/;\\n/plugin/;\\n\\n/ {\\n    fragment@0 {\\n        /* \u0426\u0435\u043b\u0435\u0432\u043e\u0439 \u0443\u0437\u0435\u043b \u0438\u043c\u0435\u043d\u043d\u043e \u043f\u043e\u0434 /leds */\\n        target-path = \\"/leds/blue-led\\";\\n        __overlay__ {\\n            gpios = <&gpio2 12 0>;          /* GPIO2_B4, ACTIVE_HIGH */\\n            linux,default-trigger = \\"heartbeat\\";\\n            default-state = \\"on\\";\\n            status = \\"okay\\";\\n        };\\n    };\\n};\\n```\\n\\n## \u0420\u0430\u0441\u0447\u0435\u0442 \u043d\u043e\u043c\u0435\u0440\u0430 GPIO\\n\\n\u0414\u043b\u044f **GPIO2B4**:\\n- \u0411\u0430\u043d\u043a: **2** \\n- \u0413\u0440\u0443\u043f\u043f\u0430: **B** (8-15)\\n- \u041f\u0438\u043d: **4**\\n- **\u0418\u0442\u043e\u0433\u043e: 8 + 4 = 12**\\n\\n## \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 overlay\\n\\n### \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0441\u043f\u043e\u0441\u043e\u0431:\\n```bash\\narmbian-add-overlay blue-led-gpio2b4-1.dts\\n```\\n\\n### \u0420\u0443\u0447\u043d\u043e\u0439 \u0441\u043f\u043e\u0441\u043e\u0431:\\n```bash\\n# \u041a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u044f\\ndtc -@ -I dts -O dtb -o blue-led-gpio2b4-1.dtbo blue-led-gpio2b4-1.dts\\n\\n# \u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u0443\u044e \u043f\u0430\u043f\u043a\u0443\\nsudo cp blue-led-gpio2b4-1.dtbo /boot/dtb/overlay/\\n\\n# \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e\\necho \\"user_overlays=blue-led-gpio2b4-1\\" >> /boot/armbianEnv.txt\\n```\\n\\n## \u041f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439\\n\\n```bash\\nreboot\\n```\\n\\n## \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430\\n\\n### \u0412\u0438\u0437\u0443\u0430\u043b\u044c\u043d\u0430\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430:\\n- \u0414\u0438\u043e\u0434 \u0434\u043e\u043b\u0436\u0435\u043d \u043d\u0430\u0447\u0430\u0442\u044c \u043c\u0438\u0433\u0430\u0442\u044c \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 heartbeat \u043d\u0430 \u043f\u0438\u043d\u0435 GPIO2B4\\n\\n### \u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u0430\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430:\\n\\n```bash\\n# \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 LED\\nls -la /sys/class/leds/\\n\\n# \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0442\u0440\u0438\u0433\u0433\u0435\u0440\u0430\\ncat /sys/class/leds/blue-led/trigger\\n\\n# \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 GPIO\\ngpioinfo -c gpiochip2 | grep -A5 -B5 \\"line  12\\"\\n```\\n\\n## \u041f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430 GPIO2B4\\n\\n\u2705 **\u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u044c:**\\n- \u041d\u0435 \u043a\u043e\u043d\u0444\u043b\u0438\u043a\u0442\u0443\u0435\u0442 \u0441 SPI \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430\u043c\u0438\\n- \u041d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u043c\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u044f\u043c\u0438\\n- \u0414\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u043d\u0430 \u0440\u0430\u0437\u044a\u0435\u043c\u0435\\n\\n\u2705 **\u0421\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c:**\\n- \u0420\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0441\u043e \u0432\u0441\u0435\u043c\u0438 \u0432\u0435\u0440\u0441\u0438\u044f\u043c\u0438 Armbian\\n- \u041d\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u043e\u0432\\n\\n## \u041e\u0442\u043b\u0430\u0434\u043a\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\\n\\n### \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 overlay:\\n```bash\\ndmesg | grep overlay | grep blue-led\\n```\\n\\n### \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043a\u043e\u043d\u0444\u043b\u0438\u043a\u0442\u043e\u0432 GPIO:\\n```bash\\ncat /sys/kernel/debug/gpio\\n```\\n\\n### \u0412\u043e\u0437\u0432\u0440\u0430\u0442 \u043a \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e:\\n```bash\\n# \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0438\u0437 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438\\nsed -i \'/blue-led-gpio2b4-1/d\' /boot/armbianEnv.txt\\nreboot\\n```\\n\\n## \u0410\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u043f\u0438\u043d\u044b\\n\\n\u0415\u0441\u043b\u0438 GPIO2B4 \u0437\u0430\u043d\u044f\u0442, \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c:\\n- **GPIO2B3** (11) - `<&gpio2 11 0>`\\n- **GPIO2B5** (13) - `<&gpio2 13 0>`  \\n- **GPIO2C0** (16) - `<&gpio2 16 0>`\\n\\n\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u044b\u0439 \u043f\u0438\u043d \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u0432\u0430\u0448\u0435\u0439 \u0441\u0445\u0435\u043c\u043e\u0439 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f.\\n\\n\u0414\u0430\u043d\u043d\u043e\u0435 \u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0435\u0442 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u0440\u0430\u0431\u043e\u0442\u0443 heartbeat \u0438\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440\u0430 \u0431\u0435\u0437 \u043a\u043e\u043d\u0444\u043b\u0438\u043a\u0442\u043e\u0432 \u0441 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u043c\u0438 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430\u043c\u0438."},{"id":"influxdb-series-repair","metadata":{"permalink":"/recipes/influxdb-series-repair","source":"@site/techblog/2025-09-17-influxdb-series-repair/index.md","title":"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0451\u043d\u043d\u044b\u0445 series \u0432 InfluxDB","description":"\u041d\u0435\u043e\u0436\u0438\u0434\u0430\u043d\u043d\u043e InfluxDB \u043c\u043e\u0436\u0435\u0442 \u043f\u0435\u0440\u0435\u0441\u0442\u0430\u0442\u044c \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c\u0441\u044f \u0441 \u043e\u0448\u0438\u0431\u043a\u043e\u0439 \\"invalid series segment\\". \u0420\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u044d\u043a\u0441\u0442\u0440\u0435\u043d\u043d\u044b\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u043d\u044b\u0445 series \u0444\u0430\u0439\u043b\u043e\u0432.","date":"2025-09-17T00:00:00.000Z","tags":[{"inline":true,"label":"influxdb","permalink":"/recipes/tags/influxdb"},{"inline":true,"label":"repair","permalink":"/recipes/tags/repair"},{"inline":true,"label":"debugging","permalink":"/recipes/tags/debugging"},{"inline":true,"label":"series","permalink":"/recipes/tags/series"},{"inline":true,"label":"tsi","permalink":"/recipes/tags/tsi"}],"readingTime":1.67,"hasTruncateMarker":false,"authors":[{"name":"dmn","title":"maintainer","url":"https://github.com/dmnovikov","imageURL":"https://avatars.githubusercontent.com/u/17533288?v=4","key":"dmn"}],"frontMatter":{"slug":"influxdb-series-repair","title":"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0451\u043d\u043d\u044b\u0445 series \u0432 InfluxDB","authors":"dmn","tags":["influxdb","repair","debugging","series","tsi"],"telegram_id":19},"unlisted":false,"prevItem":{"title":"\u041f\u0435\u0440\u0435\u043d\u043e\u0441 blue-led \u043d\u0430 GPIO2B4 \u0432 Armbian","permalink":"/recipes/blue-led-gpio2b4"},"nextItem":{"title":"\u041f\u0435\u0440\u0435\u043d\u043e\u0441 heartbeat \u0434\u0438\u043e\u0434\u0430 \u043d\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 GPIO \u0447\u0435\u0440\u0435\u0437 overlay","permalink":"/recipes/gpio-heartbeat-overlay"}},"content":"\u041d\u0435\u043e\u0436\u0438\u0434\u0430\u043d\u043d\u043e InfluxDB \u043c\u043e\u0436\u0435\u0442 \u043f\u0435\u0440\u0435\u0441\u0442\u0430\u0442\u044c \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c\u0441\u044f \u0441 \u043e\u0448\u0438\u0431\u043a\u043e\u0439 \\"invalid series segment\\". \u0420\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u044d\u043a\u0441\u0442\u0440\u0435\u043d\u043d\u044b\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u043d\u044b\u0445 series \u0444\u0430\u0439\u043b\u043e\u0432.\\n\\n## \u0421\u0438\u043c\u043f\u0442\u043e\u043c\u044b \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b\\n\\nInfluxDB \u043d\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f \u0438 \u0432\u044b\u0434\u0430\u0435\u0442 \u043e\u0448\u0438\u0431\u043a\u0443:\\n\\n```bash\\nroot@napi-playfulokapi:~# /usr/lib/influxdb/scripts/influxd-systemd-start.sh\\n```\\n\\n```log\\n2025-09-16T08:54:29.621708Z     info    Welcome to InfluxDB     {\\"log_id\\": \\"0z0RZky0000\\", \\"version\\": \\"v2.7.1\\"}\\n2025-09-16T08:54:29.677535Z     info    Resources opened        {\\"service\\": \\"bolt\\", \\"path\\": \\"/root/.influxdbv2/influxd.bolt\\"}\\n2025-09-16T08:54:29.680849Z     info    Resources opened        {\\"service\\": \\"sqlite\\", \\"path\\": \\"/root/.influxdbv2/influxd.sqlite\\"}\\n2025-09-16T08:54:29.780689Z     error   Unable to open series file      {\\"path\\": \\"/root/.influxdbv2/engine/data/50d1dfc5f00c762d/_series\\", \\"partition\\": 0, \\"error\\": \\"invalid series segment\\"}\\n2025-09-16T08:54:29.781345Z     error   Failed to open engine   {\\"error\\": \\"invalid series segment\\"}\\nError: invalid series segment\\n```\\n\\n## \u0414\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a\u0430\\n\\n### 1. \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f series \u0444\u0430\u0439\u043b\u043e\u0432\\n\\n```bash\\ninfluxd inspect verify-seriesfile\\n```\\n\\n\u041e\u0448\u0438\u0431\u043e\u0447\u043d\u044b\u0439 \u0432\u044b\u0432\u043e\u0434:\\n```log\\n2025-09-16T09:00:55.486187Z  error   Error opening segment   {\\"path\\": \\"/root/.influxdbv2/engine/data/50d1dfc5f00c762d/_series\\", \\"partition\\": \\"01\\", \\"segment\\": \\"0000\\", \\"error\\": \\"invalid series segment\\"}\\n2025-09-16T09:00:55.497022Z  error   Error opening segment   {\\"path\\": \\"/root/.influxdbv2/engine/data/50d1dfc5f00c762d/_series\\", \\"partition\\": \\"00\\", \\"segment\\": \\"0000\\", \\"error\\": \\"invalid series segment\\"}  \\n2025-09-16T09:00:55.507980Z  error   Error opening segment   {\\"path\\": \\"/root/.influxdbv2/engine/data/50d1dfc5f00c762d/_series\\", \\"partition\\": \\"02\\", \\"segment\\": \\"0000\\", \\"error\\": \\"invalid series segment\\"}\\n```\\n\\n## \u042d\u043a\u0441\u0442\u0440\u0435\u043d\u043d\u043e\u0435 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435\\n\\n### 1. \u041e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 InfluxDB\\n\\n```bash\\nsystemctl stop influxdb\\n```\\n\\n### 2. \u0420\u0435\u0437\u0435\u0440\u0432\u043d\u043e\u0435 \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0451\u043d\u043d\u044b\u0445 files\\n\\n```bash\\n# \u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u044b\u0432\u0430\u0435\u043c \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u043d\u0443\u044e \u043f\u0430\u043f\u043a\u0443 series\\nmv /root/.influxdbv2/engine/data/50d1dfc5f00c762d/_series/ \\\\\\n   /root/.influxdbv2/engine/data/50d1dfc5f00c762d/_series.bad/\\n```\\n\\n### 3. \u041f\u0435\u0440\u0435\u0441\u0442\u0440\u043e\u0435\u043d\u0438\u0435 series \u0438\u043d\u0434\u0435\u043a\u0441\u0430\\n\\n```bash\\ninfluxd inspect build-tsi\\n```\\n\\n### 4. \u0417\u0430\u043f\u0443\u0441\u043a InfluxDB\\n\\n```bash\\nsystemctl start influxdb\\n```\\n\\n### 5. \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0440\u0430\u0431\u043e\u0442\u043e\u0441\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u0438\\n\\n```bash\\nsystemctl status influxdb\\njournalctl -u influxdb -f\\n```\\n\\n## \u0410\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u043c\u0435\u0442\u043e\u0434\u044b\\n\\n### \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0446\u0435\u043b\u043e\u0441\u0442\u043d\u043e\u0441\u0442\u0438 \u0432\u0441\u0435\u0445 \u0434\u0430\u043d\u043d\u044b\u0445:\\n\\n```bash\\n# \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 TSI \u0438\u043d\u0434\u0435\u043a\u0441\u043e\u0432\\ninfluxd inspect verify-tsi\\n\\n# \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 WAL \u0444\u0430\u0439\u043b\u043e\u0432  \\ninfluxd inspect verify-wal\\n\\n# \u041e\u0431\u0449\u0430\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445\\ninfluxd inspect dump-tsi\\n```\\n\\n### \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e buckets:\\n\\n```bash\\ninflux bucket list\\n```\\n\\n## \u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f\\n\\n\u26a0\ufe0f **\u0412\u0430\u0436\u043d\u043e:**\\n- \u042d\u0442\u043e\u0442 \u043c\u0435\u0442\u043e\u0434 \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u0438\u0432\u0435\u0441\u0442\u0438 \u043a \u043f\u043e\u0442\u0435\u0440\u0435 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u043c\u0435\u0442\u0430\u0434\u0430\u043d\u043d\u044b\u0445 series\\n- \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u043f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u043b\u043d\u0443\u044e \u0440\u0435\u0437\u0435\u0440\u0432\u043d\u0443\u044e \u043a\u043e\u043f\u0438\u044e\\n- \u0414\u0430\u043d\u043d\u044b\u0435 \u0438\u0437\u043c\u0435\u0440\u0435\u043d\u0438\u0439 \u043e\u0431\u044b\u0447\u043d\u043e \u043e\u0441\u0442\u0430\u044e\u0442\u0441\u044f \u0446\u0435\u043b\u044b\u043c\u0438, \u043d\u043e \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u0442\u0435\u0440\u044f\u0442\u044c\u0441\u044f \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 series \u043c\u0435\u0442\u0430\u0434\u0430\u043d\u043d\u044b\u0435\\n\\n\u26a0\ufe0f **\u0410\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u0430:**\\n- \u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u0437 \u0440\u0435\u0437\u0435\u0440\u0432\u043d\u043e\u0439 \u043a\u043e\u043f\u0438\u0438\\n- \u041c\u0438\u0433\u0440\u0430\u0446\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 \u043d\u043e\u0432\u0443\u044e \u0431\u0430\u0437\u0443 InfluxDB\\n\\n## \u041f\u0440\u043e\u0444\u0438\u043b\u0430\u043a\u0442\u0438\u043a\u0430\\n\\n### \u0420\u0435\u0433\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u0440\u0435\u0437\u0435\u0440\u0432\u043d\u044b\u0435 \u043a\u043e\u043f\u0438\u0438:\\n```bash\\n# \u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u0434\u0430\u043d\u043d\u044b\u0445\\ninflux backup /path/to/backup/\\n\\n# \u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 \u0437\u0434\u043e\u0440\u043e\u0432\u044c\u044f \u0411\u0414\\ninfluxd inspect verify-seriesfile --verbose\\n```\\n\\n\u0414\u0430\u043d\u043d\u044b\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u044d\u043a\u0441\u0442\u0440\u0435\u043d\u043d\u044b\u043c \u0438 \u043f\u043e\u043c\u043e\u0433 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u043e\u0441\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u044c InfluxDB, \u043a\u043e\u0433\u0434\u0430 \u043e\u0431\u044b\u0447\u043d\u0430\u044f \u043e\u0447\u0438\u0441\u0442\u043a\u0430 \u0431\u0430\u0437\u044b \u043d\u0435 \u043f\u043e\u043c\u043e\u0433\u0430\u043b\u0430."},{"id":"gpio-heartbeat-overlay","metadata":{"permalink":"/recipes/gpio-heartbeat-overlay","source":"@site/techblog/2025-09-15-gpio-heartbeat-overlay/index.md","title":"\u041f\u0435\u0440\u0435\u043d\u043e\u0441 heartbeat \u0434\u0438\u043e\u0434\u0430 \u043d\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 GPIO \u0447\u0435\u0440\u0435\u0437 overlay","description":"\u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0441\u0442\u0432\u043e \u043f\u043e \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0443 \u0438\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440\u0430 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438 (heartbeat LED) \u0441 \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u043e\u0433\u043e GPIO \u043d\u0430 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u044b\u0439 \u043f\u0438\u043d \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e overlay \u0432 Armbian.","date":"2025-09-15T00:00:00.000Z","tags":[{"inline":true,"label":"gpio","permalink":"/recipes/tags/gpio"},{"inline":true,"label":"heartbeat","permalink":"/recipes/tags/heartbeat"},{"inline":true,"label":"overlay","permalink":"/recipes/tags/overlay"},{"inline":true,"label":"armbian","permalink":"/recipes/tags/armbian"},{"inline":true,"label":"dts","permalink":"/recipes/tags/dts"}],"readingTime":1.555,"hasTruncateMarker":false,"authors":[{"name":"dmn","title":"maintainer","url":"https://github.com/dmnovikov","imageURL":"https://avatars.githubusercontent.com/u/17533288?v=4","key":"dmn"}],"frontMatter":{"slug":"gpio-heartbeat-overlay","title":"\u041f\u0435\u0440\u0435\u043d\u043e\u0441 heartbeat \u0434\u0438\u043e\u0434\u0430 \u043d\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 GPIO \u0447\u0435\u0440\u0435\u0437 overlay","authors":"dmn","tags":["gpio","heartbeat","overlay","armbian","dts"],"telegram_id":18},"unlisted":false,"prevItem":{"title":"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0451\u043d\u043d\u044b\u0445 series \u0432 InfluxDB","permalink":"/recipes/influxdb-series-repair"},"nextItem":{"title":"\u0414\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a\u0430 SD-NAND \u043a\u0430\u0440\u0442 \u0432 Linux - \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u043e\u0432","permalink":"/recipes/sd-nand-diagnostics"}},"content":"\u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0441\u0442\u0432\u043e \u043f\u043e \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0443 \u0438\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440\u0430 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438 (heartbeat LED) \u0441 \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u043e\u0433\u043e GPIO \u043d\u0430 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u044b\u0439 \u043f\u0438\u043d \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e overlay \u0432 Armbian.\\n\\n## \u0417\u0430\u0434\u0430\u0447\u0430\\n\\n\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e heartbeat \u0434\u0438\u043e\u0434 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u043d\u0430 **GPIO0A5**, \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u043d\u0435\u0442 \u043d\u0430 \\"\u0433\u0440\u0435\u0431\u0451\u043d\u043a\u0435\\" NAPI. \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u0435\u0440\u0435\u043d\u0435\u0441\u0442\u0438 \u0435\u0433\u043e \u043d\u0430 **GPIO3B3**, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u043d\u0430 \u0440\u0430\u0437\u044a\u0435\u043c\u0435 \u0438 \u043d\u0435 \u0437\u0430\u043d\u044f\u0442.\\n\\n## \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e overlay\\n\\n### 1. \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u0430 DTS\\n\\n\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0444\u0430\u0439\u043b `blue-led-gpio3b3-2.dts`:\\n\\n```dts\\n/dts-v1/;\\n/plugin/;\\n\\n/ {\\n    fragment@0 {\\n        /* \u0426\u0435\u043b\u0435\u0432\u043e\u0439 \u0443\u0437\u0435\u043b \u0434\u043b\u044f LED */\\n        target-path = \\"/leds/blue-led\\";\\n        __overlay__ {\\n            gpios = <&gpio3 27 0>;          /* GPIO3_B3, ACTIVE_HIGH */\\n            linux,default-trigger = \\"heartbeat\\";\\n            default-state = \\"on\\";\\n            status = \\"okay\\";\\n        };\\n    };\\n};\\n```\\n\\n### 2. \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 overlay \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443\\n\\n\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u0443\u044e \u043a\u043e\u043c\u0430\u043d\u0434\u0443 Armbian:\\n\\n```bash\\narmbian-add-overlay blue-led-gpio3b3-2.dts\\n```\\n\\n**\u0427\u0442\u043e \u0434\u0435\u043b\u0430\u0435\u0442 \u044d\u0442\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0430:**\\n- \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043a\u043e\u043c\u043f\u0438\u043b\u0438\u0440\u0443\u0435\u0442 `.dts` \u0432 `.dtbo`\\n- \u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0430\u0435\u0442 \u0444\u0430\u0439\u043b \u0432 \u043d\u0443\u0436\u043d\u0443\u044e \u043f\u0430\u043f\u043a\u0443\\n- \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442 \u0437\u0430\u043f\u0438\u0441\u044c \u0432 `armbianEnv.txt`\\n\\n### 3. \u041f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439\\n\\n```bash\\nreboot\\n```\\n\\n## \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430\\n\\n\u041f\u043e\u0441\u043b\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438:\\n\\n1. **\u0412\u0438\u0437\u0443\u0430\u043b\u044c\u043d\u0430\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430** - \u0434\u0438\u043e\u0434 \u0434\u043e\u043b\u0436\u0435\u043d \u043d\u0430\u0447\u0430\u0442\u044c \u043c\u0438\u0433\u0430\u0442\u044c \u043d\u0430 \u043d\u043e\u0432\u043e\u043c \u043f\u0438\u043d\u0435\\n2. **\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0433\u043e GPIO**:\\n\\n```bash\\n# \u041d\u0430\u0439\u0442\u0438 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0439 LED\\nfind /sys/class/leds -name \\"*blue*\\" -o -name \\"*heartbeat*\\"\\n\\n# \u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043a\u0430\u043a\u043e\u0439 GPIO \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f\\ncat /sys/class/leds/*/device/modalias\\n```\\n\\n## \u0420\u0430\u0441\u0447\u0435\u0442 \u043d\u043e\u043c\u0435\u0440\u0430 GPIO\\n\\n\u0414\u043b\u044f **GPIO3B3**:\\n- \u0411\u0430\u043d\u043a: **3**\\n- \u0413\u0440\u0443\u043f\u043f\u0430: **B** (8-15)\\n- \u041f\u0438\u043d: **3**\\n- \u0418\u0442\u043e\u0433\u043e: **8 + 3 = 11** (\u043d\u043e \u0432 DTS \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c **27** = 3*8 + 3)\\n\\n## \u0410\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 - \u0440\u0443\u0447\u043d\u043e\u0435 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\\n\\n### \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438:\\n```bash\\ncat /boot/armbianEnv.txt | grep overlay\\n```\\n\\n### \u0420\u0443\u0447\u043d\u043e\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435:\\n```bash\\necho \\"user_overlays=blue-led-gpio3b3-2\\" >> /boot/armbianEnv.txt\\n```\\n\\n## \u041e\u0442\u043b\u0430\u0434\u043a\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\\n\\n### \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 overlay:\\n```bash\\ndmesg | grep overlay\\ndmesg | grep gpio\\n```\\n\\n### \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 LED:\\n```bash\\nls -la /sys/class/leds/\\n```\\n\\n### \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0442\u0440\u0438\u0433\u0433\u0435\u0440\u043e\u0432:\\n```bash\\ncat /sys/class/leds/*/trigger\\n```\\n\\n## \u0412\u0430\u0436\u043d\u044b\u0435 \u0437\u0430\u043c\u0435\u0447\u0430\u043d\u0438\u044f\\n\\n- **GPIO3B3** \u043c\u043e\u0436\u0435\u0442 \u043f\u0435\u0440\u0435\u0441\u0435\u043a\u0430\u0442\u044c\u0441\u044f \u0441 **SPI1-CLK** - \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043a\u043e\u043d\u0444\u043b\u0438\u043a\u0442\u044b\\n- Overlay \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u0441\u043b\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438\\n- \u0414\u043b\u044f \u043e\u0442\u043c\u0435\u043d\u044b \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u0443\u0434\u0430\u043b\u0438\u0442\u0435 \u0441\u0442\u0440\u043e\u043a\u0443 \u0438\u0437 `armbianEnv.txt` \u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435\u0441\u044c\\n\\n\u042d\u0442\u043e\u0442 \u043c\u0435\u0442\u043e\u0434 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043b\u0435\u0433\u043a\u043e \u043f\u0435\u0440\u0435\u043d\u0430\u0437\u043d\u0430\u0447\u0430\u0442\u044c \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u0438\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440\u044b \u043d\u0430 \u0443\u0434\u043e\u0431\u043d\u044b\u0435 \u043f\u0438\u043d\u044b \u0431\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0431\u043e\u0440\u043a\u0438 \u044f\u0434\u0440\u0430."},{"id":"sd-nand-diagnostics","metadata":{"permalink":"/recipes/sd-nand-diagnostics","source":"@site/techblog/2025-08-31-sd-nand-diagnostics/index.md","title":"\u0414\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a\u0430 SD-NAND \u043a\u0430\u0440\u0442 \u0432 Linux - \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u043e\u0432","description":"\u041f\u0440\u0438 \u0440\u0430\u0431\u043e\u0442\u0435 \u0441 SD-NAND \u043a\u0430\u0440\u0442\u0430\u043c\u0438 \u0432 \u044f\u0434\u0440\u0430\u0445 Linux 6.x \u0438\u043d\u043e\u0433\u0434\u0430 \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u044e\u0442 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0441 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0435\u0439 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u043a\u0430\u0440\u0442, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Zetta. \u0414\u043b\u044f \u0434\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a\u0438 \u043f\u043e\u043b\u0435\u0437\u043d\u043e \u0443\u043c\u0435\u0442\u044c \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u043e\u0432 \u043a\u0430\u0440\u0442.","date":"2025-08-31T00:00:00.000Z","tags":[{"inline":true,"label":"sd-nand","permalink":"/recipes/tags/sd-nand"},{"inline":true,"label":"linux","permalink":"/recipes/tags/linux"},{"inline":true,"label":"diagnostics","permalink":"/recipes/tags/diagnostics"},{"inline":true,"label":"kernel","permalink":"/recipes/tags/kernel"},{"inline":true,"label":"zetta","permalink":"/recipes/tags/zetta"}],"readingTime":1.25,"hasTruncateMarker":false,"authors":[{"name":"dmn","title":"maintainer","url":"https://github.com/dmnovikov","imageURL":"https://avatars.githubusercontent.com/u/17533288?v=4","key":"dmn"}],"frontMatter":{"slug":"sd-nand-diagnostics","title":"\u0414\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a\u0430 SD-NAND \u043a\u0430\u0440\u0442 \u0432 Linux - \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u043e\u0432","authors":"dmn","tags":["sd-nand","linux","diagnostics","kernel","zetta"],"telegram_id":16},"unlisted":false,"prevItem":{"title":"\u041f\u0435\u0440\u0435\u043d\u043e\u0441 heartbeat \u0434\u0438\u043e\u0434\u0430 \u043d\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 GPIO \u0447\u0435\u0440\u0435\u0437 overlay","permalink":"/recipes/gpio-heartbeat-overlay"},"nextItem":{"title":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 Zigbee2mqtt \u043d\u0430 NAPI-C (P)","permalink":"/recipes/zigbee2mqtt-napi"}},"content":"\u041f\u0440\u0438 \u0440\u0430\u0431\u043e\u0442\u0435 \u0441 SD-NAND \u043a\u0430\u0440\u0442\u0430\u043c\u0438 \u0432 \u044f\u0434\u0440\u0430\u0445 Linux 6.x \u0438\u043d\u043e\u0433\u0434\u0430 \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u044e\u0442 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0441 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0435\u0439 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u043a\u0430\u0440\u0442, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Zetta. \u0414\u043b\u044f \u0434\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a\u0438 \u043f\u043e\u043b\u0435\u0437\u043d\u043e \u0443\u043c\u0435\u0442\u044c \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u043e\u0432 \u043a\u0430\u0440\u0442.\\n\\n## \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u043e\u0432 SD-NAND \u043a\u0430\u0440\u0442\\n\\n### \u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u044b \u0434\u043b\u044f \u0434\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a\u0438:\\n\\n```bash\\n# Card Identification Register\\ncat /sys/bus/mmc/devices/mmc0\\\\:1388/cid\\n\\n# Card Specific Data Register  \\ncat /sys/bus/mmc/devices/mmc0\\\\:1388/csd\\n\\n# Operation Conditions Register\\ncat /sys/bus/mmc/devices/mmc0\\\\:1388/ocr\\n\\n# Relative Card Address\\ncat /sys/bus/mmc/devices/mmc0\\\\:1388/rca\\n\\n# SD Card Configuration Register\\ncat /sys/bus/mmc/devices/mmc0\\\\:1388/scr\\n```\\n\\n### \u041f\u0440\u0438\u043c\u0435\u0440 \u0432\u044b\u0432\u043e\u0434\u0430 \u0434\u043b\u044f \u0440\u0430\u0437\u043d\u044b\u0445 \u043a\u0430\u0440\u0442:\\n\\n**\u041a\u0430\u0440\u0442\u0430 1:**\\n```bash\\nroot@napi-rk3308b-s:~# cat /sys/bus/mmc/devices/mmc0\\\\:1388/cid\\nba2345534134474206071c06fe016945\\n\\nroot@napi-rk3308b-s:~# cat /sys/bus/mmc/devices/mmc0\\\\:1388/csd\\n400e00325b5900001cdf7f800a4000d7\\n\\nroot@napi-rk3308b-s:~# cat /sys/bus/mmc/devices/mmc0\\\\:1388/ocr\\n0x00300000\\n\\nroot@napi-rk3308b-s:~# cat /sys/bus/mmc/devices/mmc0\\\\:1388/rca\\n0x1388\\n\\nroot@napi-rk3308b-s:~# cat /sys/bus/mmc/devices/mmc0\\\\:1388/scr\\n0235000e00000000\\n```\\n\\n**\u041a\u0430\u0440\u0442\u0430 2:**\\n```bash\\nroot@napi-nightstarfish:~# cat /sys/bus/mmc/devices/mmc0\\\\:1388/cid\\ne700115a6574746101b135ee4a719523\\n```\\n\\n## \u0420\u0430\u0441\u0448\u0438\u0444\u0440\u043e\u0432\u043a\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u043e\u0432\\n\\n### CID (Card Identification):\\n- \u0421\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u0435\\n- \u0421\u0435\u0440\u0438\u0439\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u043a\u0430\u0440\u0442\u044b\\n- \u0414\u0430\u0442\u0443 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u0430\\n\\n### CSD (Card Specific Data):\\n- \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u0434\u0430\u043d\u043d\u044b\u043c\\n- \u0420\u0430\u0437\u043c\u0435\u0440 \u043a\u0430\u0440\u0442\u044b\\n- \u0421\u043a\u043e\u0440\u043e\u0441\u0442\u043d\u044b\u0435 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438\\n\\n### OCR (Operation Conditions):\\n- \u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u044b\u0435 \u0443\u0440\u043e\u0432\u043d\u0438 \u043d\u0430\u043f\u0440\u044f\u0436\u0435\u043d\u0438\u044f\\n- \u0413\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u044c \u043a\u0430\u0440\u0442\u044b \u043a \u0440\u0430\u0431\u043e\u0442\u0435\\n\\n## \u041f\u043e\u0438\u0441\u043a \u043f\u0440\u043e\u0431\u043b\u0435\u043c\\n\\n### \u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0430\u0434\u0440\u0435\u0441\u0430 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430:\\n```bash\\n# \u041d\u0430\u0439\u0442\u0438 \u0432\u0441\u0435 MMC \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430\\nls /sys/bus/mmc/devices/\\n\\n# \u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0432\u0441\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u044b\\nls -la /sys/bus/mmc/devices/mmc0:*/\\n```\\n\\n### \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u0438:\\n```bash\\n# \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0445\u043e\u0441\u0442-\u043a\u043e\u043d\u0442\u0440\u043e\u043b\u043b\u0435\u0440\u0435\\ncat /proc/driver/mmc0\\n\\n# \u041b\u043e\u0433\u0438 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u043a\u0430\u0440\u0442\u044b\\ndmesg | grep mmc\\n```\\n\\n## \u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435\\n\\n\u042d\u0442\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e \u0432\u0430\u0436\u043d\u0430 \u043f\u0440\u0438:\\n- \u0414\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a\u0435 \u043f\u0440\u043e\u0431\u043b\u0435\u043c \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u0438 \u0441 \u043d\u043e\u0432\u044b\u043c\u0438 \u044f\u0434\u0440\u0430\u043c\u0438\\n- \u0412\u044b\u0431\u043e\u0440\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0438\u0445 SD-NAND \u043a\u0430\u0440\u0442 \u0434\u043b\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430\\n- \u041e\u0442\u043b\u0430\u0434\u043a\u0435 \u043f\u0440\u043e\u0431\u043b\u0435\u043c \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0432 embedded \u0441\u0438\u0441\u0442\u0435\u043c\u0430\u0445\\n\\n\u0421\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u043e\u0432 \u0440\u0430\u0437\u043d\u044b\u0445 \u043a\u0430\u0440\u0442 \u043f\u043e\u043c\u043e\u0433\u0430\u0435\u0442 \u0432\u044b\u044f\u0432\u0438\u0442\u044c \u0440\u0430\u0437\u043b\u0438\u0447\u0438\u044f \u0432 \u0438\u0445 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0430\u0445 \u0438 \u043f\u043e\u043d\u044f\u0442\u044c \u043f\u0440\u0438\u0447\u0438\u043d\u044b \u043f\u0440\u043e\u0431\u043b\u0435\u043c \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u0438 \u0441 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u043c\u0438 \u0432\u0435\u0440\u0441\u0438\u044f\u043c\u0438 \u044f\u0434\u0440\u0430 Linux."},{"id":"zigbee2mqtt-napi","metadata":{"permalink":"/recipes/zigbee2mqtt-napi","source":"@site/techblog/2025-08-29-zigbee2mqtt-napi/index.md","title":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 Zigbee2mqtt \u043d\u0430 NAPI-C (P)","description":"\u041f\u043e\u043b\u043d\u043e\u0435 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0441\u0442\u0432\u043e \u043f\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0435 Zigbee2mqtt \u043d\u0430 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430 NAPI-C \u0438 NAPI-P \u0441 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u043e\u0439 Armbian.","date":"2025-08-29T00:00:00.000Z","tags":[{"inline":true,"label":"zigbee2mqtt","permalink":"/recipes/tags/zigbee-2-mqtt"},{"inline":true,"label":"napi","permalink":"/recipes/tags/napi"},{"inline":true,"label":"armbian","permalink":"/recipes/tags/armbian"},{"inline":true,"label":"nodejs","permalink":"/recipes/tags/nodejs"},{"inline":true,"label":"mosquitto","permalink":"/recipes/tags/mosquitto"},{"inline":true,"label":"systemd","permalink":"/recipes/tags/systemd"}],"readingTime":1.71,"hasTruncateMarker":false,"authors":[{"name":"dmn","title":"maintainer","url":"https://github.com/dmnovikov","imageURL":"https://avatars.githubusercontent.com/u/17533288?v=4","key":"dmn"}],"frontMatter":{"slug":"zigbee2mqtt-napi","title":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 Zigbee2mqtt \u043d\u0430 NAPI-C (P)","authors":"dmn","tags":["zigbee2mqtt","napi","armbian","nodejs","mosquitto","systemd"],"telegram_id":15},"unlisted":false,"prevItem":{"title":"\u0414\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a\u0430 SD-NAND \u043a\u0430\u0440\u0442 \u0432 Linux - \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u043e\u0432","permalink":"/recipes/sd-nand-diagnostics"},"nextItem":{"title":"\u0427\u0442\u0435\u043d\u0438\u0435 \u0438 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 EEPROM \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f FT232","permalink":"/recipes/ft232-eeprom-reading"}},"content":"\u041f\u043e\u043b\u043d\u043e\u0435 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0441\u0442\u0432\u043e \u043f\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0435 Zigbee2mqtt \u043d\u0430 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430 NAPI-C \u0438 NAPI-P \u0441 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u043e\u0439 Armbian.\\n\\n## 1. \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 Armbian\\n\\n\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0441 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b Armbian \u043d\u0430 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e.\\n\\n## 2. \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0445 \u043f\u0430\u043a\u0435\u0442\u043e\u0432\\n\\n```bash\\n# \u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b\\napt-get install -y curl\\n\\n# \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 Node.js LTS\\ncurl -fsSL https://deb.nodesource.com/setup_lts.x | sudo -E bash -\\napt-get install -y nodejs git make g++ gcc libsystemd-dev tmux\\n\\n# \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 Mosquitto MQTT \u0431\u0440\u043e\u043a\u0435\u0440\u0430\\napt install -y mosquitto mosquitto-clients\\n\\n# \u0412\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 corepack \u0434\u043b\u044f pnpm\\ncorepack enable\\n```\\n\\n## 3. \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u0430\\n\\n```bash\\nmkdir /opt/zigbee2mqtt\\n```\\n\\n## 4. \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043f\u0440\u0430\u0432 \u0434\u043e\u0441\u0442\u0443\u043f\u0430\\n\\n\u041d\u0430 \u0441\u043b\u0443\u0447\u0430\u0439 \u0435\u0441\u043b\u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u043d\u0435 \u043e\u0442 root:\\n\\n```bash\\nsudo chown -R ${USER}: /opt/zigbee2mqtt\\n```\\n\\n## 5. \u0421\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u0435 \u0438\u0441\u0445\u043e\u0434\u043d\u043e\u0433\u043e \u043a\u043e\u0434\u0430\\n\\n```bash\\ngit clone --depth 1 https://github.com/Koenkk/zigbee2mqtt.git /opt/zigbee2mqtt\\n```\\n\\n## 6. \u041f\u0435\u0440\u0435\u0445\u043e\u0434 \u0432 \u0440\u0430\u0431\u043e\u0447\u0438\u0439 \u043a\u0430\u0442\u0430\u043b\u043e\u0433\\n\\n```bash\\ncd /opt/zigbee2mqtt\\n```\\n\\n## 7. \u0421\u0431\u043e\u0440\u043a\u0430 \u0432 tmux\\n\\n\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u043c tmux \u0434\u043b\u044f \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0435\u043d\u0438\u044f \u0441\u0431\u043e\u0440\u043a\u0438 \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u0439 \u0441\u0435\u0441\u0441\u0438\u0438:\\n\\n```bash\\ntmux\\n```\\n\\n## 8. \u0421\u0431\u043e\u0440\u043a\u0430 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f\\n\\n\u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0441\u0431\u043e\u0440\u043a\u0443 \u0432 \u043e\u0434\u0438\u043d \u043f\u043e\u0442\u043e\u043a (\u0432\u0430\u0436\u043d\u043e \u0434\u043b\u044f \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432 \u0441 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u044b\u043c\u0438 \u0440\u0435\u0441\u0443\u0440\u0441\u0430\u043c\u0438):\\n\\n```bash\\npnpm install --frozen-lockfile --child-concurrency=1\\n```\\n\\n## 9. \u041f\u0435\u0440\u0432\u044b\u0439 \u0437\u0430\u043f\u0443\u0441\u043a\\n\\n\u041f\u043e\u0441\u043b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0439 \u0441\u0431\u043e\u0440\u043a\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u043c \u043f\u0435\u0440\u0432\u044b\u0439 \u0437\u0430\u043f\u0443\u0441\u043a:\\n\\n```bash\\ncd /opt/zigbee2mqtt\\npnpm start\\n```\\n\\n## 10. \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0438\u0441\u0430\\n\\n\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0444\u0430\u0439\u043b \u0441\u0435\u0440\u0432\u0438\u0441\u0430:\\n\\n```bash\\nnano /etc/systemd/system/zigbee2mqtt.service\\n```\\n\\n\u0421 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u044b\u043c:\\n\\n```ini\\n[Unit]\\nDescription=zigbee2mqtt\\nAfter=network.target\\n\\n[Service]\\nEnvironment=NODE_ENV=production\\nType=simple\\nExecStart=/usr/bin/pnpm start\\nWorkingDirectory=/opt/zigbee2mqtt\\nStandardOutput=inherit\\nStandardError=inherit\\nRestart=always\\nRestartSec=10\\n\\n[Install]\\nWantedBy=multi-user.target\\n```\\n\\n## 11. \u0410\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u044f \u0438 \u0437\u0430\u043f\u0443\u0441\u043a \u0441\u0435\u0440\u0432\u0438\u0441\u0430\\n\\n```bash\\n# \u041f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 systemd\\nsystemctl daemon-reload\\n\\n# \u0412\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0430\u0432\u0442\u043e\u0437\u0430\u043f\u0443\u0441\u043a\u0430\\nsystemctl enable zigbee2mqtt.service\\n\\n# \u0417\u0430\u043f\u0443\u0441\u043a \u0441\u0435\u0440\u0432\u0438\u0441\u0430\\nsystemctl start zigbee2mqtt.service\\n\\n# \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0441\u0442\u0430\u0442\u0443\u0441\u0430\\nsystemctl status zigbee2mqtt.service\\n\\n# \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043b\u043e\u0433\u043e\u0432\\njournalctl -u zigbee2mqtt.service -f\\n```\\n\\n## \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438\\n\\n### \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f Zigbee2mqtt\\n\\n\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0444\u0430\u0439\u043b \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0432 `/opt/zigbee2mqtt/data/configuration.yaml`. \u041e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0435\u0433\u043e \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u0432\u0430\u0448\u0438\u043c\u0438 \u043f\u043e\u0442\u0440\u0435\u0431\u043d\u043e\u0441\u0442\u044f\u043c\u0438.\\n\\n### \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0440\u0430\u0431\u043e\u0442\u044b\\n\\n```bash\\n# \u0421\u0442\u0430\u0442\u0443\u0441 \u0432\u0441\u0435\u0445 \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0445 \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432\\nsystemctl status mosquitto zigbee2mqtt\\n\\n# \u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 MQTT \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439\\nmosquitto_sub -t \\"zigbee2mqtt/#\\" -v\\n```\\n\\n## \u041e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u043d\u0430 NAPI\\n\\n- \u0421\u0431\u043e\u0440\u043a\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0432 \u043e\u0434\u0438\u043d \u043f\u043e\u0442\u043e\u043a \u0438\u0437-\u0437\u0430 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u044b\u0445 \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432\\n- \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 tmux \u0434\u043b\u044f \u0434\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0441\u0431\u043e\u0440\u043a\u0438\\n- \u041f\u043e\u0441\u043b\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u0443\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c \u0432 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0439 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0435 Zigbee \u0430\u0434\u0430\u043f\u0442\u0435\u0440\u0430 \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438\\n\\n\u0414\u0430\u043d\u043d\u0430\u044f \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0435\u0442 \u0441\u0442\u0430\u0431\u0438\u043b\u044c\u043d\u0443\u044e \u0440\u0430\u0431\u043e\u0442\u0443 Zigbee2mqtt \u043d\u0430 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430\u0445 NAPI \u0441 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u043c \u0437\u0430\u043f\u0443\u0441\u043a\u043e\u043c \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u044b."},{"id":"ft232-eeprom-reading","metadata":{"permalink":"/recipes/ft232-eeprom-reading","source":"@site/techblog/2025-08-15-ft232-eeprom-reading/index.md","title":"\u0427\u0442\u0435\u043d\u0438\u0435 \u0438 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 EEPROM \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f FT232","description":"\u041f\u043e\u043b\u043d\u043e\u0435 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0441\u0442\u0432\u043e \u043f\u043e \u0447\u0442\u0435\u043d\u0438\u044e \u0438 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044e \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0435\u0439 \u043f\u0440\u043e\u0448\u0438\u0432\u043a\u0438 \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f RTU-USB FT232 \u0432 Linux.","date":"2025-08-15T00:00:00.000Z","tags":[{"inline":true,"label":"ft232","permalink":"/recipes/tags/ft-232"},{"inline":true,"label":"eeprom","permalink":"/recipes/tags/eeprom"},{"inline":true,"label":"usb","permalink":"/recipes/tags/usb"},{"inline":true,"label":"uart","permalink":"/recipes/tags/uart"},{"inline":true,"label":"linux","permalink":"/recipes/tags/linux"},{"inline":true,"label":"cbus","permalink":"/recipes/tags/cbus"}],"readingTime":1.81,"hasTruncateMarker":false,"authors":[{"name":"dmn","title":"maintainer","url":"https://github.com/dmnovikov","imageURL":"https://avatars.githubusercontent.com/u/17533288?v=4","key":"dmn"}],"frontMatter":{"slug":"ft232-eeprom-reading","title":"\u0427\u0442\u0435\u043d\u0438\u0435 \u0438 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 EEPROM \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f FT232","authors":"dmn","tags":["ft232","eeprom","usb","uart","linux","cbus"],"telegram_id":14},"unlisted":false,"prevItem":{"title":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 Zigbee2mqtt \u043d\u0430 NAPI-C (P)","permalink":"/recipes/zigbee2mqtt-napi"},"nextItem":{"title":"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f uEnv.txt \u0434\u043b\u044f \u0421\u0431\u043e\u0440\u0449\u0438\u043a \u043a\u043e\u043c\u043f\u0430\u043a\u0442 0.3","permalink":"/recipes/fcc03-uenv-config"}},"content":"\u041f\u043e\u043b\u043d\u043e\u0435 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0441\u0442\u0432\u043e \u043f\u043e \u0447\u0442\u0435\u043d\u0438\u044e \u0438 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044e \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0435\u0439 \u043f\u0440\u043e\u0448\u0438\u0432\u043a\u0438 \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f RTU-USB FT232 \u0432 Linux.\\n\\n## \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u043e\u0433\u043e \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f\\n\\n```bash\\nsudo apt install libftdi1-2 libftdi1-dev ftdi-eeprom\\n```\\n\\n## \u0427\u0442\u0435\u043d\u0438\u0435 EEPROM\\n\\n### 1. \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430\\n\\n```bash\\ntouch c.txt  # \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u043f\u0443\u0441\u0442\u043e\u0439 \u0444\u0430\u0439\u043b\\n\\n# vendor/product \u0441\u043c\u043e\u0442\u0440\u0438\u043c \u0432 lsusb\\necho \'vendor_id=0x0403\\nproduct_id=0x6001\' > c.txt\\n```\\n\\n### 2. \u0427\u0442\u0435\u043d\u0438\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0433\u043e EEPROM\\n\\n```bash\\nftdi_eeprom --read-eeprom c.txt --verbose\\n```\\n\\n### \u041f\u0440\u0438\u043c\u0435\u0440 \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0433\u043e \u0432\u044b\u0432\u043e\u0434\u0430:\\n\\n```\\nFTDI eeprom generator v0.17\\n(c) Intra2net AG and the libftdi developers <opensource@intra2net.com>\\nFTDI read eeprom: 0\\nEEPROM size: 128\\nVID:     0x0403\\nPID:     0x6001\\nRelease: 0x0000\\nBus Powered:  90 mA USB Remote Wake Up\\nManufacturer: FTDI\\nProduct:      FT232R USB UART\\nSerial:       A10M5ZU3\\nChecksum      : 17cb\\nInternal EEPROM\\nOscillator: Internal\\nEnable Remote Wake Up\\nPNP: 1\\nChannel A has Mode UART VCP\\nC0 Function: TXLED\\nC1 Function: RXLED\\nC2 Function: TXDEN\\nC3 Function: PWREN\\nC4 Function: SLEEP\\nWarning: Not writing eeprom, you must supply a valid filename\\nFTDI close: 0\\n```\\n\\n## \u0417\u0430\u0447\u0435\u043c \u044d\u0442\u043e \u043d\u0443\u0436\u043d\u043e?\\n\\n\ud83d\ude4b\u200d\u2640\ufe0f **\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u044b:**\\n\\n- **\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0436\u0438\u0432 \u043b\u0438 FT232** - \u0434\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a\u0430 \u0440\u0430\u0431\u043e\u0442\u043e\u0441\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u0438 \u0447\u0438\u043f\u0430\\n- **\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043b\u0438\u043d\u0438\u0439 CBUS (C0-C4)** - \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u044b \u0434\u043b\u044f \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439\\n\\n## \u041f\u043e\u043b\u0435\u0437\u043d\u044b\u0435 \u0444\u0430\u043a\u0442\u044b\\n\\n\ud83d\udc4d **\u0414\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u044b:**\\n\\n### \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 USB \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438:\\n```bash\\nlsusb -v  # \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 bConfigurationValue = 1\\n```\\n\\n### \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f PWREN#:\\n- \u041f\u043e\u0441\u043b\u0435 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u043e\u043c \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0432 **\u041d\u0423\u041b\u0415 (0)**\\n\\n### \u041f\u043e\u043d\u0438\u043c\u0430\u043d\u0438\u0435 SLEEP#:\\n- **SLEEP# = 1** - USB-\u0448\u0438\u043d\u0430 \u0432 \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e\u043c \u0440\u0430\u0431\u043e\u0447\u0435\u043c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0438  \\n- **SLEEP# = 0** - \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 suspend (\u0441\u043f\u044f\u0449\u0438\u0439 \u0440\u0435\u0436\u0438\u043c)\\n\\n## \u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0438 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\\n\\n### \u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0441\u044b\u0440\u043e\u0433\u043e EEPROM:\\n```bash\\nsudo ftdi_eeprom --read-eeprom \u0442\u0435\u043a\u0443\u0449\u0438\u0439.conf --device ft232 --small-eeprom --eeprom-filename \u0434\u0430\u043c\u043f.bin\\n```\\n\\n### \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u043e\u0433\u043e \u043a\u043e\u043d\u0444\u0438\u0433\u0430 (ftdi.conf):\\n```bash\\nvendor_id=0x0403\\nproduct_id=0x6001\\nmanufacturer=\\"MyCompany\\"\\nproduct=\\"My FT232R\\"\\nserial=\\"FT123456\\"\\n\\n# CBUS configuration:\\ncbus0=1   # \u041c\u043e\u0436\u043d\u043e \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u043a \u0435\u0441\u0442\u044c \u0438\u043b\u0438 \u043d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c PWREN\\ncbus1=1   # PWREN, \u043a \u043f\u0440\u0438\u043c\u0435\u0440\u0443\\ncbus2=0   # TXDEN\\ncbus3=2   # RXLED (\u0438\u043c\u0438\u0442\u0430\u0446\u0438\u044f RXDEN \u0447\u0435\u0440\u0435\u0437 LED#)\\ncbus4=4   # TXRXLED\\n```\\n\\n### \u041f\u0440\u043e\u0448\u0438\u0432\u043a\u0430 \u043d\u043e\u0432\u043e\u0439 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438:\\n```bash\\nsudo ftdi_eeprom --flash-eeprom ftdi.conf\\n```\\n\\n## \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u0435 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b\\n\\n\u041f\u0440\u0438 \u043e\u0448\u0438\u0431\u043a\u0435 \\"device not found\\" \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435:\\n1. \u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430: `lsusb`\\n2. \u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u043f\u0440\u0430\u0432\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a USB \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430\u043c\\n3. \u0423\u0431\u0435\u0434\u0438\u0442\u044c\u0441\u044f \u0447\u0442\u043e \u0434\u0440\u0430\u0439\u0432\u0435\u0440 \u043d\u0435 \u0437\u0430\u043d\u044f\u043b \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e: `sudo rmmod ftdi_sio usbserial`\\n\\n\u042d\u0442\u043e\u0442 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e FT232 \u0438 \u0430\u0434\u0430\u043f\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0435\u0433\u043e \u043f\u043e\u0434 \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430."},{"id":"fcc03-uenv-config","metadata":{"permalink":"/recipes/fcc03-uenv-config","source":"@site/techblog/2025-08-13-fcc03-uenv-config/index.md","title":"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f uEnv.txt \u0434\u043b\u044f \u0421\u0431\u043e\u0440\u0449\u0438\u043a \u043a\u043e\u043c\u043f\u0430\u043a\u0442 0.3","description":"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u0447\u0438\u043a\u0430 \u0434\u043b\u044f \u043c\u043e\u0434\u0443\u043b\u044f \\"\u0421\u0431\u043e\u0440\u0449\u0438\u043a \u043a\u043e\u043c\u043f\u0430\u043a\u0442 0.3\\" \u0441 \u0431\u043b\u043e\u043a\u043e\u043c \u043f\u0438\u0442\u0430\u043d\u0438\u044f 1.2\u0410.","date":"2025-08-13T00:00:00.000Z","tags":[{"inline":true,"label":"fcc03","permalink":"/recipes/tags/fcc-03"},{"inline":true,"label":"uenv","permalink":"/recipes/tags/uenv"},{"inline":true,"label":"rs485","permalink":"/recipes/tags/rs-485"},{"inline":true,"label":"rk3308","permalink":"/recipes/tags/rk-3308"},{"inline":true,"label":"overlay","permalink":"/recipes/tags/overlay"}],"readingTime":0.895,"hasTruncateMarker":false,"authors":[{"name":"dmn","title":"maintainer","url":"https://github.com/dmnovikov","imageURL":"https://avatars.githubusercontent.com/u/17533288?v=4","key":"dmn"}],"frontMatter":{"slug":"fcc03-uenv-config","title":"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f uEnv.txt \u0434\u043b\u044f \u0421\u0431\u043e\u0440\u0449\u0438\u043a \u043a\u043e\u043c\u043f\u0430\u043a\u0442 0.3","authors":"dmn","tags":["fcc03","uenv","rs485","rk3308","overlay"],"telegram_id":13},"unlisted":false,"prevItem":{"title":"\u0427\u0442\u0435\u043d\u0438\u0435 \u0438 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 EEPROM \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f FT232","permalink":"/recipes/ft232-eeprom-reading"},"nextItem":{"title":"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f UART \u043d\u0430 \u043c\u043e\u0434\u0443\u043b\u0435 CM4 \u0432 \u0422\u043e\u043a\u043e\u0441\u0431\u043e\u0440\u0449\u0438\u043a\u0435","permalink":"/recipes/cm4-uart-configuration"}},"content":"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u0447\u0438\u043a\u0430 \u0434\u043b\u044f \u043c\u043e\u0434\u0443\u043b\u044f \\"\u0421\u0431\u043e\u0440\u0449\u0438\u043a \u043a\u043e\u043c\u043f\u0430\u043a\u0442 0.3\\" \u0441 \u0431\u043b\u043e\u043a\u043e\u043c \u043f\u0438\u0442\u0430\u043d\u0438\u044f 1.2\u0410.\\n\\n## \u0421\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435 uEnv.txt\\n\\n\u0424\u0430\u0439\u043b `/boot/uEnv.txt` \u0434\u043b\u044f \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430:\\n\\n```bash\\nverbosity=7\\nfdtfile=rk3308-napi-c.dtb\\nconsole=ttyS0,115200n8\\noverlays=rk3308-uart1 rk3308-uart3-m0 rk3308-i2c1-ds1338 rk3308-i2c3-m0 rk3308-usb20-host\\nkernelimg=Image\\nextraargs=\\n```\\n\\n## \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432\\n\\n### \u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438:\\n- **verbosity=7** - \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0441\u0442\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438\\n- **fdtfile=rk3308-napi-c.dtb** - \u0444\u0430\u0439\u043b \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430 \u0434\u043b\u044f RK3308\\n- **console=ttyS0,115200n8** - \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043a\u043e\u043d\u0441\u043e\u043b\u044c\u043d\u043e\u0433\u043e \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430\\n- **kernelimg=Image** - \u0438\u043c\u044f \u0444\u0430\u0439\u043b\u0430 \u044f\u0434\u0440\u0430\\n\\n### \u0410\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043e\u0432\u0435\u0440\u043b\u0435\u0438:\\n- **rk3308-uart1** - UART1 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\\n- **rk3308-uart3-m0** - UART3 \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 m0  \\n- **rk3308-i2c1-ds1338** - I2C1 \u0434\u043b\u044f \u0447\u0430\u0441\u043e\u0432 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 DS1338\\n- **rk3308-i2c3-m0** - I2C3 \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 m0\\n- **rk3308-usb20-host** - USB 2.0 \u0445\u043e\u0441\u0442 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u043b\u0435\u0440\\n\\n## \u0412\u0430\u0436\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e RS485\\n\\n\ud83d\udd25 **\u0412\u0430\u0436\u043d\u043e**: \u0423 \u0434\u0430\u043d\u043d\u043e\u0439 \u043c\u043e\u0434\u0435\u043b\u0438 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 RS485 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u043d\u0430 `/dev/ttyS3`\\n\\n### \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 RS485:\\n\\n```bash\\n# \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043d\u0430\u043b\u0438\u0447\u0438\u044f \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430\\nls -la /dev/ttyS3\\n\\n# \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u043f\u043e\u0440\u0442\u0430\\nstty -F /dev/ttyS3\\n```\\n\\n## \u041f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438\\n\\n1. \u0421\u043a\u043e\u043f\u0438\u0440\u0443\u0439\u0442\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u0432 \u0444\u0430\u0439\u043b `/boot/uEnv.txt`\\n2. \u041f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u0443\\n3. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0440\u0430\u0431\u043e\u0442\u0443 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u043e\u0432\\n\\n```bash\\n# \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u044b\u0445 \u043e\u0432\u0435\u0440\u043b\u0435\u0435\u0432\\ndmesg | grep overlay\\n\\n# \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 UART\\nls -la /dev/ttyS*\\n```\\n\\n\u0414\u0430\u043d\u043d\u0430\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0435\u0442 \u043f\u043e\u043b\u043d\u0443\u044e \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u0441\u0435\u0445 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u043e\u0432 \u043c\u043e\u0434\u0443\u043b\u044f FCC03."},{"id":"cm4-uart-configuration","metadata":{"permalink":"/recipes/cm4-uart-configuration","source":"@site/techblog/2025-08-10-cm4-uart-configuration/index.md","title":"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f UART \u043d\u0430 \u043c\u043e\u0434\u0443\u043b\u0435 CM4 \u0432 \u0422\u043e\u043a\u043e\u0441\u0431\u043e\u0440\u0449\u0438\u043a\u0435","description":"\u0412 \u0422\u043e\u043a\u043e\u0441\u0431\u043e\u0440\u0449\u0438\u043a\u0435 \u043d\u0430 \u043c\u043e\u0434\u0443\u043b\u0435 CM4 UART \u043f\u043e\u0440\u0442\u044b \u0438\u043c\u0435\u044e\u0442 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0438 \u0442\u0440\u0435\u0431\u0443\u044e\u0442 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0439 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043e\u0432\u0435\u0440\u043b\u0435\u0435\u0432.","date":"2025-08-10T00:00:00.000Z","tags":[{"inline":true,"label":"uart","permalink":"/recipes/tags/uart"},{"inline":true,"label":"cm4","permalink":"/recipes/tags/cm-4"},{"inline":true,"label":"orangepi","permalink":"/recipes/tags/orangepi"},{"inline":true,"label":"overlay","permalink":"/recipes/tags/overlay"},{"inline":true,"label":"modbus","permalink":"/recipes/tags/modbus"},{"inline":true,"label":"zigbee","permalink":"/recipes/tags/zigbee"}],"readingTime":0.625,"hasTruncateMarker":false,"authors":[{"name":"dmn","title":"maintainer","url":"https://github.com/dmnovikov","imageURL":"https://avatars.githubusercontent.com/u/17533288?v=4","key":"dmn"}],"frontMatter":{"slug":"cm4-uart-configuration","title":"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f UART \u043d\u0430 \u043c\u043e\u0434\u0443\u043b\u0435 CM4 \u0432 \u0422\u043e\u043a\u043e\u0441\u0431\u043e\u0440\u0449\u0438\u043a\u0435","authors":"dmn","tags":["uart","cm4","orangepi","overlay","modbus","zigbee"],"telegram_id":12},"unlisted":false,"prevItem":{"title":"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f uEnv.txt \u0434\u043b\u044f \u0421\u0431\u043e\u0440\u0449\u0438\u043a \u043a\u043e\u043c\u043f\u0430\u043a\u0442 0.3","permalink":"/recipes/fcc03-uenv-config"},"nextItem":{"title":"Python-\u0441\u043d\u0438\u0444\u0444\u0435\u0440 \u0434\u043b\u044f \u0430\u043d\u0430\u043b\u0438\u0437\u0430 Modbus RTU \u0442\u0440\u0430\u0444\u0438\u043a\u0430","permalink":"/recipes/modbus-sniffer-python"}},"content":"\u0412 \u0422\u043e\u043a\u043e\u0441\u0431\u043e\u0440\u0449\u0438\u043a\u0435 \u043d\u0430 \u043c\u043e\u0434\u0443\u043b\u0435 CM4 UART \u043f\u043e\u0440\u0442\u044b \u0438\u043c\u0435\u044e\u0442 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0438 \u0442\u0440\u0435\u0431\u0443\u044e\u0442 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0439 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043e\u0432\u0435\u0440\u043b\u0435\u0435\u0432.\\n\\n## \u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 UART \u043f\u043e\u0440\u0442\u043e\u0432\\n\\n\u2714\ufe0f **UART3** - \u0432\u043d\u0435\u0448\u043d\u0438\u0439 \u0434\u0430\u0442\u0447\u0438\u043a Modbus  \\n\u2714\ufe0f **UART9** - \u043c\u043e\u0434\u0443\u043b\u044c \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0439 (Zigbee)  \\n\u2714\ufe0f **UART7** - \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u044b\u0439 \u0434\u0430\u0442\u0447\u0438\u043a \u0442\u043e\u043a\u0430\\n\\n## \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u043e\u0432\u0435\u0440\u043b\u0435\u0435\u0432\\n\\n\u0414\u043b\u044f \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b \u0432 Debian \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043e\u0432\u0435\u0440\u043b\u0435\u0438 \u0441 uart7,9 \u0432 \u0444\u0430\u0439\u043b\u0435 `/boot/orangepiEnv.txt`:\\n\\n```bash\\nverbosity=1\\nbootlogo=false\\nextraargs=cma=128M\\noverlay_prefix=rk356x\\noverlays=uart7-m2 uart9-m2\\nrootdev=UUID=a0f8ca89-7eb7-4a1e-947a-2341637b4782\\nrootfstype=ext4\\nconsole=serial\\n```\\n\\n## \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438\\n\\n\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438:\\n\\n```bash\\ncat /boot/orangepiEnv.txt\\n```\\n\\n## \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0438\\n\\n\u041f\u043e\u0441\u043b\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043d\u0430\u043b\u0438\u0447\u0438\u0435 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432:\\n\\n```bash\\nls -la /dev/ttyS*\\n```\\n\\n\u0414\u043e\u043b\u0436\u043d\u044b \u043f\u043e\u044f\u0432\u0438\u0442\u044c\u0441\u044f \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430:\\n- `/dev/ttyS3` - \u0434\u043b\u044f \u0432\u043d\u0435\u0448\u043d\u0435\u0433\u043e Modbus \u0434\u0430\u0442\u0447\u0438\u043a\u0430  \\n- `/dev/ttyS7` - \u0434\u043b\u044f \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u043e\u0433\u043e \u0434\u0430\u0442\u0447\u0438\u043a\u0430 \u0442\u043e\u043a\u0430\\n- `/dev/ttyS9` - \u0434\u043b\u044f \u043c\u043e\u0434\u0443\u043b\u044f \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0439 Zigbee\\n\\n\u042d\u0442\u0430 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0435\u0442 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u0440\u0430\u0431\u043e\u0442\u0443 \u0432\u0441\u0435\u0445 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u043e\u0432 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 \u0422\u043e\u043a\u043e\u0441\u0431\u043e\u0440\u0449\u0438\u043a\u0430 \u043d\u0430 \u0431\u0430\u0437\u0435 CM4."},{"id":"modbus-sniffer-python","metadata":{"permalink":"/recipes/modbus-sniffer-python","source":"@site/techblog/2025-08-08-modbus-sniffer-python/index.md","title":"Python-\u0441\u043d\u0438\u0444\u0444\u0435\u0440 \u0434\u043b\u044f \u0430\u043d\u0430\u043b\u0438\u0437\u0430 Modbus RTU \u0442\u0440\u0430\u0444\u0438\u043a\u0430","description":"\u041d\u0430\u043f\u0438\u0441\u0430\u043b \\"\u043d\u0430 \u043a\u043e\u043b\u0435\u043d\u043a\u0435\\" \u043f\u043e\u043b\u0435\u0437\u043d\u044b\u0439 \u0441\u043d\u0438\u0444\u0444\u0435\u0440 \u0434\u043b\u044f \u0430\u043d\u0430\u043b\u0438\u0437\u0430 Modbus RTU \u0442\u0440\u0430\u0444\u0438\u043a\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0434\u0435\u043a\u043e\u0434\u0438\u0440\u0443\u0435\u0442 \u0438 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442 \u043f\u0430\u043a\u0435\u0442\u044b \u0432 \u0443\u0434\u043e\u0431\u043d\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435.","date":"2025-08-08T00:00:00.000Z","tags":[{"inline":true,"label":"modbus","permalink":"/recipes/tags/modbus"},{"inline":true,"label":"python","permalink":"/recipes/tags/python"},{"inline":true,"label":"sniffer","permalink":"/recipes/tags/sniffer"},{"inline":true,"label":"debugging","permalink":"/recipes/tags/debugging"},{"inline":true,"label":"serial","permalink":"/recipes/tags/serial"}],"readingTime":2.35,"hasTruncateMarker":false,"authors":[{"name":"dmn","title":"maintainer","url":"https://github.com/dmnovikov","imageURL":"https://avatars.githubusercontent.com/u/17533288?v=4","key":"dmn"}],"frontMatter":{"slug":"modbus-sniffer-python","title":"Python-\u0441\u043d\u0438\u0444\u0444\u0435\u0440 \u0434\u043b\u044f \u0430\u043d\u0430\u043b\u0438\u0437\u0430 Modbus RTU \u0442\u0440\u0430\u0444\u0438\u043a\u0430","authors":"dmn","tags":["modbus","python","sniffer","debugging","serial"],"telegram_id":11},"unlisted":false,"prevItem":{"title":"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f UART \u043d\u0430 \u043c\u043e\u0434\u0443\u043b\u0435 CM4 \u0432 \u0422\u043e\u043a\u043e\u0441\u0431\u043e\u0440\u0449\u0438\u043a\u0435","permalink":"/recipes/cm4-uart-configuration"},"nextItem":{"title":"\u0410\u0434\u0440\u0435\u0441\u0430\u0446\u0438\u044f GPIO \u0432 gpiod \u043d\u0430 \u043f\u0440\u0438\u043c\u0435\u0440\u0435 GPIO2_B4","permalink":"/recipes/gpio-gpiod-addressing"}},"content":"\u041d\u0430\u043f\u0438\u0441\u0430\u043b \\"\u043d\u0430 \u043a\u043e\u043b\u0435\u043d\u043a\u0435\\" \u043f\u043e\u043b\u0435\u0437\u043d\u044b\u0439 \u0441\u043d\u0438\u0444\u0444\u0435\u0440 \u0434\u043b\u044f \u0430\u043d\u0430\u043b\u0438\u0437\u0430 Modbus RTU \u0442\u0440\u0430\u0444\u0438\u043a\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0434\u0435\u043a\u043e\u0434\u0438\u0440\u0443\u0435\u0442 \u0438 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442 \u043f\u0430\u043a\u0435\u0442\u044b \u0432 \u0443\u0434\u043e\u0431\u043d\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435.\\n\\n## \u0418\u0441\u0445\u043e\u0434\u043d\u044b\u0439 \u043a\u043e\u0434\\n\\n`modbus_sniffer_raw_pretty.py`:\\n\\n```python\\n#!/usr/bin/env python3\\n\\"\\"\\"\\nRaw Modbus RTU Sniffer \u2014 listens to a serial port and prints decoded Modbus RTU frames.\\nNow includes decoding of address/count/value for popular function codes.\\n\\"\\"\\"\\n\\nimport serial\\nimport argparse\\nimport time\\nimport logging\\nimport struct\\n\\nlogging.basicConfig()\\nlog = logging.getLogger()\\nlog.setLevel(logging.INFO)\\n\\ndef calculate_crc(data: bytes):\\n    crc = 0xFFFF\\n    for pos in data:\\n        crc ^= pos\\n        for _ in range(8):\\n            lsb = crc & 0x0001\\n            crc >>= 1\\n            if lsb:\\n                crc ^= 0xA001\\n    return crc.to_bytes(2, \'little\')\\n\\ndef validate_crc(frame: bytes):\\n    if len(frame) < 4:\\n        return False\\n    data, received_crc = frame[:-2], frame[-2:]\\n    return calculate_crc(data) == received_crc\\n\\ndef decode_payload(fc, payload):\\n    if fc in [1, 2, 3, 4]:  # Read coils, discrete inputs, HR, IR\\n        if len(payload) >= 4:\\n            address, count = struct.unpack(\\">HH\\", payload[:4])\\n            return f\\"Read | Addr={address} | Count={count}\\"\\n    elif fc in [5, 6]:  # Write single coil/register\\n        if len(payload) >= 4:\\n            address, value = struct.unpack(\\">HH\\", payload[:4])\\n            return f\\"Write Single | Addr={address} | Value={value}\\"\\n    elif fc in [15, 16]:  # Write multiple coils/registers\\n        if len(payload) >= 5:\\n            address, count, byte_count = struct.unpack(\\">HHB\\", payload[:5])\\n            return f\\"Write Multiple | Addr={address} | Count={count} | Bytes={byte_count}\\"\\n    return f\\"Payload: {payload.hex()}\\"\\n\\ndef print_frame_info(frame: bytes):\\n    if not validate_crc(frame):\\n        log.warning(f\\"\u274c Invalid CRC: {frame.hex()}\\")\\n        return\\n    unit_id = frame[0]\\n    function_code = frame[1]\\n    payload = frame[2:-2]\\n    desc = decode_payload(function_code, payload)\\n    log.info(f\\"\ud83d\udce5 Unit={unit_id} | FC={function_code} \u2014 {desc}\\")\\n\\ndef read_frames(ser):\\n    buffer = bytearray()\\n    last_byte_time = time.time()\\n    inter_char_timeout = 0.01\\n    frame_timeout = 0.1\\n\\n    while True:\\n        if ser.in_waiting:\\n            byte = ser.read(1)\\n            now = time.time()\\n            if now - last_byte_time > frame_timeout and buffer:\\n                print_frame_info(bytes(buffer))\\n                buffer.clear()\\n            buffer.append(byte[0])\\n            last_byte_time = now\\n        elif buffer and time.time() - last_byte_time > frame_timeout:\\n            print_frame_info(bytes(buffer))\\n            buffer.clear()\\n        else:\\n            time.sleep(0.005)\\n\\ndef main():\\n    parser = argparse.ArgumentParser(description=\\"Raw Modbus RTU Sniffer with decoding\\")\\n    parser.add_argument(\'--port\', required=True, help=\'Serial port (e.g. /dev/ttyUSB0)\')\\n    parser.add_argument(\'--baudrate\', type=int, default=9600)\\n    parser.add_argument(\'--parity\', choices=[\'N\', \'E\', \'O\'], default=\'N\')\\n    parser.add_argument(\'--stopbits\', type=int, choices=[1, 2], default=1)\\n    args = parser.parse_args()\\n\\n    try:\\n        ser = serial.Serial(\\n            port=args.port,\\n            baudrate=args.baudrate,\\n            parity={\'N\': serial.PARITY_NONE, \'E\': serial.PARITY_EVEN, \'O\': serial.PARITY_ODD}[args.parity],\\n            stopbits=args.stopbits,\\n            bytesize=8,\\n            timeout=0\\n        )\\n        log.info(f\\"\ud83d\udd0d Listening on {args.port} at {args.baudrate} bps...\\")\\n        read_frames(ser)\\n    except Exception as e:\\n        log.error(f\\"Failed to open serial port: {e}\\")\\n\\nif __name__ == \\"__main__\\":\\n    main()\\n```\\n\\n## \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439\\n\\n\u0421\u043a\u0440\u0438\u043f\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443 pyserial:\\n\\n```bash\\npip install pyserial\\n```\\n\\n## \u041f\u0440\u0438\u043c\u0435\u0440 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f\\n\\n```bash\\npython3 modbus_sniffer_raw_pretty.py --baudrate 9600 --port /dev/ttyS9\\n```\\n\\n### \u041f\u0440\u0438\u043c\u0435\u0440 \u0432\u044b\u0432\u043e\u0434\u0430:\\n\\n```\\nINFO:root:\ud83d\udd0d Listening on /dev/ttyS9 at 9600 bps...\\nINFO:root:\ud83d\udce5 Unit=1 | FC=3 \u2014 Read | Addr=0 | Count=1\\nINFO:root:\ud83d\udce5 Unit=1 | FC=3 \u2014 Read | Addr=10 | Count=2\\n```\\n\\n## \u0424\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c\\n\\n- **CRC \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f** \u2014 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442 \u0446\u0435\u043b\u043e\u0441\u0442\u043d\u043e\u0441\u0442\u044c \u043f\u0430\u043a\u0435\u0442\u043e\u0432\\n- **\u0414\u0435\u043a\u043e\u0434\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0439** \u2014 \u0440\u0430\u0441\u043f\u043e\u0437\u043d\u0430\u0435\u0442 \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 Modbus \u0444\u0443\u043d\u043a\u0446\u0438\u0438 (1-6, 15-16)\\n- **\u0422\u0430\u0439\u043c\u0430\u0443\u0442\u044b \u0444\u0440\u0435\u0439\u043c\u043e\u0432** \u2014 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0440\u0430\u0437\u0434\u0435\u043b\u044f\u0435\u0442 \u043f\u0430\u043a\u0435\u0442\u044b \u043f\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u043c \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b\u0430\u043c\\n- **\u0414\u0435\u0442\u0430\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f** \u2014 \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 unit ID, function code, \u0430\u0434\u0440\u0435\u0441\u0430 \u0438 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u043e\u0432\\n\\n\u0421\u043a\u0440\u0438\u043f\u0442 \u0447\u0438\u0442\u0430\u0435\u0442 \u0438 \u0440\u0430\u0441\u043f\u043e\u0437\u043d\u0430\u0435\u0442 \u043f\u0430\u043a\u0435\u0442\u044b Modbus, \u0442\u0440\u0430\u043d\u0441\u043b\u0438\u0440\u0443\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043d\u0430 \u044d\u043a\u0440\u0430\u043d \u0432 \u0443\u0434\u043e\u0431\u043d\u043e\u043c \u0434\u043b\u044f \u0430\u043d\u0430\u043b\u0438\u0437\u0430 \u0444\u043e\u0440\u043c\u0430\u0442\u0435."},{"id":"gpio-gpiod-addressing","metadata":{"permalink":"/recipes/gpio-gpiod-addressing","source":"@site/techblog/2025-07-30-gpio-gpiod-addressing/index.md","title":"\u0410\u0434\u0440\u0435\u0441\u0430\u0446\u0438\u044f GPIO \u0432 gpiod \u043d\u0430 \u043f\u0440\u0438\u043c\u0435\u0440\u0435 GPIO2_B4","description":"\u0420\u0430\u0437\u0431\u0435\u0440\u0435\u043c, \u043a\u0430\u043a \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0430\u0434\u0440\u0435\u0441\u043e\u0432\u0430\u0442\u044c GPIO \u043f\u0438\u043d\u044b \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 gpiod \u043d\u0430 \u043f\u0440\u0438\u043c\u0435\u0440\u0435 GPIO2_B4.","date":"2025-07-30T00:00:00.000Z","tags":[{"inline":true,"label":"gpio","permalink":"/recipes/tags/gpio"},{"inline":true,"label":"gpiod","permalink":"/recipes/tags/gpiod"},{"inline":true,"label":"addressing","permalink":"/recipes/tags/addressing"},{"inline":true,"label":"rockchip","permalink":"/recipes/tags/rockchip"}],"readingTime":0.93,"hasTruncateMarker":false,"authors":[{"name":"dmn","title":"maintainer","url":"https://github.com/dmnovikov","imageURL":"https://avatars.githubusercontent.com/u/17533288?v=4","key":"dmn"}],"frontMatter":{"slug":"gpio-gpiod-addressing","title":"\u0410\u0434\u0440\u0435\u0441\u0430\u0446\u0438\u044f GPIO \u0432 gpiod \u043d\u0430 \u043f\u0440\u0438\u043c\u0435\u0440\u0435 GPIO2_B4","authors":"dmn","tags":["gpio","gpiod","addressing","rockchip"],"telegram_id":8},"unlisted":false,"prevItem":{"title":"Python-\u0441\u043d\u0438\u0444\u0444\u0435\u0440 \u0434\u043b\u044f \u0430\u043d\u0430\u043b\u0438\u0437\u0430 Modbus RTU \u0442\u0440\u0430\u0444\u0438\u043a\u0430","permalink":"/recipes/modbus-sniffer-python"},"nextItem":{"title":"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 UART4 \u0432 NapiLinux","permalink":"/recipes/uart4-napilinux"}},"content":"\u0420\u0430\u0437\u0431\u0435\u0440\u0435\u043c, \u043a\u0430\u043a \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0430\u0434\u0440\u0435\u0441\u043e\u0432\u0430\u0442\u044c GPIO \u043f\u0438\u043d\u044b \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 gpiod \u043d\u0430 \u043f\u0440\u0438\u043c\u0435\u0440\u0435 GPIO2_B4.\\n\\n## \u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0431\u0430\u043d\u043a\u043e\u0432 GPIO\\n\\n\u0412 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 \u0435\u0441\u0442\u044c \u0431\u0430\u043d\u043a\u0438 0-4, \u0433\u0434\u0435 \u043f\u0435\u0440\u0432\u0430\u044f \u0446\u0438\u0444\u0440\u0430 \u043f\u043e\u0441\u043b\u0435 GPIO \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u043d\u0430 \u043d\u043e\u043c\u0435\u0440 \u0431\u0430\u043d\u043a\u0430 (\\"2\\" \u0432 \u043d\u0430\u0448\u0435\u043c \u043f\u0440\u0438\u043c\u0435\u0440\u0435). \u0412 \u043a\u0430\u0436\u0434\u043e\u043c \u0431\u0430\u043d\u043a\u0435 32 \u044f\u0447\u0435\u0439\u043a\u0438.\\n\\n### \u0420\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u044f\u0447\u0435\u0435\u043a \u0432 \u0431\u0430\u043d\u043a\u0435:\\n\\n- **A0-A7** \u2192 0-7\\n- **B0-B7** \u2192 8-15  \\n- **C0-C7** \u2192 16-23\\n- **D0-D7** \u2192 24-31\\n\\n## \u0420\u0430\u0441\u0447\u0435\u0442 \u0430\u0434\u0440\u0435\u0441\u0430\\n\\n\u0414\u043b\u044f **GPIO2_B4**:\\n- \u0411\u0430\u043d\u043a: **2**\\n- \u0413\u0440\u0443\u043f\u043f\u0430: **B** (8-15)\\n- \u041f\u0438\u043d: **4**\\n- \u0418\u0442\u043e\u0433\u043e\u0432\u044b\u0439 \u0430\u0434\u0440\u0435\u0441: **8 + 4 = 12**\\n\\n## \u041a\u043e\u043c\u0430\u043d\u0434\u044b \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 GPIO\\n\\n### \u0427\u0442\u0435\u043d\u0438\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u043f\u0438\u043d\u0430\\n\\n```bash\\ngpioget --numeric -a -c gpiochip2 12\\n```\\n\\n### \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u0438\u043d\u0430\\n\\n```bash\\ngpioset -t 0 -c gpiochip2 12=1\\n```\\n\\n### \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0432\u0441\u0435\u0445 \u0431\u0430\u043d\u043a\u043e\u0432\\n\\n```bash\\ngpiodetect\\n```\\n\\n### \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u0431\u0430\u043d\u043a\u0430\\n\\n```bash\\ngpioinfo -c gpiochip2\\n```\\n\\n## \u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043f\u0440\u0438\u043c\u0435\u0440\\n\\n\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c, \u043d\u0443\u0436\u043d\u043e \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u043f\u0438\u043d\u043e\u043c GPIO1_C3:\\n- \u0411\u0430\u043d\u043a: 1\\n- \u0413\u0440\u0443\u043f\u043f\u0430: C (16-23)\\n- \u041f\u0438\u043d: 3\\n- \u0410\u0434\u0440\u0435\u0441: 16 + 3 = 19\\n\\n```bash\\n# \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0432\u044b\u0441\u043e\u043a\u0438\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c\\ngpioset -c gpiochip1 19=1\\n\\n# \u041f\u0440\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435\\ngpioget -c gpiochip1 19\\n```\\n\\n\u0422\u0430\u043a\u043e\u0439 \u043f\u043e\u0434\u0445\u043e\u0434 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043b\u0435\u0433\u043a\u043e \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0438\u0442\u044c \u0430\u043f\u043f\u0430\u0440\u0430\u0442\u043d\u0443\u044e \u043d\u043e\u0442\u0430\u0446\u0438\u044e GPIO \u0432 \u0430\u0434\u0440\u0435\u0441\u0430 \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 gpiod \u0443\u0442\u0438\u043b\u0438\u0442\u0430\u043c\u0438."},{"id":"uart4-napilinux","metadata":{"permalink":"/recipes/uart4-napilinux","source":"@site/techblog/2025-07-16-uart4-napilinux/index.md","title":"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 UART4 \u0432 NapiLinux","description":"\u0414\u043b\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f UART4 \u0432 NapiLinux \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u043e\u0441\u0442\u044b\u0445 \u0448\u0430\u0433\u043e\u0432.","date":"2025-07-16T00:00:00.000Z","tags":[{"inline":true,"label":"uart","permalink":"/recipes/tags/uart"},{"inline":true,"label":"napilinux","permalink":"/recipes/tags/napilinux"},{"inline":true,"label":"overlay","permalink":"/recipes/tags/overlay"},{"inline":true,"label":"dts","permalink":"/recipes/tags/dts"}],"readingTime":0.63,"hasTruncateMarker":false,"authors":[{"name":"dmn","title":"maintainer","url":"https://github.com/dmnovikov","imageURL":"https://avatars.githubusercontent.com/u/17533288?v=4","key":"dmn"}],"frontMatter":{"slug":"uart4-napilinux","title":"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 UART4 \u0432 NapiLinux","authors":"dmn","tags":["uart","napilinux","overlay","dts"],"telegram_id":6},"unlisted":false,"prevItem":{"title":"\u0410\u0434\u0440\u0435\u0441\u0430\u0446\u0438\u044f GPIO \u0432 gpiod \u043d\u0430 \u043f\u0440\u0438\u043c\u0435\u0440\u0435 GPIO2_B4","permalink":"/recipes/gpio-gpiod-addressing"},"nextItem":{"title":"\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 MQTT \u0434\u0430\u0442\u0447\u0438\u043a\u043e\u0432 \u0447\u0435\u0440\u0435\u0437 Telegraf","permalink":"/recipes/telegraf-mqtt-testing"}},"content":"\u0414\u043b\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f UART4 \u0432 NapiLinux \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u043e\u0441\u0442\u044b\u0445 \u0448\u0430\u0433\u043e\u0432.\\n\\n## \u041f\u043e\u0448\u0430\u0433\u043e\u0432\u0430\u044f \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f\\n\\n### 1. \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0430\u043f\u043a\u0438 \u0434\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0445 \u043e\u0432\u0435\u0440\u043b\u0435\u0435\u0432\\n\\n```bash\\nmkdir -p /boot/overlay-user\\n```\\n\\n### 2. \u0420\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u0430 \u043e\u0432\u0435\u0440\u043b\u0435\u044f\\n\\n\u041f\u043e\u043b\u043e\u0436\u0438\u0442\u0435 \u0432 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u0443\u044e \u043f\u0430\u043f\u043a\u0443 \u0444\u0430\u0439\u043b `rk3308-uart4.dtbo`:\\n\\n```bash\\n# \u0423\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e \u0444\u0430\u0439\u043b \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0432 \u043d\u0443\u0436\u043d\u043e\u043c \u043c\u0435\u0441\u0442\u0435\\nls -la /boot/overlay-user/rk3308-uart4.dtbo\\n```\\n\\n### 3. \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438\\n\\n\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0441\u0442\u0440\u043e\u0447\u043a\u0443 \u0432 \u0444\u0430\u0439\u043b `/boot/uEnv.txt`:\\n\\n```bash\\necho \\"user_overlays=rk3308-uart4\\" >> /boot/uEnv.txt\\n```\\n\\n### 4. \u041f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u0438\u0441\u0442\u0435\u043c\u044b\\n\\n```bash\\nreboot\\n```\\n\\n### 5. \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430\\n\\n\u041f\u043e\u0441\u043b\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u043e \u043f\u043e\u044f\u0432\u0438\u0442\u044c\u0441\u044f \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e `/dev/ttyS4`:\\n\\n```bash\\nls -la /dev/ttyS4\\n```\\n\\n## \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0440\u0430\u0431\u043e\u0442\u043e\u0441\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u0438\\n\\n\u0414\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u0440\u0430\u0431\u043e\u0442\u044b UART4 \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c:\\n\\n```bash\\n# \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u0438 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430\\nstat /dev/ttyS4\\n\\n# \u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445\\necho \\"test\\" > /dev/ttyS4\\n```\\n\\n\u0414\u0430\u043d\u043d\u044b\u0439 \u043c\u0435\u0442\u043e\u0434 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0431\u044b\u0441\u0442\u0440\u043e \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 UART \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 NapiLinux \u0431\u0435\u0437 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u043f\u0435\u0440\u0435\u0441\u0431\u043e\u0440\u043a\u0438 \u044f\u0434\u0440\u0430."},{"id":"telegraf-mqtt-testing","metadata":{"permalink":"/recipes/telegraf-mqtt-testing","source":"@site/techblog/2025-07-02-telegraf-mqtt-testing/index.md","title":"\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 MQTT \u0434\u0430\u0442\u0447\u0438\u043a\u043e\u0432 \u0447\u0435\u0440\u0435\u0437 Telegraf","description":"\u0414\u043b\u044f \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0434\u0430\u0442\u0447\u0438\u043a\u043e\u0432 MQTT \u043d\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u0432\u044b\u0432\u043e\u0434 \u0447\u0435\u0440\u0435\u0437 \u0432\u0435\u0431-\u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441, \u0442\u0430\u043a \u043a\u0430\u043a \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u0438\u0445\u043e\u0434\u044f\u0442 \u043d\u0435 \u0441\u0440\u0430\u0437\u0443. \u041f\u043e\u044d\u0442\u043e\u043c\u0443 \u043b\u0443\u0447\u0448\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u0440\u0443\u0447\u043d\u0443\u044e \u0447\u0435\u0440\u0435\u0437 \u043a\u043e\u043d\u0441\u043e\u043b\u044c.","date":"2025-07-02T00:00:00.000Z","tags":[{"inline":true,"label":"telegraf","permalink":"/recipes/tags/telegraf"},{"inline":true,"label":"mqtt","permalink":"/recipes/tags/mqtt"},{"inline":true,"label":"testing","permalink":"/recipes/tags/testing"},{"inline":true,"label":"sensors","permalink":"/recipes/tags/sensors"},{"inline":true,"label":"debug","permalink":"/recipes/tags/debug"}],"readingTime":0.685,"hasTruncateMarker":false,"authors":[{"name":"dmn","title":"maintainer","url":"https://github.com/dmnovikov","imageURL":"https://avatars.githubusercontent.com/u/17533288?v=4","key":"dmn"}],"frontMatter":{"slug":"telegraf-mqtt-testing","title":"\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 MQTT \u0434\u0430\u0442\u0447\u0438\u043a\u043e\u0432 \u0447\u0435\u0440\u0435\u0437 Telegraf","authors":"dmn","tags":["telegraf","mqtt","testing","sensors","debug"],"telegram_id":5},"unlisted":false,"prevItem":{"title":"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 UART4 \u0432 NapiLinux","permalink":"/recipes/uart4-napilinux"},"nextItem":{"title":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 Mosquitto \u043f\u043e \u043f\u0430\u0440\u043e\u043b\u044e","permalink":"/recipes/mosquitto-password-auth"}},"content":"\u0414\u043b\u044f \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0434\u0430\u0442\u0447\u0438\u043a\u043e\u0432 MQTT \u043d\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u0432\u044b\u0432\u043e\u0434 \u0447\u0435\u0440\u0435\u0437 \u0432\u0435\u0431-\u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441, \u0442\u0430\u043a \u043a\u0430\u043a \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u0438\u0445\u043e\u0434\u044f\u0442 \u043d\u0435 \u0441\u0440\u0430\u0437\u0443. \u041f\u043e\u044d\u0442\u043e\u043c\u0443 \u043b\u0443\u0447\u0448\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u0440\u0443\u0447\u043d\u0443\u044e \u0447\u0435\u0440\u0435\u0437 \u043a\u043e\u043d\u0441\u043e\u043b\u044c.\\n\\n## \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0432\u044b\u0432\u043e\u0434\u0430 \u043d\u0430 \u044d\u043a\u0440\u0430\u043d\\n\\n\u0414\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u0431\u044b\u043b\u043e \u0432\u0438\u0434\u043d\u043e, \u043a\u0430\u043a\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0443\u0432\u0438\u0434\u0435\u043b Telegraf, \u043f\u0435\u0440\u0435\u043d\u0430\u043f\u0440\u0430\u0432\u0438\u043c \u0432\u044b\u0432\u043e\u0434 \u043d\u0430 \u044d\u043a\u0440\u0430\u043d.\\n\\n\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0444\u0430\u0439\u043b `telegraf.conf.out` \u0432 \u043b\u044e\u0431\u043e\u043c \u043c\u0435\u0441\u0442\u0435, \u043d\u043e **\u041d\u0415** \u0432 `/etc/telegraf/telegraf.d` (\u0447\u0442\u043e\u0431\u044b Telegraf \u0435\u0433\u043e \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u043d\u0435 \u043f\u043e\u0434\u0445\u0432\u0430\u0442\u044b\u0432\u0430\u043b):\\n\\n```toml\\n[[outputs.file]]\\n  files = [\\"stdout\\"]\\n  data_format = \\"influx\\"\\n```\\n\\n## \u041a\u043e\u043c\u0430\u043d\u0434\u0430 \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f\\n\\n\u0422\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u043c \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u0439:\\n\\n```bash\\ntelegraf --config /etc/telegraf/telegraf.d/cl-203.conf --config /root/telegraf.conf.out --debug\\n```\\n\\n## \u041f\u0440\u0438\u043c\u0435\u0440 \u0432\u044b\u0432\u043e\u0434\u0430 \u0434\u0430\u043d\u043d\u044b\u0445\\n\\n\u041d\u0430 \u044d\u043a\u0440\u0430\u043d\u0435 \u0431\u0443\u0434\u0443\u0442 \u0432\u0438\u0434\u043d\u044b \u0434\u0430\u043d\u043d\u044b\u0435 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 InfluxDB:\\n\\n```\\nCL213E,host=napi-fearlessporcupine,sensor=CL213E,topic=sensors/CL213E/CO CO=0 1751463487564614267\\nCL213E,host=napi-fearlessporcupine,sensor=CL213E,topic=sensors/CL213E/CO2 CO2=410 1751463487605135529\\nCL213E,host=napi-fearlessporcupine,sensor=CL213E,topic=sensors/CL213E/PM25 PM25=248 1751463487605167843\\nCL213E,host=napi-fearlessporcupine,sensor=CL213E,topic=sensors/CL213E/RH RH=47.6 1751463487605195050\\nCL213E,host=napi-fearlessporcupine,sensor=CL213E,topic=sensors/CL213E/TC TC=24 1751463487605267960\\nCL213E,host=napi-fearlessporcupine,sensor=CL213E,topic=sensors/CL213E/DC DC=12.2 1751463487605276033\\n```\\n\\n\u042d\u0442\u043e\u0442 \u043c\u0435\u0442\u043e\u0434 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0432 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u043c \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0432\u0438\u0434\u0435\u0442\u044c \u0432\u0441\u0435 \u0434\u0430\u043d\u043d\u044b\u0435, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 Telegraf, \u0447\u0442\u043e \u043e\u0447\u0435\u043d\u044c \u0443\u0434\u043e\u0431\u043d\u043e \u0434\u043b\u044f \u043e\u0442\u043b\u0430\u0434\u043a\u0438 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0441\u0442\u0438 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u043c\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e\u0442 MQTT \u0434\u0430\u0442\u0447\u0438\u043a\u043e\u0432."},{"id":"mosquitto-password-auth","metadata":{"permalink":"/recipes/mosquitto-password-auth","source":"@site/techblog/2025-06-30-mosquitto-auth/index.md","title":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 Mosquitto \u043f\u043e \u043f\u0430\u0440\u043e\u043b\u044e","description":"\u0414\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430 Mosquitto \u0441 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u043e\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438 \u043f\u0430\u0440\u043e\u043b\u044f \u043d\u0443\u0436\u043d\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u043e\u0441\u0442\u044b\u0445 \u0448\u0430\u0433\u043e\u0432.","date":"2025-06-30T00:00:00.000Z","tags":[{"inline":true,"label":"mqtt","permalink":"/recipes/tags/mqtt"},{"inline":true,"label":"mosquitto","permalink":"/recipes/tags/mosquitto"},{"inline":true,"label":"auth","permalink":"/recipes/tags/auth"},{"inline":true,"label":"security","permalink":"/recipes/tags/security"}],"readingTime":0.395,"hasTruncateMarker":false,"authors":[{"name":"dmn","title":"maintainer","url":"https://github.com/dmnovikov","imageURL":"https://avatars.githubusercontent.com/u/17533288?v=4","key":"dmn"}],"frontMatter":{"slug":"mosquitto-password-auth","title":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 Mosquitto \u043f\u043e \u043f\u0430\u0440\u043e\u043b\u044e","authors":"dmn","tags":["mqtt","mosquitto","auth","security"]},"unlisted":false,"prevItem":{"title":"\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 MQTT \u0434\u0430\u0442\u0447\u0438\u043a\u043e\u0432 \u0447\u0435\u0440\u0435\u0437 Telegraf","permalink":"/recipes/telegraf-mqtt-testing"},"nextItem":{"title":"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 \u0442\u0435\u0445\u0431\u043b\u043e\u0433!","permalink":"/recipes/welcome-to-techblog"}},"content":"\u0414\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430 Mosquitto \u0441 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u043e\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438 \u043f\u0430\u0440\u043e\u043b\u044f \u043d\u0443\u0436\u043d\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u043e\u0441\u0442\u044b\u0445 \u0448\u0430\u0433\u043e\u0432.\\n\\n## \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u0430 \u043f\u0430\u0440\u043e\u043b\u0435\u0439\\n\\n\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0444\u0430\u0439\u043b \u043f\u0430\u0440\u043e\u043b\u0435\u0439 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0443\u0442\u0438\u043b\u0438\u0442\u044b `mosquitto_passwd`:\\n\\n```bash\\nmosquitto_passwd -c /etc/mosquitto/passwd user\\n```\\n\\n\u041f\u043e\u0441\u043b\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0438\u0442 \u043f\u0430\u0440\u043e\u043b\u044c \u0434\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f `user`.\\n\\n## \u0421\u043c\u0435\u043d\u0430 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 \u0444\u0430\u0439\u043b\u0430\\n\\n\u041c\u0435\u043d\u044f\u0435\u043c \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 \u0444\u0430\u0439\u043b\u0430 \u043d\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f mosquitto:\\n\\n```bash\\nchown mosquitto /etc/mosquitto/passwd\\n```\\n\\n## \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f Mosquitto\\n\\n\u041f\u0440\u043e\u0441\u0442\u0435\u0439\u0448\u0438\u0439 \u043a\u043e\u043d\u0444\u0438\u0433 \u0434\u043b\u044f \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438:\\n\\n```conf\\nallow_anonymous false\\npassword_file /etc/mosquitto/passwd\\n```\\n\\n\u041f\u043e\u0441\u043b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u044d\u0442\u0438\u0445 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a Mosquitto \u0431\u0443\u0434\u0435\u0442 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u0442\u044c \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044e \u0434\u043b\u044f \u0432\u0441\u0435\u0445 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439."},{"id":"welcome-to-techblog","metadata":{"permalink":"/recipes/welcome-to-techblog","source":"@site/techblog/2025-06-01-welcome/index.md","title":"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 \u0442\u0435\u0445\u0431\u043b\u043e\u0433!","description":"\u042d\u0442\u043e \u043d\u043e\u0432\u044b\u0439 \u0442\u0435\u0445\u0431\u043b\u043e\u0433 \u0434\u043b\u044f \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0437\u0430\u043c\u0435\u0442\u043e\u043a \u0438 \u0440\u0435\u0448\u0435\u043d\u0438\u0439! \ud83c\udfaf","date":"2025-06-01T00:00:00.000Z","tags":[{"inline":true,"label":"welcome","permalink":"/recipes/tags/welcome"},{"inline":true,"label":"tech-notes","permalink":"/recipes/tags/tech-notes"}],"readingTime":0.455,"hasTruncateMarker":false,"authors":[{"name":"dmn","title":"maintainer","url":"https://github.com/dmnovikov","imageURL":"https://avatars.githubusercontent.com/u/17533288?v=4","key":"dmn"}],"frontMatter":{"slug":"welcome-to-techblog","title":"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 \u0442\u0435\u0445\u0431\u043b\u043e\u0433!","authors":"dmn","tags":["welcome","tech-notes"]},"unlisted":false,"prevItem":{"title":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 Mosquitto \u043f\u043e \u043f\u0430\u0440\u043e\u043b\u044e","permalink":"/recipes/mosquitto-password-auth"}},"content":"\u042d\u0442\u043e \u043d\u043e\u0432\u044b\u0439 \u0442\u0435\u0445\u0431\u043b\u043e\u0433 \u0434\u043b\u044f \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0437\u0430\u043c\u0435\u0442\u043e\u043a \u0438 \u0440\u0435\u0448\u0435\u043d\u0438\u0439! \ud83c\udfaf\\n\\n\u0420\u0430\u0437\u0434\u0435\u043b \u043e\u0441\u043d\u043e\u0432\u0430\u043d \u043d\u0430 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430\u0445 \u0438\u0437 Telegram \u043a\u0430\u043d\u0430\u043b\u0430 [t.me/napilab](https://t.me/napilab) \u0438 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u043d\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f.\\n\\n\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0443\u0442 \u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c\u0441\u044f:\\n- \u0411\u044b\u0441\u0442\u0440\u044b\u0435 \u0442\u0435\u0445\u0437\u0430\u043c\u0435\u0442\u043a\u0438 \u0438\u0437 Telegram \u043a\u0430\u043d\u0430\u043b\u0430\\n- \u0420\u0435\u0448\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0431\u043b\u0435\u043c \u0438 troubleshooting\\n- \u041f\u043e\u043b\u0435\u0437\u043d\u044b\u0435 \u0441\u043a\u0440\u0438\u043f\u0442\u044b \u0438 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u044f\\n- \u0421\u043e\u0432\u0435\u0442\u044b \u043f\u043e \u0440\u0430\u0431\u043e\u0442\u0435 \u0441 Linux \u0438 embedded \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430\u043c\u0438\\n\\n\u041e\u0442\u043b\u0438\u0447\u0438\u0435 \u043e\u0442 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0433\u043e \u0431\u043b\u043e\u0433\u0430 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439:\\n- **\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0431\u043b\u043e\u0433** - \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u043d\u043e\u0432\u043e\u0441\u0442\u0438, \u0430\u043d\u043e\u043d\u0441\u044b \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432, \u0432\u044b\u0441\u0442\u0430\u0432\u043a\u0438\\n- **\u0422\u0435\u0445\u0431\u043b\u043e\u0433** - \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0437\u0430\u043c\u0435\u0442\u043a\u0438, \u0440\u0435\u0448\u0435\u043d\u0438\u044f, quick tips\\n\\n\u041f\u0440\u0438\u043c\u0435\u0440 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f:\\n1. \u0421\u043a\u043e\u043f\u0438\u0440\u0443\u0439\u0442\u0435 \u0437\u0430\u043c\u0435\u0442\u043a\u0443 \u0438\u0437 Telegram\\n2. \u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0444\u0430\u0439\u043b \u0432 \u043f\u0430\u043f\u043a\u0435 `techblog/`\\n3. \u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435 \u0442\u0435\u0433\u0438\\n4. \u041e\u043f\u0443\u0431\u043b\u0438\u043a\u0443\u0439\u0442\u0435!"}]}}')}}]);