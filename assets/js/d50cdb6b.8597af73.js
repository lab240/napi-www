"use strict";(self.webpackChunknapi_www=self.webpackChunknapi_www||[]).push([[2023],{25485:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>s,default:()=>u,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var r=t(74848),a=t(28453);const i={slug:"rs485-uart1-overlay",title:"Overlay \u0434\u043b\u044f RS485 \u043d\u0430 UART1 \u0441 GPIO \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435\u043c \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f",authors:"dmn",tags:["rs485","uart","overlay","gpio","napi-c"],telegram_id:29},s=void 0,l={permalink:"/recipes/rs485-uart1-overlay",source:"@site/techblog/2025-11-29-rs485-uart1-overlay/index.md",title:"Overlay \u0434\u043b\u044f RS485 \u043d\u0430 UART1 \u0441 GPIO \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435\u043c \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f",description:"\u041e\u0432\u0435\u0440\u043b\u0435\u0439 \u0434\u043b\u044f RS485 \u043d\u0430 UART1",date:"2025-11-29T00:00:00.000Z",tags:[{inline:!0,label:"rs485",permalink:"/recipes/tags/rs-485"},{inline:!0,label:"uart",permalink:"/recipes/tags/uart"},{inline:!0,label:"overlay",permalink:"/recipes/tags/overlay"},{inline:!0,label:"gpio",permalink:"/recipes/tags/gpio"},{inline:!0,label:"napi-c",permalink:"/recipes/tags/napi-c"}],readingTime:.335,hasTruncateMarker:!1,authors:[{name:"dmn",title:"maintainer",url:"https://github.com/dmnovikov",imageURL:"https://avatars.githubusercontent.com/u/17533288?v=4",key:"dmn"}],frontMatter:{slug:"rs485-uart1-overlay",title:"Overlay \u0434\u043b\u044f RS485 \u043d\u0430 UART1 \u0441 GPIO \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435\u043c \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f",authors:"dmn",tags:["rs485","uart","overlay","gpio","napi-c"],telegram_id:29},unlisted:!1,prevItem:{title:"\u0414\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a\u0430 \u0437\u0430\u043d\u044f\u0442\u043e\u0441\u0442\u0438 GPIO \u043f\u0438\u043d\u043e\u0432 \u0432 Linux",permalink:"/recipes/gpio-pinmux-debug"},nextItem:{title:"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e DTS \u0438\u0437 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b",permalink:"/recipes/extract-running-dts"}},o={authorsImageUrls:[void 0]},c=[{value:"\u041e\u0432\u0435\u0440\u043b\u0435\u0439 \u0434\u043b\u044f RS485 \u043d\u0430 UART1",id:"\u043e\u0432\u0435\u0440\u043b\u0435\u0439-\u0434\u043b\u044f-rs485-\u043d\u0430-uart1",level:2},{value:"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f DTS",id:"\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f-dts",level:3}];function p(e){const n={code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"\u043e\u0432\u0435\u0440\u043b\u0435\u0439-\u0434\u043b\u044f-rs485-\u043d\u0430-uart1",children:"\u041e\u0432\u0435\u0440\u043b\u0435\u0439 \u0434\u043b\u044f RS485 \u043d\u0430 UART1"}),"\n",(0,r.jsx)(n.p,{children:"\u041e\u0432\u0435\u0440\u043b\u0435\u0439 \u0434\u043b\u044f RS485 \u043d\u0430 UART1 (Napi-C) c \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0435\u043c \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0447\u0435\u0440\u0435\u0437 GPIO (DE=GPIO2_B4)"}),"\n",(0,r.jsx)(n.h3,{id:"\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f-dts",children:"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f DTS"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"root@rockpi-s:~/S3# cat uart1-de.dts\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dts",children:'/dts-v1/;\n/plugin/;\n\n/ {\n  compatible = "rockchip,rk3308";\n\n  fragment@0 {\n    target = <&uart1>;\n    __overlay__ {\n      status = "okay";\n\n      pinctrl-names = "default";\n      pinctrl-0 = <&uart1_xfer>;\n\n      linux,rs485-enabled-at-boot-time;\n      rs485-rts-active-high;\n      rs485-rts-delay = <0 0>;\n      rts-gpios = <&gpio2 12 0>;\n    };\n  };\n};\n'})}),"\n",(0,r.jsx)(n.p,{children:"#rs485 #napic"})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>l});var r=t(96540);const a={},i=r.createContext(a);function s(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);