---
sidebar_position: 11
---

# Демокит1 "Компакт"

![](img-compact/demobox1.jpg)

## Состав

- Сборщик-компакт с ARMbian 1шт
- MicroSD карта 32Гб c NapiLinux 1шт
- USB флешка с готовыми образами Armbian и NapiLinux 1шт
- Консоль USB-UART 1шт
- Кабель USB-A - USB type-c 1шт
- POE Passive преобразователь

## Начало работы

1. Подсоединить Ethernet кабель
   
2. Подсоединить питание к Сборщику (постоянное напряжение 9-36В) или подсоединить питание к преобразователю POE.
   
3. Убедиться, что светодиод "питание" горит зеленым

4. Загрузка Сборщика пойдет автоматически.
   
5. Если в сети есть DHCP сервер, то сборщик запросит и получит IP-настройки с сервера. Какие настройки он получил можно посмотреть на сервере (роутере). Далее можно зайти на сборщик по ssh (`ssh root@ip`). Пароль: napilinux.
   
6. Вы увидите консоль системы ARMBian. Поздравляем, можно начинать работать.

![](img-compact/armbian-console.jpg)

## Загрузка NapiLinux

:::tip

Так как NapiLinux не дистрибутив общего назначения, то мы его предлагаем для ознакомления и демонстрации возможностей NapiConfig.

:::

1. Отключите питание
2. Открутите винт
3. Отщелкните держатель SD
4. Вставьте SD (короткое видео)
5. Подключите питание (можно корпус оставить открытым)
6. Система должна загрузиться с SD в NapiLinux
   
> Как получить доступ к системе после загрузки NapiLinux: https://napilinux.ru/docs/access


## NapiConfig

- Веб интерфейс доступен по IP из броузера: http://ip:8081
- Апдейт системы: http://ip:8082

Скриншоты и краткое описание NapiConfig:  https://napilinux.ru/napiConfig

## Как прошить имидж в NAND

1. Загрузитесь с SD (в нашем случае загрузится NapiLinux)
2. Зайдите по SSH или через Консоль на Сборщик.
3. Вставьте Флешку в слот USB
4. Выполните команду
   
   ```bash
   mount /dev/sda1 /mnt
   ```
5. Перейдите в каталог /mnt и убедитесь что видите файлы с имиджами
   
    ```bash
    cd /mnt
    ls /mnt
    ```

6. Выбираем какой файл хотим прошить и зашиваем
   
   :bomb: Все данные на NAND будут затерты новой прошивкой !
   
   ```bash
    dd if=<файл.img> of=/dev/mmcblk0 status=progress
   ```
   Вы увидеть процесс прошивки (около 20 минут), дождитесь завершения !
7. Отмонтируйте флешку `umount /mnt`
8. Отключите питание
9.  Выньте SD из слота
10. Включите Сборщик
11. Сборщик должен загрузиться с NAND с новой прошивкой.

Так вы можете поставить чистую прошивку NapiLinux или Armbian

## Как сделать бекап NAND

1. Выполните пункты 1-5 раздела "Как прошить имидж в NAND"
2. Выполняем бекап

```bash
dd if=/dev/mmcblk0 of=/mnt/backup-01.img status=progress
```
3. На в флешке будет новый файл с образом NAND. Убедитесь командой `ls /mnt`

:boom: Если хотите сохранить предыдущие бекапы, меняйте имя файла

4. Отмонтируйте флешку командой

```bash
umount /mnt
```

## Ссылки и инструкции

1. NapiLinux - http://napilinux.ru
   
2. Все о Сборщик Компакт на одной странице: https://napiworld.ru/docs/frontcontrol-compact
   
3. Все о модуле Napi C: https://napiworld.ru/docs/napi-intro
   
4. Сборка NapiLinux из исходников: https://napilinux.ru/docs/biuld-base
   
5. Видео снятия крышки и установки SD: https://youtube.com/shorts/Lm_XV_x1xTE?feature=share
   
6. Интерфейс NapiConfig: https://napilinux.ru/napiConfig