---
sidebar_position: 55
---

# Опрос и логгирование датчиков по Modbus.

## Введение

> Эта инструкция подходит для любого Сборщика

В этой статье мы научимся писать конфигурации опроса для Modbus датчиков. 

1. Построим конфигурационный файл опроса регистров
2. Убедимся что опрос датчика осуществляется, а данные пишуться в базу данных.

Мы будем основываться на том, что мы совершаем все действия на устройстве с RS485м портом, Ethernet и установленной NapiLinux (где уже предустановлен telegraf, influxdb2, NapiConfig)

Для любого датчика, мы должны знать

- modbus адрес устройства
- список и тип регистров, которые можно прочесть из датчика

## Часть 1. Modbus TCP.

Опросим наш датчик по Modbus TCP. Мы должны знать IP адрес опрашиваемого устройства. 

>Если на нашем Сборщике работает сервис шлюза ModbusRTU - ModbusTCP, то мы будем опрашивать адрес 127.0.0.1

### 
