---
slug: gpio-gpiod-addressing
title: Адресация GPIO в gpiod на примере GPIO2_B4
authors: dmn
tags: [gpio, gpiod, addressing, rockchip]
telegram_id: 8
---

Разберем, как правильно адресовать GPIO пины в системе gpiod на примере GPIO2_B4.

## Структура банков GPIO

В системе есть банки 0-4, где первая цифра после GPIO указывает на номер банка ("2" в нашем примере). В каждом банке 32 ячейки.

### Распределение ячеек в банке:

- **A0-A7** → 0-7
- **B0-B7** → 8-15  
- **C0-C7** → 16-23
- **D0-D7** → 24-31

## Расчет адреса

Для **GPIO2_B4**:
- Банк: **2**
- Группа: **B** (8-15)
- Пин: **4**
- Итоговый адрес: **8 + 4 = 12**

## Команды для работы с GPIO

### Чтение состояния пина

```bash
gpioget --numeric -a -c gpiochip2 12
```

### Установка значения пина

```bash
gpioset -t 0 -c gpiochip2 12=1
```

### Просмотр всех банков

```bash
gpiodetect
```

### Просмотр конкретного банка

```bash
gpioinfo -c gpiochip2
```

## Практический пример

Допустим, нужно управлять пином GPIO1_C3:
- Банк: 1
- Группа: C (16-23)
- Пин: 3
- Адрес: 16 + 3 = 19

```bash
# Установить высокий уровень
gpioset -c gpiochip1 19=1

# Прочитать состояние
gpioget -c gpiochip1 19
```

Такой подход позволяет легко переводить аппаратную нотацию GPIO в адреса для работы с gpiod утилитами.